(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function r(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerPolicy&&(d.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?d.credentials="include":u.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(u){if(u.ep)return;u.ep=!0;const d=r(u);fetch(u.href,d)}})();function By(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var $u={exports:{}},ps={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zm;function W0(){if(zm)return ps;zm=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function r(l,u,d){var f=null;if(d!==void 0&&(f=""+d),u.key!==void 0&&(f=""+u.key),"key"in u){d={};for(var m in u)m!=="key"&&(d[m]=u[m])}else d=u;return u=d.ref,{$$typeof:i,type:l,key:f,ref:u!==void 0?u:null,props:d}}return ps.Fragment=n,ps.jsx=r,ps.jsxs=r,ps}var Bm;function e_(){return Bm||(Bm=1,$u.exports=W0()),$u.exports}var g=e_(),Yu={exports:{}},le={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hm;function t_(){if(Hm)return le;Hm=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),T=Symbol.iterator;function b(x){return x===null||typeof x!="object"?null:(x=T&&x[T]||x["@@iterator"],typeof x=="function"?x:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,O={};function L(x,B,V){this.props=x,this.context=B,this.refs=O,this.updater=V||E}L.prototype.isReactComponent={},L.prototype.setState=function(x,B){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,B,"setState")},L.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function G(){}G.prototype=L.prototype;function H(x,B,V){this.props=x,this.context=B,this.refs=O,this.updater=V||E}var K=H.prototype=new G;K.constructor=H,R(K,L.prototype),K.isPureReactComponent=!0;var fe=Array.isArray;function ne(){}var X={H:null,A:null,T:null,S:null},oe=Object.prototype.hasOwnProperty;function de(x,B,V){var $=V.ref;return{$$typeof:i,type:x,key:B,ref:$!==void 0?$:null,props:V}}function Pt(x,B){return de(x.type,B,x.props)}function mt(x){return typeof x=="object"&&x!==null&&x.$$typeof===i}function Ve(x){var B={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(V){return B[V]})}var St=/\/+/g;function ut(x,B){return typeof x=="object"&&x!==null&&x.key!=null?Ve(""+x.key):B.toString(36)}function Ze(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(ne,ne):(x.status="pending",x.then(function(B){x.status==="pending"&&(x.status="fulfilled",x.value=B)},function(B){x.status==="pending"&&(x.status="rejected",x.reason=B)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function I(x,B,V,$,ae){var Y=typeof x;(Y==="undefined"||Y==="boolean")&&(x=null);var P=!1;if(x===null)P=!0;else switch(Y){case"bigint":case"string":case"number":P=!0;break;case"object":switch(x.$$typeof){case i:case n:P=!0;break;case _:return P=x._init,I(P(x._payload),B,V,$,ae)}}if(P)return ae=ae(x),P=$===""?"."+ut(x,0):$,fe(ae)?(V="",P!=null&&(V=P.replace(St,"$&/")+"/"),I(ae,B,V,"",function(He){return He})):ae!=null&&(mt(ae)&&(ae=Pt(ae,V+(ae.key==null||x&&x.key===ae.key?"":(""+ae.key).replace(St,"$&/")+"/")+P)),B.push(ae)),1;P=0;var ie=$===""?".":$+":";if(fe(x))for(var ge=0;ge<x.length;ge++)$=x[ge],Y=ie+ut($,ge),P+=I($,B,V,Y,ae);else if(ge=b(x),typeof ge=="function")for(x=ge.call(x),ge=0;!($=x.next()).done;)$=$.value,Y=ie+ut($,ge++),P+=I($,B,V,Y,ae);else if(Y==="object"){if(typeof x.then=="function")return I(Ze(x),B,V,$,ae);throw B=String(x),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return P}function q(x,B,V){if(x==null)return x;var $=[],ae=0;return I(x,$,"","",function(Y){return B.call(V,Y,ae++)}),$}function ee(x){if(x._status===-1){var B=x._result;B=B(),B.then(function(V){(x._status===0||x._status===-1)&&(x._status=1,x._result=V)},function(V){(x._status===0||x._status===-1)&&(x._status=2,x._result=V)}),x._status===-1&&(x._status=0,x._result=B)}if(x._status===1)return x._result.default;throw x._result}var Se=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},Te={map:q,forEach:function(x,B,V){q(x,function(){B.apply(this,arguments)},V)},count:function(x){var B=0;return q(x,function(){B++}),B},toArray:function(x){return q(x,function(B){return B})||[]},only:function(x){if(!mt(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return le.Activity=S,le.Children=Te,le.Component=L,le.Fragment=r,le.Profiler=u,le.PureComponent=H,le.StrictMode=l,le.Suspense=y,le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,le.__COMPILER_RUNTIME={__proto__:null,c:function(x){return X.H.useMemoCache(x)}},le.cache=function(x){return function(){return x.apply(null,arguments)}},le.cacheSignal=function(){return null},le.cloneElement=function(x,B,V){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var $=R({},x.props),ae=x.key;if(B!=null)for(Y in B.key!==void 0&&(ae=""+B.key),B)!oe.call(B,Y)||Y==="key"||Y==="__self"||Y==="__source"||Y==="ref"&&B.ref===void 0||($[Y]=B[Y]);var Y=arguments.length-2;if(Y===1)$.children=V;else if(1<Y){for(var P=Array(Y),ie=0;ie<Y;ie++)P[ie]=arguments[ie+2];$.children=P}return de(x.type,ae,$)},le.createContext=function(x){return x={$$typeof:f,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:d,_context:x},x},le.createElement=function(x,B,V){var $,ae={},Y=null;if(B!=null)for($ in B.key!==void 0&&(Y=""+B.key),B)oe.call(B,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(ae[$]=B[$]);var P=arguments.length-2;if(P===1)ae.children=V;else if(1<P){for(var ie=Array(P),ge=0;ge<P;ge++)ie[ge]=arguments[ge+2];ae.children=ie}if(x&&x.defaultProps)for($ in P=x.defaultProps,P)ae[$]===void 0&&(ae[$]=P[$]);return de(x,Y,ae)},le.createRef=function(){return{current:null}},le.forwardRef=function(x){return{$$typeof:m,render:x}},le.isValidElement=mt,le.lazy=function(x){return{$$typeof:_,_payload:{_status:-1,_result:x},_init:ee}},le.memo=function(x,B){return{$$typeof:v,type:x,compare:B===void 0?null:B}},le.startTransition=function(x){var B=X.T,V={};X.T=V;try{var $=x(),ae=X.S;ae!==null&&ae(V,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(ne,Se)}catch(Y){Se(Y)}finally{B!==null&&V.types!==null&&(B.types=V.types),X.T=B}},le.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},le.use=function(x){return X.H.use(x)},le.useActionState=function(x,B,V){return X.H.useActionState(x,B,V)},le.useCallback=function(x,B){return X.H.useCallback(x,B)},le.useContext=function(x){return X.H.useContext(x)},le.useDebugValue=function(){},le.useDeferredValue=function(x,B){return X.H.useDeferredValue(x,B)},le.useEffect=function(x,B){return X.H.useEffect(x,B)},le.useEffectEvent=function(x){return X.H.useEffectEvent(x)},le.useId=function(){return X.H.useId()},le.useImperativeHandle=function(x,B,V){return X.H.useImperativeHandle(x,B,V)},le.useInsertionEffect=function(x,B){return X.H.useInsertionEffect(x,B)},le.useLayoutEffect=function(x,B){return X.H.useLayoutEffect(x,B)},le.useMemo=function(x,B){return X.H.useMemo(x,B)},le.useOptimistic=function(x,B){return X.H.useOptimistic(x,B)},le.useReducer=function(x,B,V){return X.H.useReducer(x,B,V)},le.useRef=function(x){return X.H.useRef(x)},le.useState=function(x){return X.H.useState(x)},le.useSyncExternalStore=function(x,B,V){return X.H.useSyncExternalStore(x,B,V)},le.useTransition=function(){return X.H.useTransition()},le.version="19.2.4",le}var Gm;function Cc(){return Gm||(Gm=1,Yu.exports=t_()),Yu.exports}var W=Cc();const n_=By(W);var Ku={exports:{}},_s={},Pu={exports:{}},Ju={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qm;function a_(){return qm||(qm=1,(function(i){function n(I,q){var ee=I.length;I.push(q);e:for(;0<ee;){var Se=ee-1>>>1,Te=I[Se];if(0<u(Te,q))I[Se]=q,I[ee]=Te,ee=Se;else break e}}function r(I){return I.length===0?null:I[0]}function l(I){if(I.length===0)return null;var q=I[0],ee=I.pop();if(ee!==q){I[0]=ee;e:for(var Se=0,Te=I.length,x=Te>>>1;Se<x;){var B=2*(Se+1)-1,V=I[B],$=B+1,ae=I[$];if(0>u(V,ee))$<Te&&0>u(ae,V)?(I[Se]=ae,I[$]=ee,Se=$):(I[Se]=V,I[B]=ee,Se=B);else if($<Te&&0>u(ae,ee))I[Se]=ae,I[$]=ee,Se=$;else break e}}return q}function u(I,q){var ee=I.sortIndex-q.sortIndex;return ee!==0?ee:I.id-q.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;i.unstable_now=function(){return d.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var y=[],v=[],_=1,S=null,T=3,b=!1,E=!1,R=!1,O=!1,L=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function K(I){for(var q=r(v);q!==null;){if(q.callback===null)l(v);else if(q.startTime<=I)l(v),q.sortIndex=q.expirationTime,n(y,q);else break;q=r(v)}}function fe(I){if(R=!1,K(I),!E)if(r(y)!==null)E=!0,ne||(ne=!0,Ve());else{var q=r(v);q!==null&&Ze(fe,q.startTime-I)}}var ne=!1,X=-1,oe=5,de=-1;function Pt(){return O?!0:!(i.unstable_now()-de<oe)}function mt(){if(O=!1,ne){var I=i.unstable_now();de=I;var q=!0;try{e:{E=!1,R&&(R=!1,G(X),X=-1),b=!0;var ee=T;try{t:{for(K(I),S=r(y);S!==null&&!(S.expirationTime>I&&Pt());){var Se=S.callback;if(typeof Se=="function"){S.callback=null,T=S.priorityLevel;var Te=Se(S.expirationTime<=I);if(I=i.unstable_now(),typeof Te=="function"){S.callback=Te,K(I),q=!0;break t}S===r(y)&&l(y),K(I)}else l(y);S=r(y)}if(S!==null)q=!0;else{var x=r(v);x!==null&&Ze(fe,x.startTime-I),q=!1}}break e}finally{S=null,T=ee,b=!1}q=void 0}}finally{q?Ve():ne=!1}}}var Ve;if(typeof H=="function")Ve=function(){H(mt)};else if(typeof MessageChannel<"u"){var St=new MessageChannel,ut=St.port2;St.port1.onmessage=mt,Ve=function(){ut.postMessage(null)}}else Ve=function(){L(mt,0)};function Ze(I,q){X=L(function(){I(i.unstable_now())},q)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(I){I.callback=null},i.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):oe=0<I?Math.floor(1e3/I):5},i.unstable_getCurrentPriorityLevel=function(){return T},i.unstable_next=function(I){switch(T){case 1:case 2:case 3:var q=3;break;default:q=T}var ee=T;T=q;try{return I()}finally{T=ee}},i.unstable_requestPaint=function(){O=!0},i.unstable_runWithPriority=function(I,q){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var ee=T;T=I;try{return q()}finally{T=ee}},i.unstable_scheduleCallback=function(I,q,ee){var Se=i.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?Se+ee:Se):ee=Se,I){case 1:var Te=-1;break;case 2:Te=250;break;case 5:Te=1073741823;break;case 4:Te=1e4;break;default:Te=5e3}return Te=ee+Te,I={id:_++,callback:q,priorityLevel:I,startTime:ee,expirationTime:Te,sortIndex:-1},ee>Se?(I.sortIndex=ee,n(v,I),r(y)===null&&I===r(v)&&(R?(G(X),X=-1):R=!0,Ze(fe,ee-Se))):(I.sortIndex=Te,n(y,I),E||b||(E=!0,ne||(ne=!0,Ve()))),I},i.unstable_shouldYield=Pt,i.unstable_wrapCallback=function(I){var q=T;return function(){var ee=T;T=q;try{return I.apply(this,arguments)}finally{T=ee}}}})(Ju)),Ju}var Vm;function i_(){return Vm||(Vm=1,Pu.exports=a_()),Pu.exports}var Xu={exports:{}},ct={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $m;function s_(){if($m)return ct;$m=1;var i=Cc();function n(y){var v="https://react.dev/errors/"+y;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)v+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+y+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var l={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},u=Symbol.for("react.portal");function d(y,v,_){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:S==null?null:""+S,children:y,containerInfo:v,implementation:_}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,v){if(y==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return ct.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,ct.createPortal=function(y,v){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(n(299));return d(y,v,null,_)},ct.flushSync=function(y){var v=f.T,_=l.p;try{if(f.T=null,l.p=2,y)return y()}finally{f.T=v,l.p=_,l.d.f()}},ct.preconnect=function(y,v){typeof y=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,l.d.C(y,v))},ct.prefetchDNS=function(y){typeof y=="string"&&l.d.D(y)},ct.preinit=function(y,v){if(typeof y=="string"&&v&&typeof v.as=="string"){var _=v.as,S=m(_,v.crossOrigin),T=typeof v.integrity=="string"?v.integrity:void 0,b=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;_==="style"?l.d.S(y,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:S,integrity:T,fetchPriority:b}):_==="script"&&l.d.X(y,{crossOrigin:S,integrity:T,fetchPriority:b,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},ct.preinitModule=function(y,v){if(typeof y=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var _=m(v.as,v.crossOrigin);l.d.M(y,{crossOrigin:_,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&l.d.M(y)},ct.preload=function(y,v){if(typeof y=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var _=v.as,S=m(_,v.crossOrigin);l.d.L(y,_,{crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},ct.preloadModule=function(y,v){if(typeof y=="string")if(v){var _=m(v.as,v.crossOrigin);l.d.m(y,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:_,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else l.d.m(y)},ct.requestFormReset=function(y){l.d.r(y)},ct.unstable_batchedUpdates=function(y,v){return y(v)},ct.useFormState=function(y,v,_){return f.H.useFormState(y,v,_)},ct.useFormStatus=function(){return f.H.useHostTransitionStatus()},ct.version="19.2.4",ct}var Ym;function r_(){if(Ym)return Xu.exports;Ym=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),Xu.exports=s_(),Xu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Km;function l_(){if(Km)return _s;Km=1;var i=i_(),n=Cc(),r=r_();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(d(e)!==e)throw Error(l(188))}function v(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(l(188));return t!==e?null:e}for(var a=e,s=t;;){var o=a.return;if(o===null)break;var c=o.alternate;if(c===null){if(s=o.return,s!==null){a=s;continue}break}if(o.child===c.child){for(c=o.child;c;){if(c===a)return y(o),e;if(c===s)return y(o),t;c=c.sibling}throw Error(l(188))}if(a.return!==s.return)a=o,s=c;else{for(var h=!1,p=o.child;p;){if(p===a){h=!0,a=o,s=c;break}if(p===s){h=!0,s=o,a=c;break}p=p.sibling}if(!h){for(p=c.child;p;){if(p===a){h=!0,a=c,s=o;break}if(p===s){h=!0,s=c,a=o;break}p=p.sibling}if(!h)throw Error(l(189))}}if(a.alternate!==s)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?e:t}function _(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=_(e),t!==null)return t;e=e.sibling}return null}var S=Object.assign,T=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),G=Symbol.for("react.consumer"),H=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),de=Symbol.for("react.activity"),Pt=Symbol.for("react.memo_cache_sentinel"),mt=Symbol.iterator;function Ve(e){return e===null||typeof e!="object"?null:(e=mt&&e[mt]||e["@@iterator"],typeof e=="function"?e:null)}var St=Symbol.for("react.client.reference");function ut(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===St?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case R:return"Fragment";case L:return"Profiler";case O:return"StrictMode";case fe:return"Suspense";case ne:return"SuspenseList";case de:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case E:return"Portal";case H:return e.displayName||"Context";case G:return(e._context.displayName||"Context")+".Consumer";case K:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case X:return t=e.displayName||null,t!==null?t:ut(e.type)||"Memo";case oe:t=e._payload,e=e._init;try{return ut(e(t))}catch{}}return null}var Ze=Array.isArray,I=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},Se=[],Te=-1;function x(e){return{current:e}}function B(e){0>Te||(e.current=Se[Te],Se[Te]=null,Te--)}function V(e,t){Te++,Se[Te]=e.current,e.current=t}var $=x(null),ae=x(null),Y=x(null),P=x(null);function ie(e,t){switch(V(Y,t),V(ae,e),V($,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?lm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=lm(t),e=om(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B($),V($,e)}function ge(){B($),B(ae),B(Y)}function He(e){e.memoizedState!==null&&V(P,e);var t=$.current,a=om(t,e.type);t!==a&&(V(ae,e),V($,a))}function sn(e){ae.current===e&&(B($),B(ae)),P.current===e&&(B(P),ms._currentValue=ee)}var Mt,Ai;function rn(e){if(Mt===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Mt=t&&t[1]||"",Ai=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Mt+e+Ai}var xl=!1;function Ol(e,t){if(!e||xl)return"";xl=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var z=function(){throw Error()};if(Object.defineProperty(z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(z,[])}catch(U){var D=U}Reflect.construct(e,[],z)}else{try{z.call()}catch(U){D=U}e.call(z.prototype)}}else{try{throw Error()}catch(U){D=U}(z=e())&&typeof z.catch=="function"&&z.catch(function(){})}}catch(U){if(U&&D&&typeof U.stack=="string")return[U.stack,D.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=s.DetermineComponentFrameRoot(),h=c[0],p=c[1];if(h&&p){var w=h.split(`
`),j=p.split(`
`);for(o=s=0;s<w.length&&!w[s].includes("DetermineComponentFrameRoot");)s++;for(;o<j.length&&!j[o].includes("DetermineComponentFrameRoot");)o++;if(s===w.length||o===j.length)for(s=w.length-1,o=j.length-1;1<=s&&0<=o&&w[s]!==j[o];)o--;for(;1<=s&&0<=o;s--,o--)if(w[s]!==j[o]){if(s!==1||o!==1)do if(s--,o--,0>o||w[s]!==j[o]){var M=`
`+w[s].replace(" at new "," at ");return e.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",e.displayName)),M}while(1<=s&&0<=o);break}}}finally{xl=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?rn(a):""}function Cg(e,t){switch(e.tag){case 26:case 27:case 5:return rn(e.type);case 16:return rn("Lazy");case 13:return e.child!==t&&t!==null?rn("Suspense Fallback"):rn("Suspense");case 19:return rn("SuspenseList");case 0:case 15:return Ol(e.type,!1);case 11:return Ol(e.type.render,!1);case 1:return Ol(e.type,!0);case 31:return rn("Activity");default:return""}}function kc(e){try{var t="",a=null;do t+=Cg(e,a),a=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var Nl=Object.prototype.hasOwnProperty,Rl=i.unstable_scheduleCallback,Cl=i.unstable_cancelCallback,jg=i.unstable_shouldYield,Dg=i.unstable_requestPaint,wt=i.unstable_now,Ug=i.unstable_getCurrentPriorityLevel,zc=i.unstable_ImmediatePriority,Bc=i.unstable_UserBlockingPriority,Ms=i.unstable_NormalPriority,Ig=i.unstable_LowPriority,Hc=i.unstable_IdlePriority,Mg=i.log,Lg=i.unstable_setDisableYieldValue,xi=null,Tt=null;function On(e){if(typeof Mg=="function"&&Lg(e),Tt&&typeof Tt.setStrictMode=="function")try{Tt.setStrictMode(xi,e)}catch{}}var At=Math.clz32?Math.clz32:Bg,kg=Math.log,zg=Math.LN2;function Bg(e){return e>>>=0,e===0?32:31-(kg(e)/zg|0)|0}var Ls=256,ks=262144,zs=4194304;function ea(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Bs(e,t,a){var s=e.pendingLanes;if(s===0)return 0;var o=0,c=e.suspendedLanes,h=e.pingedLanes;e=e.warmLanes;var p=s&134217727;return p!==0?(s=p&~c,s!==0?o=ea(s):(h&=p,h!==0?o=ea(h):a||(a=p&~e,a!==0&&(o=ea(a))))):(p=s&~c,p!==0?o=ea(p):h!==0?o=ea(h):a||(a=s&~e,a!==0&&(o=ea(a)))),o===0?0:t!==0&&t!==o&&(t&c)===0&&(c=o&-o,a=t&-t,c>=a||c===32&&(a&4194048)!==0)?t:o}function Oi(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Hg(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gc(){var e=zs;return zs<<=1,(zs&62914560)===0&&(zs=4194304),e}function jl(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Ni(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Gg(e,t,a,s,o,c){var h=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var p=e.entanglements,w=e.expirationTimes,j=e.hiddenUpdates;for(a=h&~a;0<a;){var M=31-At(a),z=1<<M;p[M]=0,w[M]=-1;var D=j[M];if(D!==null)for(j[M]=null,M=0;M<D.length;M++){var U=D[M];U!==null&&(U.lane&=-536870913)}a&=~z}s!==0&&qc(e,s,0),c!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=c&~(h&~t))}function qc(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-At(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|a&261930}function Vc(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var s=31-At(a),o=1<<s;o&t|e[s]&t&&(e[s]|=t),a&=~o}}function $c(e,t){var a=t&-t;return a=(a&42)!==0?1:Dl(a),(a&(e.suspendedLanes|t))!==0?0:a}function Dl(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ul(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Yc(){var e=q.p;return e!==0?e:(e=window.event,e===void 0?32:jm(e.type))}function Kc(e,t){var a=q.p;try{return q.p=e,t()}finally{q.p=a}}var Nn=Math.random().toString(36).slice(2),et="__reactFiber$"+Nn,vt="__reactProps$"+Nn,xa="__reactContainer$"+Nn,Il="__reactEvents$"+Nn,qg="__reactListeners$"+Nn,Vg="__reactHandles$"+Nn,Pc="__reactResources$"+Nn,Ri="__reactMarker$"+Nn;function Ml(e){delete e[et],delete e[vt],delete e[Il],delete e[qg],delete e[Vg]}function Oa(e){var t=e[et];if(t)return t;for(var a=e.parentNode;a;){if(t=a[xa]||a[et]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=vm(e);e!==null;){if(a=e[et])return a;e=vm(e)}return t}e=a,a=e.parentNode}return null}function Na(e){if(e=e[et]||e[xa]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Ci(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function Ra(e){var t=e[Pc];return t||(t=e[Pc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Fe(e){e[Ri]=!0}var Jc=new Set,Xc={};function ta(e,t){Ca(e,t),Ca(e+"Capture",t)}function Ca(e,t){for(Xc[e]=t,e=0;e<t.length;e++)Jc.add(t[e])}var $g=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qc={},Zc={};function Yg(e){return Nl.call(Zc,e)?!0:Nl.call(Qc,e)?!1:$g.test(e)?Zc[e]=!0:(Qc[e]=!0,!1)}function Hs(e,t,a){if(Yg(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Gs(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function ln(e,t,a,s){if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+s)}}function Lt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Fc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Kg(e,t,a){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var o=s.get,c=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(h){a=""+h,c.call(this,h)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(h){a=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ll(e){if(!e._valueTracker){var t=Fc(e)?"checked":"value";e._valueTracker=Kg(e,t,""+e[t])}}function Wc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),s="";return e&&(s=Fc(e)?e.checked?"true":"false":e.value),e=s,e!==a?(t.setValue(e),!0):!1}function qs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Pg=/[\n"\\]/g;function kt(e){return e.replace(Pg,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function kl(e,t,a,s,o,c,h,p){e.name="",h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"?e.type=h:e.removeAttribute("type"),t!=null?h==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Lt(t)):e.value!==""+Lt(t)&&(e.value=""+Lt(t)):h!=="submit"&&h!=="reset"||e.removeAttribute("value"),t!=null?zl(e,h,Lt(t)):a!=null?zl(e,h,Lt(a)):s!=null&&e.removeAttribute("value"),o==null&&c!=null&&(e.defaultChecked=!!c),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.name=""+Lt(p):e.removeAttribute("name")}function ed(e,t,a,s,o,c,h,p){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),t!=null||a!=null){if(!(c!=="submit"&&c!=="reset"||t!=null)){Ll(e);return}a=a!=null?""+Lt(a):"",t=t!=null?""+Lt(t):a,p||t===e.value||(e.value=t),e.defaultValue=t}s=s??o,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=p?e.checked:!!s,e.defaultChecked=!!s,h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.name=h),Ll(e)}function zl(e,t,a){t==="number"&&qs(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function ja(e,t,a,s){if(e=e.options,t){t={};for(var o=0;o<a.length;o++)t["$"+a[o]]=!0;for(a=0;a<e.length;a++)o=t.hasOwnProperty("$"+e[a].value),e[a].selected!==o&&(e[a].selected=o),o&&s&&(e[a].defaultSelected=!0)}else{for(a=""+Lt(a),t=null,o=0;o<e.length;o++){if(e[o].value===a){e[o].selected=!0,s&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function td(e,t,a){if(t!=null&&(t=""+Lt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Lt(a):""}function nd(e,t,a,s){if(t==null){if(s!=null){if(a!=null)throw Error(l(92));if(Ze(s)){if(1<s.length)throw Error(l(93));s=s[0]}a=s}a==null&&(a=""),t=a}a=Lt(t),e.defaultValue=a,s=e.textContent,s===a&&s!==""&&s!==null&&(e.value=s),Ll(e)}function Da(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Jg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ad(e,t,a){var s=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,a):typeof a!="number"||a===0||Jg.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function id(e,t,a){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,a!=null){for(var s in a)!a.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var o in t)s=t[o],t.hasOwnProperty(o)&&a[o]!==s&&ad(e,o,s)}else for(var c in t)t.hasOwnProperty(c)&&ad(e,c,t[c])}function Bl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Qg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vs(e){return Qg.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function on(){}var Hl=null;function Gl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ua=null,Ia=null;function sd(e){var t=Na(e);if(t&&(e=t.stateNode)){var a=e[vt]||null;e:switch(e=t.stateNode,t.type){case"input":if(kl(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+kt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var s=a[t];if(s!==e&&s.form===e.form){var o=s[vt]||null;if(!o)throw Error(l(90));kl(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<a.length;t++)s=a[t],s.form===e.form&&Wc(s)}break e;case"textarea":td(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&ja(e,!!a.multiple,t,!1)}}}var ql=!1;function rd(e,t,a){if(ql)return e(t,a);ql=!0;try{var s=e(t);return s}finally{if(ql=!1,(Ua!==null||Ia!==null)&&(Cr(),Ua&&(t=Ua,e=Ia,Ia=Ua=null,sd(t),e)))for(t=0;t<e.length;t++)sd(e[t])}}function ji(e,t){var a=e.stateNode;if(a===null)return null;var s=a[vt]||null;if(s===null)return null;a=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(l(231,t,typeof a));return a}var un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vl=!1;if(un)try{var Di={};Object.defineProperty(Di,"passive",{get:function(){Vl=!0}}),window.addEventListener("test",Di,Di),window.removeEventListener("test",Di,Di)}catch{Vl=!1}var Rn=null,$l=null,$s=null;function ld(){if($s)return $s;var e,t=$l,a=t.length,s,o="value"in Rn?Rn.value:Rn.textContent,c=o.length;for(e=0;e<a&&t[e]===o[e];e++);var h=a-e;for(s=1;s<=h&&t[a-s]===o[c-s];s++);return $s=o.slice(e,1<s?1-s:void 0)}function Ys(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ks(){return!0}function od(){return!1}function yt(e){function t(a,s,o,c,h){this._reactName=a,this._targetInst=o,this.type=s,this.nativeEvent=c,this.target=h,this.currentTarget=null;for(var p in e)e.hasOwnProperty(p)&&(a=e[p],this[p]=a?a(c):c[p]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Ks:od,this.isPropagationStopped=od,this}return S(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ks)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ks)},persist:function(){},isPersistent:Ks}),t}var na={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ps=yt(na),Ui=S({},na,{view:0,detail:0}),Zg=yt(Ui),Yl,Kl,Ii,Js=S({},Ui,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ii&&(Ii&&e.type==="mousemove"?(Yl=e.screenX-Ii.screenX,Kl=e.screenY-Ii.screenY):Kl=Yl=0,Ii=e),Yl)},movementY:function(e){return"movementY"in e?e.movementY:Kl}}),ud=yt(Js),Fg=S({},Js,{dataTransfer:0}),Wg=yt(Fg),ep=S({},Ui,{relatedTarget:0}),Pl=yt(ep),tp=S({},na,{animationName:0,elapsedTime:0,pseudoElement:0}),np=yt(tp),ap=S({},na,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ip=yt(ap),sp=S({},na,{data:0}),cd=yt(sp),rp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},op={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function up(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=op[e])?!!t[e]:!1}function Jl(){return up}var cp=S({},Ui,{key:function(e){if(e.key){var t=rp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ys(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?lp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jl,charCode:function(e){return e.type==="keypress"?Ys(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ys(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),dp=yt(cp),fp=S({},Js,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dd=yt(fp),hp=S({},Ui,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jl}),mp=yt(hp),vp=S({},na,{propertyName:0,elapsedTime:0,pseudoElement:0}),yp=yt(vp),gp=S({},Js,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),pp=yt(gp),_p=S({},na,{newState:0,oldState:0}),bp=yt(_p),Ep=[9,13,27,32],Xl=un&&"CompositionEvent"in window,Mi=null;un&&"documentMode"in document&&(Mi=document.documentMode);var Sp=un&&"TextEvent"in window&&!Mi,fd=un&&(!Xl||Mi&&8<Mi&&11>=Mi),hd=" ",md=!1;function vd(e,t){switch(e){case"keyup":return Ep.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ma=!1;function wp(e,t){switch(e){case"compositionend":return yd(t);case"keypress":return t.which!==32?null:(md=!0,hd);case"textInput":return e=t.data,e===hd&&md?null:e;default:return null}}function Tp(e,t){if(Ma)return e==="compositionend"||!Xl&&vd(e,t)?(e=ld(),$s=$l=Rn=null,Ma=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return fd&&t.locale!=="ko"?null:t.data;default:return null}}var Ap={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ap[e.type]:t==="textarea"}function pd(e,t,a,s){Ua?Ia?Ia.push(s):Ia=[s]:Ua=s,t=kr(t,"onChange"),0<t.length&&(a=new Ps("onChange","change",null,a,s),e.push({event:a,listeners:t}))}var Li=null,ki=null;function xp(e){tm(e,0)}function Xs(e){var t=Ci(e);if(Wc(t))return e}function _d(e,t){if(e==="change")return t}var bd=!1;if(un){var Ql;if(un){var Zl="oninput"in document;if(!Zl){var Ed=document.createElement("div");Ed.setAttribute("oninput","return;"),Zl=typeof Ed.oninput=="function"}Ql=Zl}else Ql=!1;bd=Ql&&(!document.documentMode||9<document.documentMode)}function Sd(){Li&&(Li.detachEvent("onpropertychange",wd),ki=Li=null)}function wd(e){if(e.propertyName==="value"&&Xs(ki)){var t=[];pd(t,ki,e,Gl(e)),rd(xp,t)}}function Op(e,t,a){e==="focusin"?(Sd(),Li=t,ki=a,Li.attachEvent("onpropertychange",wd)):e==="focusout"&&Sd()}function Np(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xs(ki)}function Rp(e,t){if(e==="click")return Xs(t)}function Cp(e,t){if(e==="input"||e==="change")return Xs(t)}function jp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xt=typeof Object.is=="function"?Object.is:jp;function zi(e,t){if(xt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),s=Object.keys(t);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var o=a[s];if(!Nl.call(t,o)||!xt(e[o],t[o]))return!1}return!0}function Td(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ad(e,t){var a=Td(e);e=0;for(var s;a;){if(a.nodeType===3){if(s=e+a.textContent.length,e<=t&&s>=t)return{node:a,offset:t-e};e=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Td(a)}}function xd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?xd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Od(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=qs(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=qs(e.document)}return t}function Fl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Dp=un&&"documentMode"in document&&11>=document.documentMode,La=null,Wl=null,Bi=null,eo=!1;function Nd(e,t,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;eo||La==null||La!==qs(s)||(s=La,"selectionStart"in s&&Fl(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Bi&&zi(Bi,s)||(Bi=s,s=kr(Wl,"onSelect"),0<s.length&&(t=new Ps("onSelect","select",null,t,a),e.push({event:t,listeners:s}),t.target=La)))}function aa(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var ka={animationend:aa("Animation","AnimationEnd"),animationiteration:aa("Animation","AnimationIteration"),animationstart:aa("Animation","AnimationStart"),transitionrun:aa("Transition","TransitionRun"),transitionstart:aa("Transition","TransitionStart"),transitioncancel:aa("Transition","TransitionCancel"),transitionend:aa("Transition","TransitionEnd")},to={},Rd={};un&&(Rd=document.createElement("div").style,"AnimationEvent"in window||(delete ka.animationend.animation,delete ka.animationiteration.animation,delete ka.animationstart.animation),"TransitionEvent"in window||delete ka.transitionend.transition);function ia(e){if(to[e])return to[e];if(!ka[e])return e;var t=ka[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Rd)return to[e]=t[a];return e}var Cd=ia("animationend"),jd=ia("animationiteration"),Dd=ia("animationstart"),Up=ia("transitionrun"),Ip=ia("transitionstart"),Mp=ia("transitioncancel"),Ud=ia("transitionend"),Id=new Map,no="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");no.push("scrollEnd");function Jt(e,t){Id.set(e,t),ta(t,[e])}var Qs=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},zt=[],za=0,ao=0;function Zs(){for(var e=za,t=ao=za=0;t<e;){var a=zt[t];zt[t++]=null;var s=zt[t];zt[t++]=null;var o=zt[t];zt[t++]=null;var c=zt[t];if(zt[t++]=null,s!==null&&o!==null){var h=s.pending;h===null?o.next=o:(o.next=h.next,h.next=o),s.pending=o}c!==0&&Md(a,o,c)}}function Fs(e,t,a,s){zt[za++]=e,zt[za++]=t,zt[za++]=a,zt[za++]=s,ao|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function io(e,t,a,s){return Fs(e,t,a,s),Ws(e)}function sa(e,t){return Fs(e,null,null,t),Ws(e)}function Md(e,t,a){e.lanes|=a;var s=e.alternate;s!==null&&(s.lanes|=a);for(var o=!1,c=e.return;c!==null;)c.childLanes|=a,s=c.alternate,s!==null&&(s.childLanes|=a),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(o=!0)),e=c,c=c.return;return e.tag===3?(c=e.stateNode,o&&t!==null&&(o=31-At(a),e=c.hiddenUpdates,s=e[o],s===null?e[o]=[t]:s.push(t),t.lane=a|536870912),c):null}function Ws(e){if(50<ls)throw ls=0,mu=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ba={};function Lp(e,t,a,s){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ot(e,t,a,s){return new Lp(e,t,a,s)}function so(e){return e=e.prototype,!(!e||!e.isReactComponent)}function cn(e,t){var a=e.alternate;return a===null?(a=Ot(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Ld(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function er(e,t,a,s,o,c){var h=0;if(s=e,typeof e=="function")so(e)&&(h=1);else if(typeof e=="string")h=G0(e,a,$.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case de:return e=Ot(31,a,t,o),e.elementType=de,e.lanes=c,e;case R:return ra(a.children,o,c,t);case O:h=8,o|=24;break;case L:return e=Ot(12,a,t,o|2),e.elementType=L,e.lanes=c,e;case fe:return e=Ot(13,a,t,o),e.elementType=fe,e.lanes=c,e;case ne:return e=Ot(19,a,t,o),e.elementType=ne,e.lanes=c,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case H:h=10;break e;case G:h=9;break e;case K:h=11;break e;case X:h=14;break e;case oe:h=16,s=null;break e}h=29,a=Error(l(130,e===null?"null":typeof e,"")),s=null}return t=Ot(h,a,t,o),t.elementType=e,t.type=s,t.lanes=c,t}function ra(e,t,a,s){return e=Ot(7,e,s,t),e.lanes=a,e}function ro(e,t,a){return e=Ot(6,e,null,t),e.lanes=a,e}function kd(e){var t=Ot(18,null,null,0);return t.stateNode=e,t}function lo(e,t,a){return t=Ot(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var zd=new WeakMap;function Bt(e,t){if(typeof e=="object"&&e!==null){var a=zd.get(e);return a!==void 0?a:(t={value:e,source:t,stack:kc(t)},zd.set(e,t),t)}return{value:e,source:t,stack:kc(t)}}var Ha=[],Ga=0,tr=null,Hi=0,Ht=[],Gt=0,Cn=null,en=1,tn="";function dn(e,t){Ha[Ga++]=Hi,Ha[Ga++]=tr,tr=e,Hi=t}function Bd(e,t,a){Ht[Gt++]=en,Ht[Gt++]=tn,Ht[Gt++]=Cn,Cn=e;var s=en;e=tn;var o=32-At(s)-1;s&=~(1<<o),a+=1;var c=32-At(t)+o;if(30<c){var h=o-o%5;c=(s&(1<<h)-1).toString(32),s>>=h,o-=h,en=1<<32-At(t)+o|a<<o|s,tn=c+e}else en=1<<c|a<<o|s,tn=e}function oo(e){e.return!==null&&(dn(e,1),Bd(e,1,0))}function uo(e){for(;e===tr;)tr=Ha[--Ga],Ha[Ga]=null,Hi=Ha[--Ga],Ha[Ga]=null;for(;e===Cn;)Cn=Ht[--Gt],Ht[Gt]=null,tn=Ht[--Gt],Ht[Gt]=null,en=Ht[--Gt],Ht[Gt]=null}function Hd(e,t){Ht[Gt++]=en,Ht[Gt++]=tn,Ht[Gt++]=Cn,en=t.id,tn=t.overflow,Cn=e}var tt=null,De=null,pe=!1,jn=null,qt=!1,co=Error(l(519));function Dn(e){var t=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Gi(Bt(t,e)),co}function Gd(e){var t=e.stateNode,a=e.type,s=e.memoizedProps;switch(t[et]=e,t[vt]=s,a){case"dialog":me("cancel",t),me("close",t);break;case"iframe":case"object":case"embed":me("load",t);break;case"video":case"audio":for(a=0;a<us.length;a++)me(us[a],t);break;case"source":me("error",t);break;case"img":case"image":case"link":me("error",t),me("load",t);break;case"details":me("toggle",t);break;case"input":me("invalid",t),ed(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":me("invalid",t);break;case"textarea":me("invalid",t),nd(t,s.value,s.defaultValue,s.children)}a=s.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||s.suppressHydrationWarning===!0||sm(t.textContent,a)?(s.popover!=null&&(me("beforetoggle",t),me("toggle",t)),s.onScroll!=null&&me("scroll",t),s.onScrollEnd!=null&&me("scrollend",t),s.onClick!=null&&(t.onclick=on),t=!0):t=!1,t||Dn(e,!0)}function qd(e){for(tt=e.return;tt;)switch(tt.tag){case 5:case 31:case 13:qt=!1;return;case 27:case 3:qt=!0;return;default:tt=tt.return}}function qa(e){if(e!==tt)return!1;if(!pe)return qd(e),pe=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Ru(e.type,e.memoizedProps)),a=!a),a&&De&&Dn(e),qd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));De=mm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));De=mm(e)}else t===27?(t=De,Kn(e.type)?(e=Iu,Iu=null,De=e):De=t):De=tt?$t(e.stateNode.nextSibling):null;return!0}function la(){De=tt=null,pe=!1}function fo(){var e=jn;return e!==null&&(bt===null?bt=e:bt.push.apply(bt,e),jn=null),e}function Gi(e){jn===null?jn=[e]:jn.push(e)}var ho=x(null),oa=null,fn=null;function Un(e,t,a){V(ho,t._currentValue),t._currentValue=a}function hn(e){e._currentValue=ho.current,B(ho)}function mo(e,t,a){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===a)break;e=e.return}}function vo(e,t,a,s){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var c=o.dependencies;if(c!==null){var h=o.child;c=c.firstContext;e:for(;c!==null;){var p=c;c=o;for(var w=0;w<t.length;w++)if(p.context===t[w]){c.lanes|=a,p=c.alternate,p!==null&&(p.lanes|=a),mo(c.return,a,e),s||(h=null);break e}c=p.next}}else if(o.tag===18){if(h=o.return,h===null)throw Error(l(341));h.lanes|=a,c=h.alternate,c!==null&&(c.lanes|=a),mo(h,a,e),h=null}else h=o.child;if(h!==null)h.return=o;else for(h=o;h!==null;){if(h===e){h=null;break}if(o=h.sibling,o!==null){o.return=h.return,h=o;break}h=h.return}o=h}}function Va(e,t,a,s){e=null;for(var o=t,c=!1;o!==null;){if(!c){if((o.flags&524288)!==0)c=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var h=o.alternate;if(h===null)throw Error(l(387));if(h=h.memoizedProps,h!==null){var p=o.type;xt(o.pendingProps.value,h.value)||(e!==null?e.push(p):e=[p])}}else if(o===P.current){if(h=o.alternate,h===null)throw Error(l(387));h.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(ms):e=[ms])}o=o.return}e!==null&&vo(t,e,a,s),t.flags|=262144}function nr(e){for(e=e.firstContext;e!==null;){if(!xt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ua(e){oa=e,fn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function nt(e){return Vd(oa,e)}function ar(e,t){return oa===null&&ua(e),Vd(e,t)}function Vd(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},fn===null){if(e===null)throw Error(l(308));fn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else fn=fn.next=t;return a}var kp=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},zp=i.unstable_scheduleCallback,Bp=i.unstable_NormalPriority,$e={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yo(){return{controller:new kp,data:new Map,refCount:0}}function qi(e){e.refCount--,e.refCount===0&&zp(Bp,function(){e.controller.abort()})}var Vi=null,go=0,$a=0,Ya=null;function Hp(e,t){if(Vi===null){var a=Vi=[];go=0,$a=bu(),Ya={status:"pending",value:void 0,then:function(s){a.push(s)}}}return go++,t.then($d,$d),t}function $d(){if(--go===0&&Vi!==null){Ya!==null&&(Ya.status="fulfilled");var e=Vi;Vi=null,$a=0,Ya=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Gp(e,t){var a=[],s={status:"pending",value:null,reason:null,then:function(o){a.push(o)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var o=0;o<a.length;o++)(0,a[o])(t)},function(o){for(s.status="rejected",s.reason=o,o=0;o<a.length;o++)(0,a[o])(void 0)}),s}var Yd=I.S;I.S=function(e,t){Rh=wt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Hp(e,t),Yd!==null&&Yd(e,t)};var ca=x(null);function po(){var e=ca.current;return e!==null?e:Ce.pooledCache}function ir(e,t){t===null?V(ca,ca.current):V(ca,t.pool)}function Kd(){var e=po();return e===null?null:{parent:$e._currentValue,pool:e}}var Ka=Error(l(460)),_o=Error(l(474)),sr=Error(l(542)),rr={then:function(){}};function Pd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Jd(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(on,on),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Qd(e),e;default:if(typeof t.status=="string")t.then(on,on);else{if(e=Ce,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=s}},function(s){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Qd(e),e}throw fa=t,Ka}}function da(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(fa=a,Ka):a}}var fa=null;function Xd(){if(fa===null)throw Error(l(459));var e=fa;return fa=null,e}function Qd(e){if(e===Ka||e===sr)throw Error(l(483))}var Pa=null,$i=0;function lr(e){var t=$i;return $i+=1,Pa===null&&(Pa=[]),Jd(Pa,e,t)}function Yi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function or(e,t){throw t.$$typeof===T?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Zd(e){function t(N,A){if(e){var C=N.deletions;C===null?(N.deletions=[A],N.flags|=16):C.push(A)}}function a(N,A){if(!e)return null;for(;A!==null;)t(N,A),A=A.sibling;return null}function s(N){for(var A=new Map;N!==null;)N.key!==null?A.set(N.key,N):A.set(N.index,N),N=N.sibling;return A}function o(N,A){return N=cn(N,A),N.index=0,N.sibling=null,N}function c(N,A,C){return N.index=C,e?(C=N.alternate,C!==null?(C=C.index,C<A?(N.flags|=67108866,A):C):(N.flags|=67108866,A)):(N.flags|=1048576,A)}function h(N){return e&&N.alternate===null&&(N.flags|=67108866),N}function p(N,A,C,k){return A===null||A.tag!==6?(A=ro(C,N.mode,k),A.return=N,A):(A=o(A,C),A.return=N,A)}function w(N,A,C,k){var F=C.type;return F===R?M(N,A,C.props.children,k,C.key):A!==null&&(A.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===oe&&da(F)===A.type)?(A=o(A,C.props),Yi(A,C),A.return=N,A):(A=er(C.type,C.key,C.props,null,N.mode,k),Yi(A,C),A.return=N,A)}function j(N,A,C,k){return A===null||A.tag!==4||A.stateNode.containerInfo!==C.containerInfo||A.stateNode.implementation!==C.implementation?(A=lo(C,N.mode,k),A.return=N,A):(A=o(A,C.children||[]),A.return=N,A)}function M(N,A,C,k,F){return A===null||A.tag!==7?(A=ra(C,N.mode,k,F),A.return=N,A):(A=o(A,C),A.return=N,A)}function z(N,A,C){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=ro(""+A,N.mode,C),A.return=N,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case b:return C=er(A.type,A.key,A.props,null,N.mode,C),Yi(C,A),C.return=N,C;case E:return A=lo(A,N.mode,C),A.return=N,A;case oe:return A=da(A),z(N,A,C)}if(Ze(A)||Ve(A))return A=ra(A,N.mode,C,null),A.return=N,A;if(typeof A.then=="function")return z(N,lr(A),C);if(A.$$typeof===H)return z(N,ar(N,A),C);or(N,A)}return null}function D(N,A,C,k){var F=A!==null?A.key:null;if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return F!==null?null:p(N,A,""+C,k);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case b:return C.key===F?w(N,A,C,k):null;case E:return C.key===F?j(N,A,C,k):null;case oe:return C=da(C),D(N,A,C,k)}if(Ze(C)||Ve(C))return F!==null?null:M(N,A,C,k,null);if(typeof C.then=="function")return D(N,A,lr(C),k);if(C.$$typeof===H)return D(N,A,ar(N,C),k);or(N,C)}return null}function U(N,A,C,k,F){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return N=N.get(C)||null,p(A,N,""+k,F);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case b:return N=N.get(k.key===null?C:k.key)||null,w(A,N,k,F);case E:return N=N.get(k.key===null?C:k.key)||null,j(A,N,k,F);case oe:return k=da(k),U(N,A,C,k,F)}if(Ze(k)||Ve(k))return N=N.get(C)||null,M(A,N,k,F,null);if(typeof k.then=="function")return U(N,A,C,lr(k),F);if(k.$$typeof===H)return U(N,A,C,ar(A,k),F);or(A,k)}return null}function J(N,A,C,k){for(var F=null,_e=null,Q=A,ce=A=0,ye=null;Q!==null&&ce<C.length;ce++){Q.index>ce?(ye=Q,Q=null):ye=Q.sibling;var be=D(N,Q,C[ce],k);if(be===null){Q===null&&(Q=ye);break}e&&Q&&be.alternate===null&&t(N,Q),A=c(be,A,ce),_e===null?F=be:_e.sibling=be,_e=be,Q=ye}if(ce===C.length)return a(N,Q),pe&&dn(N,ce),F;if(Q===null){for(;ce<C.length;ce++)Q=z(N,C[ce],k),Q!==null&&(A=c(Q,A,ce),_e===null?F=Q:_e.sibling=Q,_e=Q);return pe&&dn(N,ce),F}for(Q=s(Q);ce<C.length;ce++)ye=U(Q,N,ce,C[ce],k),ye!==null&&(e&&ye.alternate!==null&&Q.delete(ye.key===null?ce:ye.key),A=c(ye,A,ce),_e===null?F=ye:_e.sibling=ye,_e=ye);return e&&Q.forEach(function(Zn){return t(N,Zn)}),pe&&dn(N,ce),F}function te(N,A,C,k){if(C==null)throw Error(l(151));for(var F=null,_e=null,Q=A,ce=A=0,ye=null,be=C.next();Q!==null&&!be.done;ce++,be=C.next()){Q.index>ce?(ye=Q,Q=null):ye=Q.sibling;var Zn=D(N,Q,be.value,k);if(Zn===null){Q===null&&(Q=ye);break}e&&Q&&Zn.alternate===null&&t(N,Q),A=c(Zn,A,ce),_e===null?F=Zn:_e.sibling=Zn,_e=Zn,Q=ye}if(be.done)return a(N,Q),pe&&dn(N,ce),F;if(Q===null){for(;!be.done;ce++,be=C.next())be=z(N,be.value,k),be!==null&&(A=c(be,A,ce),_e===null?F=be:_e.sibling=be,_e=be);return pe&&dn(N,ce),F}for(Q=s(Q);!be.done;ce++,be=C.next())be=U(Q,N,ce,be.value,k),be!==null&&(e&&be.alternate!==null&&Q.delete(be.key===null?ce:be.key),A=c(be,A,ce),_e===null?F=be:_e.sibling=be,_e=be);return e&&Q.forEach(function(F0){return t(N,F0)}),pe&&dn(N,ce),F}function Re(N,A,C,k){if(typeof C=="object"&&C!==null&&C.type===R&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case b:e:{for(var F=C.key;A!==null;){if(A.key===F){if(F=C.type,F===R){if(A.tag===7){a(N,A.sibling),k=o(A,C.props.children),k.return=N,N=k;break e}}else if(A.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===oe&&da(F)===A.type){a(N,A.sibling),k=o(A,C.props),Yi(k,C),k.return=N,N=k;break e}a(N,A);break}else t(N,A);A=A.sibling}C.type===R?(k=ra(C.props.children,N.mode,k,C.key),k.return=N,N=k):(k=er(C.type,C.key,C.props,null,N.mode,k),Yi(k,C),k.return=N,N=k)}return h(N);case E:e:{for(F=C.key;A!==null;){if(A.key===F)if(A.tag===4&&A.stateNode.containerInfo===C.containerInfo&&A.stateNode.implementation===C.implementation){a(N,A.sibling),k=o(A,C.children||[]),k.return=N,N=k;break e}else{a(N,A);break}else t(N,A);A=A.sibling}k=lo(C,N.mode,k),k.return=N,N=k}return h(N);case oe:return C=da(C),Re(N,A,C,k)}if(Ze(C))return J(N,A,C,k);if(Ve(C)){if(F=Ve(C),typeof F!="function")throw Error(l(150));return C=F.call(C),te(N,A,C,k)}if(typeof C.then=="function")return Re(N,A,lr(C),k);if(C.$$typeof===H)return Re(N,A,ar(N,C),k);or(N,C)}return typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint"?(C=""+C,A!==null&&A.tag===6?(a(N,A.sibling),k=o(A,C),k.return=N,N=k):(a(N,A),k=ro(C,N.mode,k),k.return=N,N=k),h(N)):a(N,A)}return function(N,A,C,k){try{$i=0;var F=Re(N,A,C,k);return Pa=null,F}catch(Q){if(Q===Ka||Q===sr)throw Q;var _e=Ot(29,Q,null,N.mode);return _e.lanes=k,_e.return=N,_e}finally{}}}var ha=Zd(!0),Fd=Zd(!1),In=!1;function bo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Eo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Mn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ln(e,t,a){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Ee&2)!==0){var o=s.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),s.pending=t,t=Ws(e),Md(e,null,a),t}return Fs(e,s,t,a),Ws(e)}function Ki(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,Vc(e,a)}}function So(e,t){var a=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var o=null,c=null;if(a=a.firstBaseUpdate,a!==null){do{var h={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};c===null?o=c=h:c=c.next=h,a=a.next}while(a!==null);c===null?o=c=t:c=c.next=t}else o=c=t;a={baseState:s.baseState,firstBaseUpdate:o,lastBaseUpdate:c,shared:s.shared,callbacks:s.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var wo=!1;function Pi(){if(wo){var e=Ya;if(e!==null)throw e}}function Ji(e,t,a,s){wo=!1;var o=e.updateQueue;In=!1;var c=o.firstBaseUpdate,h=o.lastBaseUpdate,p=o.shared.pending;if(p!==null){o.shared.pending=null;var w=p,j=w.next;w.next=null,h===null?c=j:h.next=j,h=w;var M=e.alternate;M!==null&&(M=M.updateQueue,p=M.lastBaseUpdate,p!==h&&(p===null?M.firstBaseUpdate=j:p.next=j,M.lastBaseUpdate=w))}if(c!==null){var z=o.baseState;h=0,M=j=w=null,p=c;do{var D=p.lane&-536870913,U=D!==p.lane;if(U?(ve&D)===D:(s&D)===D){D!==0&&D===$a&&(wo=!0),M!==null&&(M=M.next={lane:0,tag:p.tag,payload:p.payload,callback:null,next:null});e:{var J=e,te=p;D=t;var Re=a;switch(te.tag){case 1:if(J=te.payload,typeof J=="function"){z=J.call(Re,z,D);break e}z=J;break e;case 3:J.flags=J.flags&-65537|128;case 0:if(J=te.payload,D=typeof J=="function"?J.call(Re,z,D):J,D==null)break e;z=S({},z,D);break e;case 2:In=!0}}D=p.callback,D!==null&&(e.flags|=64,U&&(e.flags|=8192),U=o.callbacks,U===null?o.callbacks=[D]:U.push(D))}else U={lane:D,tag:p.tag,payload:p.payload,callback:p.callback,next:null},M===null?(j=M=U,w=z):M=M.next=U,h|=D;if(p=p.next,p===null){if(p=o.shared.pending,p===null)break;U=p,p=U.next,U.next=null,o.lastBaseUpdate=U,o.shared.pending=null}}while(!0);M===null&&(w=z),o.baseState=w,o.firstBaseUpdate=j,o.lastBaseUpdate=M,c===null&&(o.shared.lanes=0),Gn|=h,e.lanes=h,e.memoizedState=z}}function Wd(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function ef(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Wd(a[e],t)}var Ja=x(null),ur=x(0);function tf(e,t){e=Sn,V(ur,e),V(Ja,t),Sn=e|t.baseLanes}function To(){V(ur,Sn),V(Ja,Ja.current)}function Ao(){Sn=ur.current,B(Ja),B(ur)}var Nt=x(null),Vt=null;function kn(e){var t=e.alternate;V(Ge,Ge.current&1),V(Nt,e),Vt===null&&(t===null||Ja.current!==null||t.memoizedState!==null)&&(Vt=e)}function xo(e){V(Ge,Ge.current),V(Nt,e),Vt===null&&(Vt=e)}function nf(e){e.tag===22?(V(Ge,Ge.current),V(Nt,e),Vt===null&&(Vt=e)):zn()}function zn(){V(Ge,Ge.current),V(Nt,Nt.current)}function Rt(e){B(Nt),Vt===e&&(Vt=null),B(Ge)}var Ge=x(0);function cr(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Du(a)||Uu(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var mn=0,ue=null,Oe=null,Ye=null,dr=!1,Xa=!1,ma=!1,fr=0,Xi=0,Qa=null,qp=0;function Le(){throw Error(l(321))}function Oo(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!xt(e[a],t[a]))return!1;return!0}function No(e,t,a,s,o,c){return mn=c,ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,I.H=e===null||e.memoizedState===null?Hf:Vo,ma=!1,c=a(s,o),ma=!1,Xa&&(c=sf(t,a,s,o)),af(e),c}function af(e){I.H=Fi;var t=Oe!==null&&Oe.next!==null;if(mn=0,Ye=Oe=ue=null,dr=!1,Xi=0,Qa=null,t)throw Error(l(300));e===null||Ke||(e=e.dependencies,e!==null&&nr(e)&&(Ke=!0))}function sf(e,t,a,s){ue=e;var o=0;do{if(Xa&&(Qa=null),Xi=0,Xa=!1,25<=o)throw Error(l(301));if(o+=1,Ye=Oe=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}I.H=Gf,c=t(a,s)}while(Xa);return c}function Vp(){var e=I.H,t=e.useState()[0];return t=typeof t.then=="function"?Qi(t):t,e=e.useState()[0],(Oe!==null?Oe.memoizedState:null)!==e&&(ue.flags|=1024),t}function Ro(){var e=fr!==0;return fr=0,e}function Co(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function jo(e){if(dr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}dr=!1}mn=0,Ye=Oe=ue=null,Xa=!1,Xi=fr=0,Qa=null}function dt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?ue.memoizedState=Ye=e:Ye=Ye.next=e,Ye}function qe(){if(Oe===null){var e=ue.alternate;e=e!==null?e.memoizedState:null}else e=Oe.next;var t=Ye===null?ue.memoizedState:Ye.next;if(t!==null)Ye=t,Oe=e;else{if(e===null)throw ue.alternate===null?Error(l(467)):Error(l(310));Oe=e,e={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},Ye===null?ue.memoizedState=Ye=e:Ye=Ye.next=e}return Ye}function hr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qi(e){var t=Xi;return Xi+=1,Qa===null&&(Qa=[]),e=Jd(Qa,e,t),t=ue,(Ye===null?t.memoizedState:Ye.next)===null&&(t=t.alternate,I.H=t===null||t.memoizedState===null?Hf:Vo),e}function mr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Qi(e);if(e.$$typeof===H)return nt(e)}throw Error(l(438,String(e)))}function Do(e){var t=null,a=ue.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var s=ue.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=hr(),ue.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),s=0;s<e;s++)a[s]=Pt;return t.index++,a}function vn(e,t){return typeof t=="function"?t(e):t}function vr(e){var t=qe();return Uo(t,Oe,e)}function Uo(e,t,a){var s=e.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=a;var o=e.baseQueue,c=s.pending;if(c!==null){if(o!==null){var h=o.next;o.next=c.next,c.next=h}t.baseQueue=o=c,s.pending=null}if(c=e.baseState,o===null)e.memoizedState=c;else{t=o.next;var p=h=null,w=null,j=t,M=!1;do{var z=j.lane&-536870913;if(z!==j.lane?(ve&z)===z:(mn&z)===z){var D=j.revertLane;if(D===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),z===$a&&(M=!0);else if((mn&D)===D){j=j.next,D===$a&&(M=!0);continue}else z={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},w===null?(p=w=z,h=c):w=w.next=z,ue.lanes|=D,Gn|=D;z=j.action,ma&&a(c,z),c=j.hasEagerState?j.eagerState:a(c,z)}else D={lane:z,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},w===null?(p=w=D,h=c):w=w.next=D,ue.lanes|=z,Gn|=z;j=j.next}while(j!==null&&j!==t);if(w===null?h=c:w.next=p,!xt(c,e.memoizedState)&&(Ke=!0,M&&(a=Ya,a!==null)))throw a;e.memoizedState=c,e.baseState=h,e.baseQueue=w,s.lastRenderedState=c}return o===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Io(e){var t=qe(),a=t.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=e;var s=a.dispatch,o=a.pending,c=t.memoizedState;if(o!==null){a.pending=null;var h=o=o.next;do c=e(c,h.action),h=h.next;while(h!==o);xt(c,t.memoizedState)||(Ke=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),a.lastRenderedState=c}return[c,s]}function rf(e,t,a){var s=ue,o=qe(),c=pe;if(c){if(a===void 0)throw Error(l(407));a=a()}else a=t();var h=!xt((Oe||o).memoizedState,a);if(h&&(o.memoizedState=a,Ke=!0),o=o.queue,ko(uf.bind(null,s,o,e),[e]),o.getSnapshot!==t||h||Ye!==null&&Ye.memoizedState.tag&1){if(s.flags|=2048,Za(9,{destroy:void 0},of.bind(null,s,o,a,t),null),Ce===null)throw Error(l(349));c||(mn&127)!==0||lf(s,t,a)}return a}function lf(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=ue.updateQueue,t===null?(t=hr(),ue.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function of(e,t,a,s){t.value=a,t.getSnapshot=s,cf(t)&&df(e)}function uf(e,t,a){return a(function(){cf(t)&&df(e)})}function cf(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!xt(e,a)}catch{return!0}}function df(e){var t=sa(e,2);t!==null&&Et(t,e,2)}function Mo(e){var t=dt();if(typeof e=="function"){var a=e;if(e=a(),ma){On(!0);try{a()}finally{On(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vn,lastRenderedState:e},t}function ff(e,t,a,s){return e.baseState=a,Uo(e,Oe,typeof s=="function"?s:vn)}function $p(e,t,a,s,o){if(pr(e))throw Error(l(485));if(e=t.action,e!==null){var c={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(h){c.listeners.push(h)}};I.T!==null?a(!0):c.isTransition=!1,s(c),a=t.pending,a===null?(c.next=t.pending=c,hf(t,c)):(c.next=a.next,t.pending=a.next=c)}}function hf(e,t){var a=t.action,s=t.payload,o=e.state;if(t.isTransition){var c=I.T,h={};I.T=h;try{var p=a(o,s),w=I.S;w!==null&&w(h,p),mf(e,t,p)}catch(j){Lo(e,t,j)}finally{c!==null&&h.types!==null&&(c.types=h.types),I.T=c}}else try{c=a(o,s),mf(e,t,c)}catch(j){Lo(e,t,j)}}function mf(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(s){vf(e,t,s)},function(s){return Lo(e,t,s)}):vf(e,t,a)}function vf(e,t,a){t.status="fulfilled",t.value=a,yf(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,hf(e,a)))}function Lo(e,t,a){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=a,yf(t),t=t.next;while(t!==s)}e.action=null}function yf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function gf(e,t){return t}function pf(e,t){if(pe){var a=Ce.formState;if(a!==null){e:{var s=ue;if(pe){if(De){t:{for(var o=De,c=qt;o.nodeType!==8;){if(!c){o=null;break t}if(o=$t(o.nextSibling),o===null){o=null;break t}}c=o.data,o=c==="F!"||c==="F"?o:null}if(o){De=$t(o.nextSibling),s=o.data==="F!";break e}}Dn(s)}s=!1}s&&(t=a[0])}}return a=dt(),a.memoizedState=a.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gf,lastRenderedState:t},a.queue=s,a=kf.bind(null,ue,s),s.dispatch=a,s=Mo(!1),c=qo.bind(null,ue,!1,s.queue),s=dt(),o={state:t,dispatch:null,action:e,pending:null},s.queue=o,a=$p.bind(null,ue,o,c,a),o.dispatch=a,s.memoizedState=e,[t,a,!1]}function _f(e){var t=qe();return bf(t,Oe,e)}function bf(e,t,a){if(t=Uo(e,t,gf)[0],e=vr(vn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=Qi(t)}catch(h){throw h===Ka?sr:h}else s=t;t=qe();var o=t.queue,c=o.dispatch;return a!==t.memoizedState&&(ue.flags|=2048,Za(9,{destroy:void 0},Yp.bind(null,o,a),null)),[s,c,e]}function Yp(e,t){e.action=t}function Ef(e){var t=qe(),a=Oe;if(a!==null)return bf(t,a,e);qe(),t=t.memoizedState,a=qe();var s=a.queue.dispatch;return a.memoizedState=e,[t,s,!1]}function Za(e,t,a,s){return e={tag:e,create:a,deps:s,inst:t,next:null},t=ue.updateQueue,t===null&&(t=hr(),ue.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(s=a.next,a.next=e,e.next=s,t.lastEffect=e),e}function Sf(){return qe().memoizedState}function yr(e,t,a,s){var o=dt();ue.flags|=e,o.memoizedState=Za(1|t,{destroy:void 0},a,s===void 0?null:s)}function gr(e,t,a,s){var o=qe();s=s===void 0?null:s;var c=o.memoizedState.inst;Oe!==null&&s!==null&&Oo(s,Oe.memoizedState.deps)?o.memoizedState=Za(t,c,a,s):(ue.flags|=e,o.memoizedState=Za(1|t,c,a,s))}function wf(e,t){yr(8390656,8,e,t)}function ko(e,t){gr(2048,8,e,t)}function Kp(e){ue.flags|=4;var t=ue.updateQueue;if(t===null)t=hr(),ue.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function Tf(e){var t=qe().memoizedState;return Kp({ref:t,nextImpl:e}),function(){if((Ee&2)!==0)throw Error(l(440));return t.impl.apply(void 0,arguments)}}function Af(e,t){return gr(4,2,e,t)}function xf(e,t){return gr(4,4,e,t)}function Of(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Nf(e,t,a){a=a!=null?a.concat([e]):null,gr(4,4,Of.bind(null,t,e),a)}function zo(){}function Rf(e,t){var a=qe();t=t===void 0?null:t;var s=a.memoizedState;return t!==null&&Oo(t,s[1])?s[0]:(a.memoizedState=[e,t],e)}function Cf(e,t){var a=qe();t=t===void 0?null:t;var s=a.memoizedState;if(t!==null&&Oo(t,s[1]))return s[0];if(s=e(),ma){On(!0);try{e()}finally{On(!1)}}return a.memoizedState=[s,t],s}function Bo(e,t,a){return a===void 0||(mn&1073741824)!==0&&(ve&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=jh(),ue.lanes|=e,Gn|=e,a)}function jf(e,t,a,s){return xt(a,t)?a:Ja.current!==null?(e=Bo(e,a,s),xt(e,t)||(Ke=!0),e):(mn&42)===0||(mn&1073741824)!==0&&(ve&261930)===0?(Ke=!0,e.memoizedState=a):(e=jh(),ue.lanes|=e,Gn|=e,t)}function Df(e,t,a,s,o){var c=q.p;q.p=c!==0&&8>c?c:8;var h=I.T,p={};I.T=p,qo(e,!1,t,a);try{var w=o(),j=I.S;if(j!==null&&j(p,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var M=Gp(w,s);Zi(e,t,M,Dt(e))}else Zi(e,t,s,Dt(e))}catch(z){Zi(e,t,{then:function(){},status:"rejected",reason:z},Dt())}finally{q.p=c,h!==null&&p.types!==null&&(h.types=p.types),I.T=h}}function Pp(){}function Ho(e,t,a,s){if(e.tag!==5)throw Error(l(476));var o=Uf(e).queue;Df(e,o,t,ee,a===null?Pp:function(){return If(e),a(s)})}function Uf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vn,lastRenderedState:ee},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vn,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function If(e){var t=Uf(e);t.next===null&&(t=e.alternate.memoizedState),Zi(e,t.next.queue,{},Dt())}function Go(){return nt(ms)}function Mf(){return qe().memoizedState}function Lf(){return qe().memoizedState}function Jp(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Dt();e=Mn(a);var s=Ln(t,e,a);s!==null&&(Et(s,t,a),Ki(s,t,a)),t={cache:yo()},e.payload=t;return}t=t.return}}function Xp(e,t,a){var s=Dt();a={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},pr(e)?zf(t,a):(a=io(e,t,a,s),a!==null&&(Et(a,e,s),Bf(a,t,s)))}function kf(e,t,a){var s=Dt();Zi(e,t,a,s)}function Zi(e,t,a,s){var o={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(pr(e))zf(t,o);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var h=t.lastRenderedState,p=c(h,a);if(o.hasEagerState=!0,o.eagerState=p,xt(p,h))return Fs(e,t,o,0),Ce===null&&Zs(),!1}catch{}finally{}if(a=io(e,t,o,s),a!==null)return Et(a,e,s),Bf(a,t,s),!0}return!1}function qo(e,t,a,s){if(s={lane:2,revertLane:bu(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},pr(e)){if(t)throw Error(l(479))}else t=io(e,a,s,2),t!==null&&Et(t,e,2)}function pr(e){var t=e.alternate;return e===ue||t!==null&&t===ue}function zf(e,t){Xa=dr=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Bf(e,t,a){if((a&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,Vc(e,a)}}var Fi={readContext:nt,use:mr,useCallback:Le,useContext:Le,useEffect:Le,useImperativeHandle:Le,useLayoutEffect:Le,useInsertionEffect:Le,useMemo:Le,useReducer:Le,useRef:Le,useState:Le,useDebugValue:Le,useDeferredValue:Le,useTransition:Le,useSyncExternalStore:Le,useId:Le,useHostTransitionStatus:Le,useFormState:Le,useActionState:Le,useOptimistic:Le,useMemoCache:Le,useCacheRefresh:Le};Fi.useEffectEvent=Le;var Hf={readContext:nt,use:mr,useCallback:function(e,t){return dt().memoizedState=[e,t===void 0?null:t],e},useContext:nt,useEffect:wf,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,yr(4194308,4,Of.bind(null,t,e),a)},useLayoutEffect:function(e,t){return yr(4194308,4,e,t)},useInsertionEffect:function(e,t){yr(4,2,e,t)},useMemo:function(e,t){var a=dt();t=t===void 0?null:t;var s=e();if(ma){On(!0);try{e()}finally{On(!1)}}return a.memoizedState=[s,t],s},useReducer:function(e,t,a){var s=dt();if(a!==void 0){var o=a(t);if(ma){On(!0);try{a(t)}finally{On(!1)}}}else o=t;return s.memoizedState=s.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},s.queue=e,e=e.dispatch=Xp.bind(null,ue,e),[s.memoizedState,e]},useRef:function(e){var t=dt();return e={current:e},t.memoizedState=e},useState:function(e){e=Mo(e);var t=e.queue,a=kf.bind(null,ue,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:zo,useDeferredValue:function(e,t){var a=dt();return Bo(a,e,t)},useTransition:function(){var e=Mo(!1);return e=Df.bind(null,ue,e.queue,!0,!1),dt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var s=ue,o=dt();if(pe){if(a===void 0)throw Error(l(407));a=a()}else{if(a=t(),Ce===null)throw Error(l(349));(ve&127)!==0||lf(s,t,a)}o.memoizedState=a;var c={value:a,getSnapshot:t};return o.queue=c,wf(uf.bind(null,s,c,e),[e]),s.flags|=2048,Za(9,{destroy:void 0},of.bind(null,s,c,a,t),null),a},useId:function(){var e=dt(),t=Ce.identifierPrefix;if(pe){var a=tn,s=en;a=(s&~(1<<32-At(s)-1)).toString(32)+a,t="_"+t+"R_"+a,a=fr++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=qp++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Go,useFormState:pf,useActionState:pf,useOptimistic:function(e){var t=dt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=qo.bind(null,ue,!0,a),a.dispatch=t,[e,t]},useMemoCache:Do,useCacheRefresh:function(){return dt().memoizedState=Jp.bind(null,ue)},useEffectEvent:function(e){var t=dt(),a={impl:e};return t.memoizedState=a,function(){if((Ee&2)!==0)throw Error(l(440));return a.impl.apply(void 0,arguments)}}},Vo={readContext:nt,use:mr,useCallback:Rf,useContext:nt,useEffect:ko,useImperativeHandle:Nf,useInsertionEffect:Af,useLayoutEffect:xf,useMemo:Cf,useReducer:vr,useRef:Sf,useState:function(){return vr(vn)},useDebugValue:zo,useDeferredValue:function(e,t){var a=qe();return jf(a,Oe.memoizedState,e,t)},useTransition:function(){var e=vr(vn)[0],t=qe().memoizedState;return[typeof e=="boolean"?e:Qi(e),t]},useSyncExternalStore:rf,useId:Mf,useHostTransitionStatus:Go,useFormState:_f,useActionState:_f,useOptimistic:function(e,t){var a=qe();return ff(a,Oe,e,t)},useMemoCache:Do,useCacheRefresh:Lf};Vo.useEffectEvent=Tf;var Gf={readContext:nt,use:mr,useCallback:Rf,useContext:nt,useEffect:ko,useImperativeHandle:Nf,useInsertionEffect:Af,useLayoutEffect:xf,useMemo:Cf,useReducer:Io,useRef:Sf,useState:function(){return Io(vn)},useDebugValue:zo,useDeferredValue:function(e,t){var a=qe();return Oe===null?Bo(a,e,t):jf(a,Oe.memoizedState,e,t)},useTransition:function(){var e=Io(vn)[0],t=qe().memoizedState;return[typeof e=="boolean"?e:Qi(e),t]},useSyncExternalStore:rf,useId:Mf,useHostTransitionStatus:Go,useFormState:Ef,useActionState:Ef,useOptimistic:function(e,t){var a=qe();return Oe!==null?ff(a,Oe,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Do,useCacheRefresh:Lf};Gf.useEffectEvent=Tf;function $o(e,t,a,s){t=e.memoizedState,a=a(s,t),a=a==null?t:S({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Yo={enqueueSetState:function(e,t,a){e=e._reactInternals;var s=Dt(),o=Mn(s);o.payload=t,a!=null&&(o.callback=a),t=Ln(e,o,s),t!==null&&(Et(t,e,s),Ki(t,e,s))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var s=Dt(),o=Mn(s);o.tag=1,o.payload=t,a!=null&&(o.callback=a),t=Ln(e,o,s),t!==null&&(Et(t,e,s),Ki(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Dt(),s=Mn(a);s.tag=2,t!=null&&(s.callback=t),t=Ln(e,s,a),t!==null&&(Et(t,e,a),Ki(t,e,a))}};function qf(e,t,a,s,o,c,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,c,h):t.prototype&&t.prototype.isPureReactComponent?!zi(a,s)||!zi(o,c):!0}function Vf(e,t,a,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,s),t.state!==e&&Yo.enqueueReplaceState(t,t.state,null)}function va(e,t){var a=t;if("ref"in t){a={};for(var s in t)s!=="ref"&&(a[s]=t[s])}if(e=e.defaultProps){a===t&&(a=S({},a));for(var o in e)a[o]===void 0&&(a[o]=e[o])}return a}function $f(e){Qs(e)}function Yf(e){console.error(e)}function Kf(e){Qs(e)}function _r(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function Pf(e,t,a){try{var s=e.onCaughtError;s(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Ko(e,t,a){return a=Mn(a),a.tag=3,a.payload={element:null},a.callback=function(){_r(e,t)},a}function Jf(e){return e=Mn(e),e.tag=3,e}function Xf(e,t,a,s){var o=a.type.getDerivedStateFromError;if(typeof o=="function"){var c=s.value;e.payload=function(){return o(c)},e.callback=function(){Pf(t,a,s)}}var h=a.stateNode;h!==null&&typeof h.componentDidCatch=="function"&&(e.callback=function(){Pf(t,a,s),typeof o!="function"&&(qn===null?qn=new Set([this]):qn.add(this));var p=s.stack;this.componentDidCatch(s.value,{componentStack:p!==null?p:""})})}function Qp(e,t,a,s,o){if(a.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=a.alternate,t!==null&&Va(t,a,o,!0),a=Nt.current,a!==null){switch(a.tag){case 31:case 13:return Vt===null?jr():a.alternate===null&&ke===0&&(ke=3),a.flags&=-257,a.flags|=65536,a.lanes=o,s===rr?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([s]):t.add(s),gu(e,s,o)),!1;case 22:return a.flags|=65536,s===rr?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([s]):a.add(s)),gu(e,s,o)),!1}throw Error(l(435,a.tag))}return gu(e,s,o),jr(),!1}if(pe)return t=Nt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,s!==co&&(e=Error(l(422),{cause:s}),Gi(Bt(e,a)))):(s!==co&&(t=Error(l(423),{cause:s}),Gi(Bt(t,a))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,s=Bt(s,a),o=Ko(e.stateNode,s,o),So(e,o),ke!==4&&(ke=2)),!1;var c=Error(l(520),{cause:s});if(c=Bt(c,a),rs===null?rs=[c]:rs.push(c),ke!==4&&(ke=2),t===null)return!0;s=Bt(s,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=o&-o,a.lanes|=e,e=Ko(a.stateNode,s,e),So(a,e),!1;case 1:if(t=a.type,c=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(qn===null||!qn.has(c))))return a.flags|=65536,o&=-o,a.lanes|=o,o=Jf(o),Xf(o,e,a,s),So(a,o),!1}a=a.return}while(a!==null);return!1}var Po=Error(l(461)),Ke=!1;function at(e,t,a,s){t.child=e===null?Fd(t,null,a,s):ha(t,e.child,a,s)}function Qf(e,t,a,s,o){a=a.render;var c=t.ref;if("ref"in s){var h={};for(var p in s)p!=="ref"&&(h[p]=s[p])}else h=s;return ua(t),s=No(e,t,a,h,c,o),p=Ro(),e!==null&&!Ke?(Co(e,t,o),yn(e,t,o)):(pe&&p&&oo(t),t.flags|=1,at(e,t,s,o),t.child)}function Zf(e,t,a,s,o){if(e===null){var c=a.type;return typeof c=="function"&&!so(c)&&c.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=c,Ff(e,t,c,s,o)):(e=er(a.type,null,s,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!tu(e,o)){var h=c.memoizedProps;if(a=a.compare,a=a!==null?a:zi,a(h,s)&&e.ref===t.ref)return yn(e,t,o)}return t.flags|=1,e=cn(c,s),e.ref=t.ref,e.return=t,t.child=e}function Ff(e,t,a,s,o){if(e!==null){var c=e.memoizedProps;if(zi(c,s)&&e.ref===t.ref)if(Ke=!1,t.pendingProps=s=c,tu(e,o))(e.flags&131072)!==0&&(Ke=!0);else return t.lanes=e.lanes,yn(e,t,o)}return Jo(e,t,a,s,o)}function Wf(e,t,a,s){var o=s.children,c=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(c=c!==null?c.baseLanes|a:a,e!==null){for(s=t.child=e.child,o=0;s!==null;)o=o|s.lanes|s.childLanes,s=s.sibling;s=o&~c}else s=0,t.child=null;return eh(e,t,c,a,s)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ir(t,c!==null?c.cachePool:null),c!==null?tf(t,c):To(),nf(t);else return s=t.lanes=536870912,eh(e,t,c!==null?c.baseLanes|a:a,a,s)}else c!==null?(ir(t,c.cachePool),tf(t,c),zn(),t.memoizedState=null):(e!==null&&ir(t,null),To(),zn());return at(e,t,o,a),t.child}function Wi(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function eh(e,t,a,s,o){var c=po();return c=c===null?null:{parent:$e._currentValue,pool:c},t.memoizedState={baseLanes:a,cachePool:c},e!==null&&ir(t,null),To(),nf(t),e!==null&&Va(e,t,s,!0),t.childLanes=o,null}function br(e,t){return t=Sr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function th(e,t,a){return ha(t,e.child,null,a),e=br(t,t.pendingProps),e.flags|=2,Rt(t),t.memoizedState=null,e}function Zp(e,t,a){var s=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(pe){if(s.mode==="hidden")return e=br(t,s),t.lanes=536870912,Wi(null,e);if(xo(t),(e=De)?(e=hm(e,qt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Cn!==null?{id:en,overflow:tn}:null,retryLane:536870912,hydrationErrors:null},a=kd(e),a.return=t,t.child=a,tt=t,De=null)):e=null,e===null)throw Dn(t);return t.lanes=536870912,null}return br(t,s)}var c=e.memoizedState;if(c!==null){var h=c.dehydrated;if(xo(t),o)if(t.flags&256)t.flags&=-257,t=th(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(l(558));else if(Ke||Va(e,t,a,!1),o=(a&e.childLanes)!==0,Ke||o){if(s=Ce,s!==null&&(h=$c(s,a),h!==0&&h!==c.retryLane))throw c.retryLane=h,sa(e,h),Et(s,e,h),Po;jr(),t=th(e,t,a)}else e=c.treeContext,De=$t(h.nextSibling),tt=t,pe=!0,jn=null,qt=!1,e!==null&&Hd(t,e),t=br(t,s),t.flags|=4096;return t}return e=cn(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Er(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Jo(e,t,a,s,o){return ua(t),a=No(e,t,a,s,void 0,o),s=Ro(),e!==null&&!Ke?(Co(e,t,o),yn(e,t,o)):(pe&&s&&oo(t),t.flags|=1,at(e,t,a,o),t.child)}function nh(e,t,a,s,o,c){return ua(t),t.updateQueue=null,a=sf(t,s,a,o),af(e),s=Ro(),e!==null&&!Ke?(Co(e,t,c),yn(e,t,c)):(pe&&s&&oo(t),t.flags|=1,at(e,t,a,c),t.child)}function ah(e,t,a,s,o){if(ua(t),t.stateNode===null){var c=Ba,h=a.contextType;typeof h=="object"&&h!==null&&(c=nt(h)),c=new a(s,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Yo,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=s,c.state=t.memoizedState,c.refs={},bo(t),h=a.contextType,c.context=typeof h=="object"&&h!==null?nt(h):Ba,c.state=t.memoizedState,h=a.getDerivedStateFromProps,typeof h=="function"&&($o(t,a,h,s),c.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(h=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),h!==c.state&&Yo.enqueueReplaceState(c,c.state,null),Ji(t,s,c,o),Pi(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){c=t.stateNode;var p=t.memoizedProps,w=va(a,p);c.props=w;var j=c.context,M=a.contextType;h=Ba,typeof M=="object"&&M!==null&&(h=nt(M));var z=a.getDerivedStateFromProps;M=typeof z=="function"||typeof c.getSnapshotBeforeUpdate=="function",p=t.pendingProps!==p,M||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(p||j!==h)&&Vf(t,c,s,h),In=!1;var D=t.memoizedState;c.state=D,Ji(t,s,c,o),Pi(),j=t.memoizedState,p||D!==j||In?(typeof z=="function"&&($o(t,a,z,s),j=t.memoizedState),(w=In||qf(t,a,w,s,D,j,h))?(M||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=j),c.props=s,c.state=j,c.context=h,s=w):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{c=t.stateNode,Eo(e,t),h=t.memoizedProps,M=va(a,h),c.props=M,z=t.pendingProps,D=c.context,j=a.contextType,w=Ba,typeof j=="object"&&j!==null&&(w=nt(j)),p=a.getDerivedStateFromProps,(j=typeof p=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(h!==z||D!==w)&&Vf(t,c,s,w),In=!1,D=t.memoizedState,c.state=D,Ji(t,s,c,o),Pi();var U=t.memoizedState;h!==z||D!==U||In||e!==null&&e.dependencies!==null&&nr(e.dependencies)?(typeof p=="function"&&($o(t,a,p,s),U=t.memoizedState),(M=In||qf(t,a,M,s,D,U,w)||e!==null&&e.dependencies!==null&&nr(e.dependencies))?(j||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(s,U,w),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(s,U,w)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||h===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=U),c.props=s,c.state=U,c.context=w,s=M):(typeof c.componentDidUpdate!="function"||h===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),s=!1)}return c=s,Er(e,t),s=(t.flags&128)!==0,c||s?(c=t.stateNode,a=s&&typeof a.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,e!==null&&s?(t.child=ha(t,e.child,null,o),t.child=ha(t,null,a,o)):at(e,t,a,o),t.memoizedState=c.state,e=t.child):e=yn(e,t,o),e}function ih(e,t,a,s){return la(),t.flags|=256,at(e,t,a,s),t.child}var Xo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qo(e){return{baseLanes:e,cachePool:Kd()}}function Zo(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=jt),e}function sh(e,t,a){var s=t.pendingProps,o=!1,c=(t.flags&128)!==0,h;if((h=c)||(h=e!==null&&e.memoizedState===null?!1:(Ge.current&2)!==0),h&&(o=!0,t.flags&=-129),h=(t.flags&32)!==0,t.flags&=-33,e===null){if(pe){if(o?kn(t):zn(),(e=De)?(e=hm(e,qt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Cn!==null?{id:en,overflow:tn}:null,retryLane:536870912,hydrationErrors:null},a=kd(e),a.return=t,t.child=a,tt=t,De=null)):e=null,e===null)throw Dn(t);return Uu(e)?t.lanes=32:t.lanes=536870912,null}var p=s.children;return s=s.fallback,o?(zn(),o=t.mode,p=Sr({mode:"hidden",children:p},o),s=ra(s,o,a,null),p.return=t,s.return=t,p.sibling=s,t.child=p,s=t.child,s.memoizedState=Qo(a),s.childLanes=Zo(e,h,a),t.memoizedState=Xo,Wi(null,s)):(kn(t),Fo(t,p))}var w=e.memoizedState;if(w!==null&&(p=w.dehydrated,p!==null)){if(c)t.flags&256?(kn(t),t.flags&=-257,t=Wo(e,t,a)):t.memoizedState!==null?(zn(),t.child=e.child,t.flags|=128,t=null):(zn(),p=s.fallback,o=t.mode,s=Sr({mode:"visible",children:s.children},o),p=ra(p,o,a,null),p.flags|=2,s.return=t,p.return=t,s.sibling=p,t.child=s,ha(t,e.child,null,a),s=t.child,s.memoizedState=Qo(a),s.childLanes=Zo(e,h,a),t.memoizedState=Xo,t=Wi(null,s));else if(kn(t),Uu(p)){if(h=p.nextSibling&&p.nextSibling.dataset,h)var j=h.dgst;h=j,s=Error(l(419)),s.stack="",s.digest=h,Gi({value:s,source:null,stack:null}),t=Wo(e,t,a)}else if(Ke||Va(e,t,a,!1),h=(a&e.childLanes)!==0,Ke||h){if(h=Ce,h!==null&&(s=$c(h,a),s!==0&&s!==w.retryLane))throw w.retryLane=s,sa(e,s),Et(h,e,s),Po;Du(p)||jr(),t=Wo(e,t,a)}else Du(p)?(t.flags|=192,t.child=e.child,t=null):(e=w.treeContext,De=$t(p.nextSibling),tt=t,pe=!0,jn=null,qt=!1,e!==null&&Hd(t,e),t=Fo(t,s.children),t.flags|=4096);return t}return o?(zn(),p=s.fallback,o=t.mode,w=e.child,j=w.sibling,s=cn(w,{mode:"hidden",children:s.children}),s.subtreeFlags=w.subtreeFlags&65011712,j!==null?p=cn(j,p):(p=ra(p,o,a,null),p.flags|=2),p.return=t,s.return=t,s.sibling=p,t.child=s,Wi(null,s),s=t.child,p=e.child.memoizedState,p===null?p=Qo(a):(o=p.cachePool,o!==null?(w=$e._currentValue,o=o.parent!==w?{parent:w,pool:w}:o):o=Kd(),p={baseLanes:p.baseLanes|a,cachePool:o}),s.memoizedState=p,s.childLanes=Zo(e,h,a),t.memoizedState=Xo,Wi(e.child,s)):(kn(t),a=e.child,e=a.sibling,a=cn(a,{mode:"visible",children:s.children}),a.return=t,a.sibling=null,e!==null&&(h=t.deletions,h===null?(t.deletions=[e],t.flags|=16):h.push(e)),t.child=a,t.memoizedState=null,a)}function Fo(e,t){return t=Sr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Sr(e,t){return e=Ot(22,e,null,t),e.lanes=0,e}function Wo(e,t,a){return ha(t,e.child,null,a),e=Fo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function rh(e,t,a){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),mo(e.return,t,a)}function eu(e,t,a,s,o,c){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:o,treeForkCount:c}:(h.isBackwards=t,h.rendering=null,h.renderingStartTime=0,h.last=s,h.tail=a,h.tailMode=o,h.treeForkCount=c)}function lh(e,t,a){var s=t.pendingProps,o=s.revealOrder,c=s.tail;s=s.children;var h=Ge.current,p=(h&2)!==0;if(p?(h=h&1|2,t.flags|=128):h&=1,V(Ge,h),at(e,t,s,a),s=pe?Hi:0,!p&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&rh(e,a,t);else if(e.tag===19)rh(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(a=t.child,o=null;a!==null;)e=a.alternate,e!==null&&cr(e)===null&&(o=a),a=a.sibling;a=o,a===null?(o=t.child,t.child=null):(o=a.sibling,a.sibling=null),eu(t,!1,o,a,c,s);break;case"backwards":case"unstable_legacy-backwards":for(a=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&cr(e)===null){t.child=o;break}e=o.sibling,o.sibling=a,a=o,o=e}eu(t,!0,a,null,c,s);break;case"together":eu(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function yn(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Gn|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Va(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,a=cn(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=cn(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function tu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&nr(e)))}function Fp(e,t,a){switch(t.tag){case 3:ie(t,t.stateNode.containerInfo),Un(t,$e,e.memoizedState.cache),la();break;case 27:case 5:He(t);break;case 4:ie(t,t.stateNode.containerInfo);break;case 10:Un(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,xo(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(kn(t),t.flags|=128,null):(a&t.child.childLanes)!==0?sh(e,t,a):(kn(t),e=yn(e,t,a),e!==null?e.sibling:null);kn(t);break;case 19:var o=(e.flags&128)!==0;if(s=(a&t.childLanes)!==0,s||(Va(e,t,a,!1),s=(a&t.childLanes)!==0),o){if(s)return lh(e,t,a);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),V(Ge,Ge.current),s)break;return null;case 22:return t.lanes=0,Wf(e,t,a,t.pendingProps);case 24:Un(t,$e,e.memoizedState.cache)}return yn(e,t,a)}function oh(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ke=!0;else{if(!tu(e,a)&&(t.flags&128)===0)return Ke=!1,Fp(e,t,a);Ke=(e.flags&131072)!==0}else Ke=!1,pe&&(t.flags&1048576)!==0&&Bd(t,Hi,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=da(t.elementType),t.type=e,typeof e=="function")so(e)?(s=va(e,s),t.tag=1,t=ah(null,t,e,s,a)):(t.tag=0,t=Jo(null,t,e,s,a));else{if(e!=null){var o=e.$$typeof;if(o===K){t.tag=11,t=Qf(null,t,e,s,a);break e}else if(o===X){t.tag=14,t=Zf(null,t,e,s,a);break e}}throw t=ut(e)||e,Error(l(306,t,""))}}return t;case 0:return Jo(e,t,t.type,t.pendingProps,a);case 1:return s=t.type,o=va(s,t.pendingProps),ah(e,t,s,o,a);case 3:e:{if(ie(t,t.stateNode.containerInfo),e===null)throw Error(l(387));s=t.pendingProps;var c=t.memoizedState;o=c.element,Eo(e,t),Ji(t,s,null,a);var h=t.memoizedState;if(s=h.cache,Un(t,$e,s),s!==c.cache&&vo(t,[$e],a,!0),Pi(),s=h.element,c.isDehydrated)if(c={element:s,isDehydrated:!1,cache:h.cache},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){t=ih(e,t,s,a);break e}else if(s!==o){o=Bt(Error(l(424)),t),Gi(o),t=ih(e,t,s,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(De=$t(e.firstChild),tt=t,pe=!0,jn=null,qt=!0,a=Fd(t,null,s,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(la(),s===o){t=yn(e,t,a);break e}at(e,t,s,a)}t=t.child}return t;case 26:return Er(e,t),e===null?(a=_m(t.type,null,t.pendingProps,null))?t.memoizedState=a:pe||(a=t.type,e=t.pendingProps,s=zr(Y.current).createElement(a),s[et]=t,s[vt]=e,it(s,a,e),Fe(s),t.stateNode=s):t.memoizedState=_m(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return He(t),e===null&&pe&&(s=t.stateNode=ym(t.type,t.pendingProps,Y.current),tt=t,qt=!0,o=De,Kn(t.type)?(Iu=o,De=$t(s.firstChild)):De=o),at(e,t,t.pendingProps.children,a),Er(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&pe&&((o=s=De)&&(s=N0(s,t.type,t.pendingProps,qt),s!==null?(t.stateNode=s,tt=t,De=$t(s.firstChild),qt=!1,o=!0):o=!1),o||Dn(t)),He(t),o=t.type,c=t.pendingProps,h=e!==null?e.memoizedProps:null,s=c.children,Ru(o,c)?s=null:h!==null&&Ru(o,h)&&(t.flags|=32),t.memoizedState!==null&&(o=No(e,t,Vp,null,null,a),ms._currentValue=o),Er(e,t),at(e,t,s,a),t.child;case 6:return e===null&&pe&&((e=a=De)&&(a=R0(a,t.pendingProps,qt),a!==null?(t.stateNode=a,tt=t,De=null,e=!0):e=!1),e||Dn(t)),null;case 13:return sh(e,t,a);case 4:return ie(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=ha(t,null,s,a):at(e,t,s,a),t.child;case 11:return Qf(e,t,t.type,t.pendingProps,a);case 7:return at(e,t,t.pendingProps,a),t.child;case 8:return at(e,t,t.pendingProps.children,a),t.child;case 12:return at(e,t,t.pendingProps.children,a),t.child;case 10:return s=t.pendingProps,Un(t,t.type,s.value),at(e,t,s.children,a),t.child;case 9:return o=t.type._context,s=t.pendingProps.children,ua(t),o=nt(o),s=s(o),t.flags|=1,at(e,t,s,a),t.child;case 14:return Zf(e,t,t.type,t.pendingProps,a);case 15:return Ff(e,t,t.type,t.pendingProps,a);case 19:return lh(e,t,a);case 31:return Zp(e,t,a);case 22:return Wf(e,t,a,t.pendingProps);case 24:return ua(t),s=nt($e),e===null?(o=po(),o===null&&(o=Ce,c=yo(),o.pooledCache=c,c.refCount++,c!==null&&(o.pooledCacheLanes|=a),o=c),t.memoizedState={parent:s,cache:o},bo(t),Un(t,$e,o)):((e.lanes&a)!==0&&(Eo(e,t),Ji(t,null,null,a),Pi()),o=e.memoizedState,c=t.memoizedState,o.parent!==s?(o={parent:s,cache:s},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Un(t,$e,s)):(s=c.cache,Un(t,$e,s),s!==o.cache&&vo(t,[$e],a,!0))),at(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function gn(e){e.flags|=4}function nu(e,t,a,s,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(Mh())e.flags|=8192;else throw fa=rr,_o}else e.flags&=-16777217}function uh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Tm(t))if(Mh())e.flags|=8192;else throw fa=rr,_o}function wr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Gc():536870912,e.lanes|=t,ti|=t)}function es(e,t){if(!pe)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ue(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,s=0;if(t)for(var o=e.child;o!==null;)a|=o.lanes|o.childLanes,s|=o.subtreeFlags&65011712,s|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)a|=o.lanes|o.childLanes,s|=o.subtreeFlags,s|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=s,e.childLanes=a,t}function Wp(e,t,a){var s=t.pendingProps;switch(uo(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ue(t),null;case 1:return Ue(t),null;case 3:return a=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),hn($e),ge(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(qa(t)?gn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,fo())),Ue(t),null;case 26:var o=t.type,c=t.memoizedState;return e===null?(gn(t),c!==null?(Ue(t),uh(t,c)):(Ue(t),nu(t,o,null,s,a))):c?c!==e.memoizedState?(gn(t),Ue(t),uh(t,c)):(Ue(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&gn(t),Ue(t),nu(t,o,e,s,a)),null;case 27:if(sn(t),a=Y.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&gn(t);else{if(!s){if(t.stateNode===null)throw Error(l(166));return Ue(t),null}e=$.current,qa(t)?Gd(t):(e=ym(o,s,a),t.stateNode=e,gn(t))}return Ue(t),null;case 5:if(sn(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&gn(t);else{if(!s){if(t.stateNode===null)throw Error(l(166));return Ue(t),null}if(c=$.current,qa(t))Gd(t);else{var h=zr(Y.current);switch(c){case 1:c=h.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:c=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":c=h.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":c=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":c=h.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof s.is=="string"?h.createElement("select",{is:s.is}):h.createElement("select"),s.multiple?c.multiple=!0:s.size&&(c.size=s.size);break;default:c=typeof s.is=="string"?h.createElement(o,{is:s.is}):h.createElement(o)}}c[et]=t,c[vt]=s;e:for(h=t.child;h!==null;){if(h.tag===5||h.tag===6)c.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}t.stateNode=c;e:switch(it(c,o,s),o){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&gn(t)}}return Ue(t),nu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&gn(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(l(166));if(e=Y.current,qa(t)){if(e=t.stateNode,a=t.memoizedProps,s=null,o=tt,o!==null)switch(o.tag){case 27:case 5:s=o.memoizedProps}e[et]=t,e=!!(e.nodeValue===a||s!==null&&s.suppressHydrationWarning===!0||sm(e.nodeValue,a)),e||Dn(t,!0)}else e=zr(e).createTextNode(s),e[et]=t,t.stateNode=e}return Ue(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(s=qa(t),a!==null){if(e===null){if(!s)throw Error(l(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[et]=t}else la(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ue(t),e=!1}else a=fo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Rt(t),t):(Rt(t),null);if((t.flags&128)!==0)throw Error(l(558))}return Ue(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=qa(t),s!==null&&s.dehydrated!==null){if(e===null){if(!o)throw Error(l(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(l(317));o[et]=t}else la(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ue(t),o=!1}else o=fo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(Rt(t),t):(Rt(t),null)}return Rt(t),(t.flags&128)!==0?(t.lanes=a,t):(a=s!==null,e=e!==null&&e.memoizedState!==null,a&&(s=t.child,o=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(o=s.alternate.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),wr(t,t.updateQueue),Ue(t),null);case 4:return ge(),e===null&&Tu(t.stateNode.containerInfo),Ue(t),null;case 10:return hn(t.type),Ue(t),null;case 19:if(B(Ge),s=t.memoizedState,s===null)return Ue(t),null;if(o=(t.flags&128)!==0,c=s.rendering,c===null)if(o)es(s,!1);else{if(ke!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=cr(e),c!==null){for(t.flags|=128,es(s,!1),e=c.updateQueue,t.updateQueue=e,wr(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Ld(a,e),a=a.sibling;return V(Ge,Ge.current&1|2),pe&&dn(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&wt()>Nr&&(t.flags|=128,o=!0,es(s,!1),t.lanes=4194304)}else{if(!o)if(e=cr(c),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,wr(t,e),es(s,!0),s.tail===null&&s.tailMode==="hidden"&&!c.alternate&&!pe)return Ue(t),null}else 2*wt()-s.renderingStartTime>Nr&&a!==536870912&&(t.flags|=128,o=!0,es(s,!1),t.lanes=4194304);s.isBackwards?(c.sibling=t.child,t.child=c):(e=s.last,e!==null?e.sibling=c:t.child=c,s.last=c)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=wt(),e.sibling=null,a=Ge.current,V(Ge,o?a&1|2:a&1),pe&&dn(t,s.treeForkCount),e):(Ue(t),null);case 22:case 23:return Rt(t),Ao(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(a&536870912)!==0&&(t.flags&128)===0&&(Ue(t),t.subtreeFlags&6&&(t.flags|=8192)):Ue(t),a=t.updateQueue,a!==null&&wr(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==a&&(t.flags|=2048),e!==null&&B(ca),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),hn($e),Ue(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function e0(e,t){switch(uo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return hn($e),ge(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return sn(t),null;case 31:if(t.memoizedState!==null){if(Rt(t),t.alternate===null)throw Error(l(340));la()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Rt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));la()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return B(Ge),null;case 4:return ge(),null;case 10:return hn(t.type),null;case 22:case 23:return Rt(t),Ao(),e!==null&&B(ca),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return hn($e),null;case 25:return null;default:return null}}function ch(e,t){switch(uo(t),t.tag){case 3:hn($e),ge();break;case 26:case 27:case 5:sn(t);break;case 4:ge();break;case 31:t.memoizedState!==null&&Rt(t);break;case 13:Rt(t);break;case 19:B(Ge);break;case 10:hn(t.type);break;case 22:case 23:Rt(t),Ao(),e!==null&&B(ca);break;case 24:hn($e)}}function ts(e,t){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var o=s.next;a=o;do{if((a.tag&e)===e){s=void 0;var c=a.create,h=a.inst;s=c(),h.destroy=s}a=a.next}while(a!==o)}}catch(p){xe(t,t.return,p)}}function Bn(e,t,a){try{var s=t.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var c=o.next;s=c;do{if((s.tag&e)===e){var h=s.inst,p=h.destroy;if(p!==void 0){h.destroy=void 0,o=t;var w=a,j=p;try{j()}catch(M){xe(o,w,M)}}}s=s.next}while(s!==c)}}catch(M){xe(t,t.return,M)}}function dh(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{ef(t,a)}catch(s){xe(e,e.return,s)}}}function fh(e,t,a){a.props=va(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(s){xe(e,t,s)}}function ns(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof a=="function"?e.refCleanup=a(s):a.current=s}}catch(o){xe(e,t,o)}}function nn(e,t){var a=e.ref,s=e.refCleanup;if(a!==null)if(typeof s=="function")try{s()}catch(o){xe(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(o){xe(e,t,o)}else a.current=null}function hh(e){var t=e.type,a=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&s.focus();break e;case"img":a.src?s.src=a.src:a.srcSet&&(s.srcset=a.srcSet)}}catch(o){xe(e,e.return,o)}}function au(e,t,a){try{var s=e.stateNode;S0(s,e.type,a,t),s[vt]=t}catch(o){xe(e,e.return,o)}}function mh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Kn(e.type)||e.tag===4}function iu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||mh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Kn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function su(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=on));else if(s!==4&&(s===27&&Kn(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(su(e,t,a),e=e.sibling;e!==null;)su(e,t,a),e=e.sibling}function Tr(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(s!==4&&(s===27&&Kn(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Tr(e,t,a),e=e.sibling;e!==null;)Tr(e,t,a),e=e.sibling}function vh(e){var t=e.stateNode,a=e.memoizedProps;try{for(var s=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);it(t,s,a),t[et]=e,t[vt]=a}catch(c){xe(e,e.return,c)}}var pn=!1,Pe=!1,ru=!1,yh=typeof WeakSet=="function"?WeakSet:Set,We=null;function t0(e,t){if(e=e.containerInfo,Ou=Yr,e=Od(e),Fl(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var o=s.anchorOffset,c=s.focusNode;s=s.focusOffset;try{a.nodeType,c.nodeType}catch{a=null;break e}var h=0,p=-1,w=-1,j=0,M=0,z=e,D=null;t:for(;;){for(var U;z!==a||o!==0&&z.nodeType!==3||(p=h+o),z!==c||s!==0&&z.nodeType!==3||(w=h+s),z.nodeType===3&&(h+=z.nodeValue.length),(U=z.firstChild)!==null;)D=z,z=U;for(;;){if(z===e)break t;if(D===a&&++j===o&&(p=h),D===c&&++M===s&&(w=h),(U=z.nextSibling)!==null)break;z=D,D=z.parentNode}z=U}a=p===-1||w===-1?null:{start:p,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(Nu={focusedElem:e,selectionRange:a},Yr=!1,We=t;We!==null;)if(t=We,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,We=e;else for(;We!==null;){switch(t=We,c=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)o=e[a],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&c!==null){e=void 0,a=t,o=c.memoizedProps,c=c.memoizedState,s=a.stateNode;try{var J=va(a.type,o);e=s.getSnapshotBeforeUpdate(J,c),s.__reactInternalSnapshotBeforeUpdate=e}catch(te){xe(a,a.return,te)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)ju(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ju(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,We=e;break}We=t.return}}function gh(e,t,a){var s=a.flags;switch(a.tag){case 0:case 11:case 15:bn(e,a),s&4&&ts(5,a);break;case 1:if(bn(e,a),s&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(h){xe(a,a.return,h)}else{var o=va(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(h){xe(a,a.return,h)}}s&64&&dh(a),s&512&&ns(a,a.return);break;case 3:if(bn(e,a),s&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{ef(e,t)}catch(h){xe(a,a.return,h)}}break;case 27:t===null&&s&4&&vh(a);case 26:case 5:bn(e,a),t===null&&s&4&&hh(a),s&512&&ns(a,a.return);break;case 12:bn(e,a);break;case 31:bn(e,a),s&4&&bh(e,a);break;case 13:bn(e,a),s&4&&Eh(e,a),s&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=c0.bind(null,a),C0(e,a))));break;case 22:if(s=a.memoizedState!==null||pn,!s){t=t!==null&&t.memoizedState!==null||Pe,o=pn;var c=Pe;pn=s,(Pe=t)&&!c?En(e,a,(a.subtreeFlags&8772)!==0):bn(e,a),pn=o,Pe=c}break;case 30:break;default:bn(e,a)}}function ph(e){var t=e.alternate;t!==null&&(e.alternate=null,ph(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Ml(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ie=null,gt=!1;function _n(e,t,a){for(a=a.child;a!==null;)_h(e,t,a),a=a.sibling}function _h(e,t,a){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(xi,a)}catch{}switch(a.tag){case 26:Pe||nn(a,t),_n(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Pe||nn(a,t);var s=Ie,o=gt;Kn(a.type)&&(Ie=a.stateNode,gt=!1),_n(e,t,a),ds(a.stateNode),Ie=s,gt=o;break;case 5:Pe||nn(a,t);case 6:if(s=Ie,o=gt,Ie=null,_n(e,t,a),Ie=s,gt=o,Ie!==null)if(gt)try{(Ie.nodeType===9?Ie.body:Ie.nodeName==="HTML"?Ie.ownerDocument.body:Ie).removeChild(a.stateNode)}catch(c){xe(a,t,c)}else try{Ie.removeChild(a.stateNode)}catch(c){xe(a,t,c)}break;case 18:Ie!==null&&(gt?(e=Ie,dm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),ui(e)):dm(Ie,a.stateNode));break;case 4:s=Ie,o=gt,Ie=a.stateNode.containerInfo,gt=!0,_n(e,t,a),Ie=s,gt=o;break;case 0:case 11:case 14:case 15:Bn(2,a,t),Pe||Bn(4,a,t),_n(e,t,a);break;case 1:Pe||(nn(a,t),s=a.stateNode,typeof s.componentWillUnmount=="function"&&fh(a,t,s)),_n(e,t,a);break;case 21:_n(e,t,a);break;case 22:Pe=(s=Pe)||a.memoizedState!==null,_n(e,t,a),Pe=s;break;default:_n(e,t,a)}}function bh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ui(e)}catch(a){xe(t,t.return,a)}}}function Eh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ui(e)}catch(a){xe(t,t.return,a)}}function n0(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new yh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new yh),t;default:throw Error(l(435,e.tag))}}function Ar(e,t){var a=n0(e);t.forEach(function(s){if(!a.has(s)){a.add(s);var o=d0.bind(null,e,s);s.then(o,o)}})}function pt(e,t){var a=t.deletions;if(a!==null)for(var s=0;s<a.length;s++){var o=a[s],c=e,h=t,p=h;e:for(;p!==null;){switch(p.tag){case 27:if(Kn(p.type)){Ie=p.stateNode,gt=!1;break e}break;case 5:Ie=p.stateNode,gt=!1;break e;case 3:case 4:Ie=p.stateNode.containerInfo,gt=!0;break e}p=p.return}if(Ie===null)throw Error(l(160));_h(c,h,o),Ie=null,gt=!1,c=o.alternate,c!==null&&(c.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Sh(t,e),t=t.sibling}var Xt=null;function Sh(e,t){var a=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:pt(t,e),_t(e),s&4&&(Bn(3,e,e.return),ts(3,e),Bn(5,e,e.return));break;case 1:pt(t,e),_t(e),s&512&&(Pe||a===null||nn(a,a.return)),s&64&&pn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?s:a.concat(s))));break;case 26:var o=Xt;if(pt(t,e),_t(e),s&512&&(Pe||a===null||nn(a,a.return)),s&4){var c=a!==null?a.memoizedState:null;if(s=e.memoizedState,a===null)if(s===null)if(e.stateNode===null){e:{s=e.type,a=e.memoizedProps,o=o.ownerDocument||o;t:switch(s){case"title":c=o.getElementsByTagName("title")[0],(!c||c[Ri]||c[et]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=o.createElement(s),o.head.insertBefore(c,o.querySelector("head > title"))),it(c,s,a),c[et]=e,Fe(c),s=c;break e;case"link":var h=Sm("link","href",o).get(s+(a.href||""));if(h){for(var p=0;p<h.length;p++)if(c=h[p],c.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&c.getAttribute("rel")===(a.rel==null?null:a.rel)&&c.getAttribute("title")===(a.title==null?null:a.title)&&c.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){h.splice(p,1);break t}}c=o.createElement(s),it(c,s,a),o.head.appendChild(c);break;case"meta":if(h=Sm("meta","content",o).get(s+(a.content||""))){for(p=0;p<h.length;p++)if(c=h[p],c.getAttribute("content")===(a.content==null?null:""+a.content)&&c.getAttribute("name")===(a.name==null?null:a.name)&&c.getAttribute("property")===(a.property==null?null:a.property)&&c.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&c.getAttribute("charset")===(a.charSet==null?null:a.charSet)){h.splice(p,1);break t}}c=o.createElement(s),it(c,s,a),o.head.appendChild(c);break;default:throw Error(l(468,s))}c[et]=e,Fe(c),s=c}e.stateNode=s}else wm(o,e.type,e.stateNode);else e.stateNode=Em(o,s,e.memoizedProps);else c!==s?(c===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):c.count--,s===null?wm(o,e.type,e.stateNode):Em(o,s,e.memoizedProps)):s===null&&e.stateNode!==null&&au(e,e.memoizedProps,a.memoizedProps)}break;case 27:pt(t,e),_t(e),s&512&&(Pe||a===null||nn(a,a.return)),a!==null&&s&4&&au(e,e.memoizedProps,a.memoizedProps);break;case 5:if(pt(t,e),_t(e),s&512&&(Pe||a===null||nn(a,a.return)),e.flags&32){o=e.stateNode;try{Da(o,"")}catch(J){xe(e,e.return,J)}}s&4&&e.stateNode!=null&&(o=e.memoizedProps,au(e,o,a!==null?a.memoizedProps:o)),s&1024&&(ru=!0);break;case 6:if(pt(t,e),_t(e),s&4){if(e.stateNode===null)throw Error(l(162));s=e.memoizedProps,a=e.stateNode;try{a.nodeValue=s}catch(J){xe(e,e.return,J)}}break;case 3:if(Gr=null,o=Xt,Xt=Br(t.containerInfo),pt(t,e),Xt=o,_t(e),s&4&&a!==null&&a.memoizedState.isDehydrated)try{ui(t.containerInfo)}catch(J){xe(e,e.return,J)}ru&&(ru=!1,wh(e));break;case 4:s=Xt,Xt=Br(e.stateNode.containerInfo),pt(t,e),_t(e),Xt=s;break;case 12:pt(t,e),_t(e);break;case 31:pt(t,e),_t(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Ar(e,s)));break;case 13:pt(t,e),_t(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Or=wt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Ar(e,s)));break;case 22:o=e.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,j=pn,M=Pe;if(pn=j||o,Pe=M||w,pt(t,e),Pe=M,pn=j,_t(e),s&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(a===null||w||pn||Pe||ya(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){w=a=t;try{if(c=w.stateNode,o)h=c.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none";else{p=w.stateNode;var z=w.memoizedProps.style,D=z!=null&&z.hasOwnProperty("display")?z.display:null;p.style.display=D==null||typeof D=="boolean"?"":(""+D).trim()}}catch(J){xe(w,w.return,J)}}}else if(t.tag===6){if(a===null){w=t;try{w.stateNode.nodeValue=o?"":w.memoizedProps}catch(J){xe(w,w.return,J)}}}else if(t.tag===18){if(a===null){w=t;try{var U=w.stateNode;o?fm(U,!0):fm(w.stateNode,!1)}catch(J){xe(w,w.return,J)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(a=s.retryQueue,a!==null&&(s.retryQueue=null,Ar(e,a))));break;case 19:pt(t,e),_t(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Ar(e,s)));break;case 30:break;case 21:break;default:pt(t,e),_t(e)}}function _t(e){var t=e.flags;if(t&2){try{for(var a,s=e.return;s!==null;){if(mh(s)){a=s;break}s=s.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var o=a.stateNode,c=iu(e);Tr(e,c,o);break;case 5:var h=a.stateNode;a.flags&32&&(Da(h,""),a.flags&=-33);var p=iu(e);Tr(e,p,h);break;case 3:case 4:var w=a.stateNode.containerInfo,j=iu(e);su(e,j,w);break;default:throw Error(l(161))}}catch(M){xe(e,e.return,M)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function wh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;wh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function bn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)gh(e,t.alternate,t),t=t.sibling}function ya(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Bn(4,t,t.return),ya(t);break;case 1:nn(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&fh(t,t.return,a),ya(t);break;case 27:ds(t.stateNode);case 26:case 5:nn(t,t.return),ya(t);break;case 22:t.memoizedState===null&&ya(t);break;case 30:ya(t);break;default:ya(t)}e=e.sibling}}function En(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,o=e,c=t,h=c.flags;switch(c.tag){case 0:case 11:case 15:En(o,c,a),ts(4,c);break;case 1:if(En(o,c,a),s=c,o=s.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(j){xe(s,s.return,j)}if(s=c,o=s.updateQueue,o!==null){var p=s.stateNode;try{var w=o.shared.hiddenCallbacks;if(w!==null)for(o.shared.hiddenCallbacks=null,o=0;o<w.length;o++)Wd(w[o],p)}catch(j){xe(s,s.return,j)}}a&&h&64&&dh(c),ns(c,c.return);break;case 27:vh(c);case 26:case 5:En(o,c,a),a&&s===null&&h&4&&hh(c),ns(c,c.return);break;case 12:En(o,c,a);break;case 31:En(o,c,a),a&&h&4&&bh(o,c);break;case 13:En(o,c,a),a&&h&4&&Eh(o,c);break;case 22:c.memoizedState===null&&En(o,c,a),ns(c,c.return);break;case 30:break;default:En(o,c,a)}t=t.sibling}}function lu(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&qi(a))}function ou(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&qi(e))}function Qt(e,t,a,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Th(e,t,a,s),t=t.sibling}function Th(e,t,a,s){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Qt(e,t,a,s),o&2048&&ts(9,t);break;case 1:Qt(e,t,a,s);break;case 3:Qt(e,t,a,s),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&qi(e)));break;case 12:if(o&2048){Qt(e,t,a,s),e=t.stateNode;try{var c=t.memoizedProps,h=c.id,p=c.onPostCommit;typeof p=="function"&&p(h,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){xe(t,t.return,w)}}else Qt(e,t,a,s);break;case 31:Qt(e,t,a,s);break;case 13:Qt(e,t,a,s);break;case 23:break;case 22:c=t.stateNode,h=t.alternate,t.memoizedState!==null?c._visibility&2?Qt(e,t,a,s):as(e,t):c._visibility&2?Qt(e,t,a,s):(c._visibility|=2,Fa(e,t,a,s,(t.subtreeFlags&10256)!==0||!1)),o&2048&&lu(h,t);break;case 24:Qt(e,t,a,s),o&2048&&ou(t.alternate,t);break;default:Qt(e,t,a,s)}}function Fa(e,t,a,s,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var c=e,h=t,p=a,w=s,j=h.flags;switch(h.tag){case 0:case 11:case 15:Fa(c,h,p,w,o),ts(8,h);break;case 23:break;case 22:var M=h.stateNode;h.memoizedState!==null?M._visibility&2?Fa(c,h,p,w,o):as(c,h):(M._visibility|=2,Fa(c,h,p,w,o)),o&&j&2048&&lu(h.alternate,h);break;case 24:Fa(c,h,p,w,o),o&&j&2048&&ou(h.alternate,h);break;default:Fa(c,h,p,w,o)}t=t.sibling}}function as(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,s=t,o=s.flags;switch(s.tag){case 22:as(a,s),o&2048&&lu(s.alternate,s);break;case 24:as(a,s),o&2048&&ou(s.alternate,s);break;default:as(a,s)}t=t.sibling}}var is=8192;function Wa(e,t,a){if(e.subtreeFlags&is)for(e=e.child;e!==null;)Ah(e,t,a),e=e.sibling}function Ah(e,t,a){switch(e.tag){case 26:Wa(e,t,a),e.flags&is&&e.memoizedState!==null&&q0(a,Xt,e.memoizedState,e.memoizedProps);break;case 5:Wa(e,t,a);break;case 3:case 4:var s=Xt;Xt=Br(e.stateNode.containerInfo),Wa(e,t,a),Xt=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=is,is=16777216,Wa(e,t,a),is=s):Wa(e,t,a));break;default:Wa(e,t,a)}}function xh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ss(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];We=s,Nh(s,e)}xh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Oh(e),e=e.sibling}function Oh(e){switch(e.tag){case 0:case 11:case 15:ss(e),e.flags&2048&&Bn(9,e,e.return);break;case 3:ss(e);break;case 12:ss(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,xr(e)):ss(e);break;default:ss(e)}}function xr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];We=s,Nh(s,e)}xh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Bn(8,t,t.return),xr(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,xr(t));break;default:xr(t)}e=e.sibling}}function Nh(e,t){for(;We!==null;){var a=We;switch(a.tag){case 0:case 11:case 15:Bn(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var s=a.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:qi(a.memoizedState.cache)}if(s=a.child,s!==null)s.return=a,We=s;else e:for(a=e;We!==null;){s=We;var o=s.sibling,c=s.return;if(ph(s),s===a){We=null;break e}if(o!==null){o.return=c,We=o;break e}We=c}}}var a0={getCacheForType:function(e){var t=nt($e),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return nt($e).controller.signal}},i0=typeof WeakMap=="function"?WeakMap:Map,Ee=0,Ce=null,he=null,ve=0,Ae=0,Ct=null,Hn=!1,ei=!1,uu=!1,Sn=0,ke=0,Gn=0,ga=0,cu=0,jt=0,ti=0,rs=null,bt=null,du=!1,Or=0,Rh=0,Nr=1/0,Rr=null,qn=null,Xe=0,Vn=null,ni=null,wn=0,fu=0,hu=null,Ch=null,ls=0,mu=null;function Dt(){return(Ee&2)!==0&&ve!==0?ve&-ve:I.T!==null?bu():Yc()}function jh(){if(jt===0)if((ve&536870912)===0||pe){var e=ks;ks<<=1,(ks&3932160)===0&&(ks=262144),jt=e}else jt=536870912;return e=Nt.current,e!==null&&(e.flags|=32),jt}function Et(e,t,a){(e===Ce&&(Ae===2||Ae===9)||e.cancelPendingCommit!==null)&&(ai(e,0),$n(e,ve,jt,!1)),Ni(e,a),((Ee&2)===0||e!==Ce)&&(e===Ce&&((Ee&2)===0&&(ga|=a),ke===4&&$n(e,ve,jt,!1)),an(e))}function Dh(e,t,a){if((Ee&6)!==0)throw Error(l(327));var s=!a&&(t&127)===0&&(t&e.expiredLanes)===0||Oi(e,t),o=s?l0(e,t):yu(e,t,!0),c=s;do{if(o===0){ei&&!s&&$n(e,t,0,!1);break}else{if(a=e.current.alternate,c&&!s0(a)){o=yu(e,t,!1),c=!1;continue}if(o===2){if(c=t,e.errorRecoveryDisabledLanes&c)var h=0;else h=e.pendingLanes&-536870913,h=h!==0?h:h&536870912?536870912:0;if(h!==0){t=h;e:{var p=e;o=rs;var w=p.current.memoizedState.isDehydrated;if(w&&(ai(p,h).flags|=256),h=yu(p,h,!1),h!==2){if(uu&&!w){p.errorRecoveryDisabledLanes|=c,ga|=c,o=4;break e}c=bt,bt=o,c!==null&&(bt===null?bt=c:bt.push.apply(bt,c))}o=h}if(c=!1,o!==2)continue}}if(o===1){ai(e,0),$n(e,t,0,!0);break}e:{switch(s=e,c=o,c){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:$n(s,t,jt,!Hn);break e;case 2:bt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(o=Or+300-wt(),10<o)){if($n(s,t,jt,!Hn),Bs(s,0,!0)!==0)break e;wn=t,s.timeoutHandle=um(Uh.bind(null,s,a,bt,Rr,du,t,jt,ga,ti,Hn,c,"Throttled",-0,0),o);break e}Uh(s,a,bt,Rr,du,t,jt,ga,ti,Hn,c,null,-0,0)}}break}while(!0);an(e)}function Uh(e,t,a,s,o,c,h,p,w,j,M,z,D,U){if(e.timeoutHandle=-1,z=t.subtreeFlags,z&8192||(z&16785408)===16785408){z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:on},Ah(t,c,z);var J=(c&62914560)===c?Or-wt():(c&4194048)===c?Rh-wt():0;if(J=V0(z,J),J!==null){wn=c,e.cancelPendingCommit=J(Gh.bind(null,e,t,c,a,s,o,h,p,w,M,z,null,D,U)),$n(e,c,h,!j);return}}Gh(e,t,c,a,s,o,h,p,w)}function s0(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var s=0;s<a.length;s++){var o=a[s],c=o.getSnapshot;o=o.value;try{if(!xt(c(),o))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function $n(e,t,a,s){t&=~cu,t&=~ga,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var o=t;0<o;){var c=31-At(o),h=1<<c;s[c]=-1,o&=~h}a!==0&&qc(e,a,t)}function Cr(){return(Ee&6)===0?(os(0),!1):!0}function vu(){if(he!==null){if(Ae===0)var e=he.return;else e=he,fn=oa=null,jo(e),Pa=null,$i=0,e=he;for(;e!==null;)ch(e.alternate,e),e=e.return;he=null}}function ai(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,A0(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),wn=0,vu(),Ce=e,he=a=cn(e.current,null),ve=t,Ae=0,Ct=null,Hn=!1,ei=Oi(e,t),uu=!1,ti=jt=cu=ga=Gn=ke=0,bt=rs=null,du=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var o=31-At(s),c=1<<o;t|=e[o],s&=~c}return Sn=t,Zs(),a}function Ih(e,t){ue=null,I.H=Fi,t===Ka||t===sr?(t=Xd(),Ae=3):t===_o?(t=Xd(),Ae=4):Ae=t===Po?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ct=t,he===null&&(ke=1,_r(e,Bt(t,e.current)))}function Mh(){var e=Nt.current;return e===null?!0:(ve&4194048)===ve?Vt===null:(ve&62914560)===ve||(ve&536870912)!==0?e===Vt:!1}function Lh(){var e=I.H;return I.H=Fi,e===null?Fi:e}function kh(){var e=I.A;return I.A=a0,e}function jr(){ke=4,Hn||(ve&4194048)!==ve&&Nt.current!==null||(ei=!0),(Gn&134217727)===0&&(ga&134217727)===0||Ce===null||$n(Ce,ve,jt,!1)}function yu(e,t,a){var s=Ee;Ee|=2;var o=Lh(),c=kh();(Ce!==e||ve!==t)&&(Rr=null,ai(e,t)),t=!1;var h=ke;e:do try{if(Ae!==0&&he!==null){var p=he,w=Ct;switch(Ae){case 8:vu(),h=6;break e;case 3:case 2:case 9:case 6:Nt.current===null&&(t=!0);var j=Ae;if(Ae=0,Ct=null,ii(e,p,w,j),a&&ei){h=0;break e}break;default:j=Ae,Ae=0,Ct=null,ii(e,p,w,j)}}r0(),h=ke;break}catch(M){Ih(e,M)}while(!0);return t&&e.shellSuspendCounter++,fn=oa=null,Ee=s,I.H=o,I.A=c,he===null&&(Ce=null,ve=0,Zs()),h}function r0(){for(;he!==null;)zh(he)}function l0(e,t){var a=Ee;Ee|=2;var s=Lh(),o=kh();Ce!==e||ve!==t?(Rr=null,Nr=wt()+500,ai(e,t)):ei=Oi(e,t);e:do try{if(Ae!==0&&he!==null){t=he;var c=Ct;t:switch(Ae){case 1:Ae=0,Ct=null,ii(e,t,c,1);break;case 2:case 9:if(Pd(c)){Ae=0,Ct=null,Bh(t);break}t=function(){Ae!==2&&Ae!==9||Ce!==e||(Ae=7),an(e)},c.then(t,t);break e;case 3:Ae=7;break e;case 4:Ae=5;break e;case 7:Pd(c)?(Ae=0,Ct=null,Bh(t)):(Ae=0,Ct=null,ii(e,t,c,7));break;case 5:var h=null;switch(he.tag){case 26:h=he.memoizedState;case 5:case 27:var p=he;if(h?Tm(h):p.stateNode.complete){Ae=0,Ct=null;var w=p.sibling;if(w!==null)he=w;else{var j=p.return;j!==null?(he=j,Dr(j)):he=null}break t}}Ae=0,Ct=null,ii(e,t,c,5);break;case 6:Ae=0,Ct=null,ii(e,t,c,6);break;case 8:vu(),ke=6;break e;default:throw Error(l(462))}}o0();break}catch(M){Ih(e,M)}while(!0);return fn=oa=null,I.H=s,I.A=o,Ee=a,he!==null?0:(Ce=null,ve=0,Zs(),ke)}function o0(){for(;he!==null&&!jg();)zh(he)}function zh(e){var t=oh(e.alternate,e,Sn);e.memoizedProps=e.pendingProps,t===null?Dr(e):he=t}function Bh(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=nh(a,t,t.pendingProps,t.type,void 0,ve);break;case 11:t=nh(a,t,t.pendingProps,t.type.render,t.ref,ve);break;case 5:jo(t);default:ch(a,t),t=he=Ld(t,Sn),t=oh(a,t,Sn)}e.memoizedProps=e.pendingProps,t===null?Dr(e):he=t}function ii(e,t,a,s){fn=oa=null,jo(t),Pa=null,$i=0;var o=t.return;try{if(Qp(e,o,t,a,ve)){ke=1,_r(e,Bt(a,e.current)),he=null;return}}catch(c){if(o!==null)throw he=o,c;ke=1,_r(e,Bt(a,e.current)),he=null;return}t.flags&32768?(pe||s===1?e=!0:ei||(ve&536870912)!==0?e=!1:(Hn=e=!0,(s===2||s===9||s===3||s===6)&&(s=Nt.current,s!==null&&s.tag===13&&(s.flags|=16384))),Hh(t,e)):Dr(t)}function Dr(e){var t=e;do{if((t.flags&32768)!==0){Hh(t,Hn);return}e=t.return;var a=Wp(t.alternate,t,Sn);if(a!==null){he=a;return}if(t=t.sibling,t!==null){he=t;return}he=t=e}while(t!==null);ke===0&&(ke=5)}function Hh(e,t){do{var a=e0(e.alternate,e);if(a!==null){a.flags&=32767,he=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){he=e;return}he=e=a}while(e!==null);ke=6,he=null}function Gh(e,t,a,s,o,c,h,p,w){e.cancelPendingCommit=null;do Ur();while(Xe!==0);if((Ee&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(c=t.lanes|t.childLanes,c|=ao,Gg(e,a,c,h,p,w),e===Ce&&(he=Ce=null,ve=0),ni=t,Vn=e,wn=a,fu=c,hu=o,Ch=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,f0(Ms,function(){return Kh(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=I.T,I.T=null,o=q.p,q.p=2,h=Ee,Ee|=4;try{t0(e,t,a)}finally{Ee=h,q.p=o,I.T=s}}Xe=1,qh(),Vh(),$h()}}function qh(){if(Xe===1){Xe=0;var e=Vn,t=ni,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=I.T,I.T=null;var s=q.p;q.p=2;var o=Ee;Ee|=4;try{Sh(t,e);var c=Nu,h=Od(e.containerInfo),p=c.focusedElem,w=c.selectionRange;if(h!==p&&p&&p.ownerDocument&&xd(p.ownerDocument.documentElement,p)){if(w!==null&&Fl(p)){var j=w.start,M=w.end;if(M===void 0&&(M=j),"selectionStart"in p)p.selectionStart=j,p.selectionEnd=Math.min(M,p.value.length);else{var z=p.ownerDocument||document,D=z&&z.defaultView||window;if(D.getSelection){var U=D.getSelection(),J=p.textContent.length,te=Math.min(w.start,J),Re=w.end===void 0?te:Math.min(w.end,J);!U.extend&&te>Re&&(h=Re,Re=te,te=h);var N=Ad(p,te),A=Ad(p,Re);if(N&&A&&(U.rangeCount!==1||U.anchorNode!==N.node||U.anchorOffset!==N.offset||U.focusNode!==A.node||U.focusOffset!==A.offset)){var C=z.createRange();C.setStart(N.node,N.offset),U.removeAllRanges(),te>Re?(U.addRange(C),U.extend(A.node,A.offset)):(C.setEnd(A.node,A.offset),U.addRange(C))}}}}for(z=[],U=p;U=U.parentNode;)U.nodeType===1&&z.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<z.length;p++){var k=z[p];k.element.scrollLeft=k.left,k.element.scrollTop=k.top}}Yr=!!Ou,Nu=Ou=null}finally{Ee=o,q.p=s,I.T=a}}e.current=t,Xe=2}}function Vh(){if(Xe===2){Xe=0;var e=Vn,t=ni,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=I.T,I.T=null;var s=q.p;q.p=2;var o=Ee;Ee|=4;try{gh(e,t.alternate,t)}finally{Ee=o,q.p=s,I.T=a}}Xe=3}}function $h(){if(Xe===4||Xe===3){Xe=0,Dg();var e=Vn,t=ni,a=wn,s=Ch;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Xe=5:(Xe=0,ni=Vn=null,Yh(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(qn=null),Ul(a),t=t.stateNode,Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(xi,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=I.T,o=q.p,q.p=2,I.T=null;try{for(var c=e.onRecoverableError,h=0;h<s.length;h++){var p=s[h];c(p.value,{componentStack:p.stack})}}finally{I.T=t,q.p=o}}(wn&3)!==0&&Ur(),an(e),o=e.pendingLanes,(a&261930)!==0&&(o&42)!==0?e===mu?ls++:(ls=0,mu=e):ls=0,os(0)}}function Yh(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,qi(t)))}function Ur(){return qh(),Vh(),$h(),Kh()}function Kh(){if(Xe!==5)return!1;var e=Vn,t=fu;fu=0;var a=Ul(wn),s=I.T,o=q.p;try{q.p=32>a?32:a,I.T=null,a=hu,hu=null;var c=Vn,h=wn;if(Xe=0,ni=Vn=null,wn=0,(Ee&6)!==0)throw Error(l(331));var p=Ee;if(Ee|=4,Oh(c.current),Th(c,c.current,h,a),Ee=p,os(0,!1),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(xi,c)}catch{}return!0}finally{q.p=o,I.T=s,Yh(e,t)}}function Ph(e,t,a){t=Bt(a,t),t=Ko(e.stateNode,t,2),e=Ln(e,t,2),e!==null&&(Ni(e,2),an(e))}function xe(e,t,a){if(e.tag===3)Ph(e,e,a);else for(;t!==null;){if(t.tag===3){Ph(t,e,a);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(qn===null||!qn.has(s))){e=Bt(a,e),a=Jf(2),s=Ln(t,a,2),s!==null&&(Xf(a,s,t,e),Ni(s,2),an(s));break}}t=t.return}}function gu(e,t,a){var s=e.pingCache;if(s===null){s=e.pingCache=new i0;var o=new Set;s.set(t,o)}else o=s.get(t),o===void 0&&(o=new Set,s.set(t,o));o.has(a)||(uu=!0,o.add(a),e=u0.bind(null,e,t,a),t.then(e,e))}function u0(e,t,a){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Ce===e&&(ve&a)===a&&(ke===4||ke===3&&(ve&62914560)===ve&&300>wt()-Or?(Ee&2)===0&&ai(e,0):cu|=a,ti===ve&&(ti=0)),an(e)}function Jh(e,t){t===0&&(t=Gc()),e=sa(e,t),e!==null&&(Ni(e,t),an(e))}function c0(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Jh(e,a)}function d0(e,t){var a=0;switch(e.tag){case 31:case 13:var s=e.stateNode,o=e.memoizedState;o!==null&&(a=o.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(l(314))}s!==null&&s.delete(t),Jh(e,a)}function f0(e,t){return Rl(e,t)}var Ir=null,si=null,pu=!1,Mr=!1,_u=!1,Yn=0;function an(e){e!==si&&e.next===null&&(si===null?Ir=si=e:si=si.next=e),Mr=!0,pu||(pu=!0,m0())}function os(e,t){if(!_u&&Mr){_u=!0;do for(var a=!1,s=Ir;s!==null;){if(e!==0){var o=s.pendingLanes;if(o===0)var c=0;else{var h=s.suspendedLanes,p=s.pingedLanes;c=(1<<31-At(42|e)+1)-1,c&=o&~(h&~p),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(a=!0,Fh(s,c))}else c=ve,c=Bs(s,s===Ce?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(c&3)===0||Oi(s,c)||(a=!0,Fh(s,c));s=s.next}while(a);_u=!1}}function h0(){Xh()}function Xh(){Mr=pu=!1;var e=0;Yn!==0&&T0()&&(e=Yn);for(var t=wt(),a=null,s=Ir;s!==null;){var o=s.next,c=Qh(s,t);c===0?(s.next=null,a===null?Ir=o:a.next=o,o===null&&(si=a)):(a=s,(e!==0||(c&3)!==0)&&(Mr=!0)),s=o}Xe!==0&&Xe!==5||os(e),Yn!==0&&(Yn=0)}function Qh(e,t){for(var a=e.suspendedLanes,s=e.pingedLanes,o=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var h=31-At(c),p=1<<h,w=o[h];w===-1?((p&a)===0||(p&s)!==0)&&(o[h]=Hg(p,t)):w<=t&&(e.expiredLanes|=p),c&=~p}if(t=Ce,a=ve,a=Bs(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,a===0||e===t&&(Ae===2||Ae===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Cl(s),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Oi(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(s!==null&&Cl(s),Ul(a)){case 2:case 8:a=Bc;break;case 32:a=Ms;break;case 268435456:a=Hc;break;default:a=Ms}return s=Zh.bind(null,e),a=Rl(a,s),e.callbackPriority=t,e.callbackNode=a,t}return s!==null&&s!==null&&Cl(s),e.callbackPriority=2,e.callbackNode=null,2}function Zh(e,t){if(Xe!==0&&Xe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Ur()&&e.callbackNode!==a)return null;var s=ve;return s=Bs(e,e===Ce?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Dh(e,s,t),Qh(e,wt()),e.callbackNode!=null&&e.callbackNode===a?Zh.bind(null,e):null)}function Fh(e,t){if(Ur())return null;Dh(e,t,!0)}function m0(){x0(function(){(Ee&6)!==0?Rl(zc,h0):Xh()})}function bu(){if(Yn===0){var e=$a;e===0&&(e=Ls,Ls<<=1,(Ls&261888)===0&&(Ls=256)),Yn=e}return Yn}function Wh(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Vs(""+e)}function em(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function v0(e,t,a,s,o){if(t==="submit"&&a&&a.stateNode===o){var c=Wh((o[vt]||null).action),h=s.submitter;h&&(t=(t=h[vt]||null)?Wh(t.formAction):h.getAttribute("formAction"),t!==null&&(c=t,h=null));var p=new Ps("action","action",null,s,o);e.push({event:p,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Yn!==0){var w=h?em(o,h):new FormData(o);Ho(a,{pending:!0,data:w,method:o.method,action:c},null,w)}}else typeof c=="function"&&(p.preventDefault(),w=h?em(o,h):new FormData(o),Ho(a,{pending:!0,data:w,method:o.method,action:c},c,w))},currentTarget:o}]})}}for(var Eu=0;Eu<no.length;Eu++){var Su=no[Eu],y0=Su.toLowerCase(),g0=Su[0].toUpperCase()+Su.slice(1);Jt(y0,"on"+g0)}Jt(Cd,"onAnimationEnd"),Jt(jd,"onAnimationIteration"),Jt(Dd,"onAnimationStart"),Jt("dblclick","onDoubleClick"),Jt("focusin","onFocus"),Jt("focusout","onBlur"),Jt(Up,"onTransitionRun"),Jt(Ip,"onTransitionStart"),Jt(Mp,"onTransitionCancel"),Jt(Ud,"onTransitionEnd"),Ca("onMouseEnter",["mouseout","mouseover"]),Ca("onMouseLeave",["mouseout","mouseover"]),Ca("onPointerEnter",["pointerout","pointerover"]),Ca("onPointerLeave",["pointerout","pointerover"]),ta("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ta("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ta("onBeforeInput",["compositionend","keypress","textInput","paste"]),ta("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ta("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ta("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var us="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),p0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(us));function tm(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var s=e[a],o=s.event;s=s.listeners;e:{var c=void 0;if(t)for(var h=s.length-1;0<=h;h--){var p=s[h],w=p.instance,j=p.currentTarget;if(p=p.listener,w!==c&&o.isPropagationStopped())break e;c=p,o.currentTarget=j;try{c(o)}catch(M){Qs(M)}o.currentTarget=null,c=w}else for(h=0;h<s.length;h++){if(p=s[h],w=p.instance,j=p.currentTarget,p=p.listener,w!==c&&o.isPropagationStopped())break e;c=p,o.currentTarget=j;try{c(o)}catch(M){Qs(M)}o.currentTarget=null,c=w}}}}function me(e,t){var a=t[Il];a===void 0&&(a=t[Il]=new Set);var s=e+"__bubble";a.has(s)||(nm(t,e,2,!1),a.add(s))}function wu(e,t,a){var s=0;t&&(s|=4),nm(a,e,s,t)}var Lr="_reactListening"+Math.random().toString(36).slice(2);function Tu(e){if(!e[Lr]){e[Lr]=!0,Jc.forEach(function(a){a!=="selectionchange"&&(p0.has(a)||wu(a,!1,e),wu(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Lr]||(t[Lr]=!0,wu("selectionchange",!1,t))}}function nm(e,t,a,s){switch(jm(t)){case 2:var o=K0;break;case 8:o=P0;break;default:o=Bu}a=o.bind(null,t,a,e),o=void 0,!Vl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),s?o!==void 0?e.addEventListener(t,a,{capture:!0,passive:o}):e.addEventListener(t,a,!0):o!==void 0?e.addEventListener(t,a,{passive:o}):e.addEventListener(t,a,!1)}function Au(e,t,a,s,o){var c=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var h=s.tag;if(h===3||h===4){var p=s.stateNode.containerInfo;if(p===o)break;if(h===4)for(h=s.return;h!==null;){var w=h.tag;if((w===3||w===4)&&h.stateNode.containerInfo===o)return;h=h.return}for(;p!==null;){if(h=Oa(p),h===null)return;if(w=h.tag,w===5||w===6||w===26||w===27){s=c=h;continue e}p=p.parentNode}}s=s.return}rd(function(){var j=c,M=Gl(a),z=[];e:{var D=Id.get(e);if(D!==void 0){var U=Ps,J=e;switch(e){case"keypress":if(Ys(a)===0)break e;case"keydown":case"keyup":U=dp;break;case"focusin":J="focus",U=Pl;break;case"focusout":J="blur",U=Pl;break;case"beforeblur":case"afterblur":U=Pl;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=ud;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=Wg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=mp;break;case Cd:case jd:case Dd:U=np;break;case Ud:U=yp;break;case"scroll":case"scrollend":U=Zg;break;case"wheel":U=pp;break;case"copy":case"cut":case"paste":U=ip;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=dd;break;case"toggle":case"beforetoggle":U=bp}var te=(t&4)!==0,Re=!te&&(e==="scroll"||e==="scrollend"),N=te?D!==null?D+"Capture":null:D;te=[];for(var A=j,C;A!==null;){var k=A;if(C=k.stateNode,k=k.tag,k!==5&&k!==26&&k!==27||C===null||N===null||(k=ji(A,N),k!=null&&te.push(cs(A,k,C))),Re)break;A=A.return}0<te.length&&(D=new U(D,J,null,a,M),z.push({event:D,listeners:te}))}}if((t&7)===0){e:{if(D=e==="mouseover"||e==="pointerover",U=e==="mouseout"||e==="pointerout",D&&a!==Hl&&(J=a.relatedTarget||a.fromElement)&&(Oa(J)||J[xa]))break e;if((U||D)&&(D=M.window===M?M:(D=M.ownerDocument)?D.defaultView||D.parentWindow:window,U?(J=a.relatedTarget||a.toElement,U=j,J=J?Oa(J):null,J!==null&&(Re=d(J),te=J.tag,J!==Re||te!==5&&te!==27&&te!==6)&&(J=null)):(U=null,J=j),U!==J)){if(te=ud,k="onMouseLeave",N="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(te=dd,k="onPointerLeave",N="onPointerEnter",A="pointer"),Re=U==null?D:Ci(U),C=J==null?D:Ci(J),D=new te(k,A+"leave",U,a,M),D.target=Re,D.relatedTarget=C,k=null,Oa(M)===j&&(te=new te(N,A+"enter",J,a,M),te.target=C,te.relatedTarget=Re,k=te),Re=k,U&&J)t:{for(te=_0,N=U,A=J,C=0,k=N;k;k=te(k))C++;k=0;for(var F=A;F;F=te(F))k++;for(;0<C-k;)N=te(N),C--;for(;0<k-C;)A=te(A),k--;for(;C--;){if(N===A||A!==null&&N===A.alternate){te=N;break t}N=te(N),A=te(A)}te=null}else te=null;U!==null&&am(z,D,U,te,!1),J!==null&&Re!==null&&am(z,Re,J,te,!0)}}e:{if(D=j?Ci(j):window,U=D.nodeName&&D.nodeName.toLowerCase(),U==="select"||U==="input"&&D.type==="file")var _e=_d;else if(gd(D))if(bd)_e=Cp;else{_e=Np;var Q=Op}else U=D.nodeName,!U||U.toLowerCase()!=="input"||D.type!=="checkbox"&&D.type!=="radio"?j&&Bl(j.elementType)&&(_e=_d):_e=Rp;if(_e&&(_e=_e(e,j))){pd(z,_e,a,M);break e}Q&&Q(e,D,j),e==="focusout"&&j&&D.type==="number"&&j.memoizedProps.value!=null&&zl(D,"number",D.value)}switch(Q=j?Ci(j):window,e){case"focusin":(gd(Q)||Q.contentEditable==="true")&&(La=Q,Wl=j,Bi=null);break;case"focusout":Bi=Wl=La=null;break;case"mousedown":eo=!0;break;case"contextmenu":case"mouseup":case"dragend":eo=!1,Nd(z,a,M);break;case"selectionchange":if(Dp)break;case"keydown":case"keyup":Nd(z,a,M)}var ce;if(Xl)e:{switch(e){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else Ma?vd(e,a)&&(ye="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(ye="onCompositionStart");ye&&(fd&&a.locale!=="ko"&&(Ma||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&Ma&&(ce=ld()):(Rn=M,$l="value"in Rn?Rn.value:Rn.textContent,Ma=!0)),Q=kr(j,ye),0<Q.length&&(ye=new cd(ye,e,null,a,M),z.push({event:ye,listeners:Q}),ce?ye.data=ce:(ce=yd(a),ce!==null&&(ye.data=ce)))),(ce=Sp?wp(e,a):Tp(e,a))&&(ye=kr(j,"onBeforeInput"),0<ye.length&&(Q=new cd("onBeforeInput","beforeinput",null,a,M),z.push({event:Q,listeners:ye}),Q.data=ce)),v0(z,e,j,a,M)}tm(z,t)})}function cs(e,t,a){return{instance:e,listener:t,currentTarget:a}}function kr(e,t){for(var a=t+"Capture",s=[];e!==null;){var o=e,c=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||c===null||(o=ji(e,a),o!=null&&s.unshift(cs(e,o,c)),o=ji(e,t),o!=null&&s.push(cs(e,o,c))),e.tag===3)return s;e=e.return}return[]}function _0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function am(e,t,a,s,o){for(var c=t._reactName,h=[];a!==null&&a!==s;){var p=a,w=p.alternate,j=p.stateNode;if(p=p.tag,w!==null&&w===s)break;p!==5&&p!==26&&p!==27||j===null||(w=j,o?(j=ji(a,c),j!=null&&h.unshift(cs(a,j,w))):o||(j=ji(a,c),j!=null&&h.push(cs(a,j,w)))),a=a.return}h.length!==0&&e.push({event:t,listeners:h})}var b0=/\r\n?/g,E0=/\u0000|\uFFFD/g;function im(e){return(typeof e=="string"?e:""+e).replace(b0,`
`).replace(E0,"")}function sm(e,t){return t=im(t),im(e)===t}function Ne(e,t,a,s,o,c){switch(a){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||Da(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&Da(e,""+s);break;case"className":Gs(e,"class",s);break;case"tabIndex":Gs(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Gs(e,a,s);break;case"style":id(e,s,c);break;case"data":if(t!=="object"){Gs(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=Vs(""+s),e.setAttribute(a,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(a==="formAction"?(t!=="input"&&Ne(e,t,"name",o.name,o,null),Ne(e,t,"formEncType",o.formEncType,o,null),Ne(e,t,"formMethod",o.formMethod,o,null),Ne(e,t,"formTarget",o.formTarget,o,null)):(Ne(e,t,"encType",o.encType,o,null),Ne(e,t,"method",o.method,o,null),Ne(e,t,"target",o.target,o,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=Vs(""+s),e.setAttribute(a,s);break;case"onClick":s!=null&&(e.onclick=on);break;case"onScroll":s!=null&&me("scroll",e);break;case"onScrollEnd":s!=null&&me("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(a=s.__html,a!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}a=Vs(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""+s):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":s===!0?e.setAttribute(a,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,s):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(a,s):e.removeAttribute(a);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(a):e.setAttribute(a,s);break;case"popover":me("beforetoggle",e),me("toggle",e),Hs(e,"popover",s);break;case"xlinkActuate":ln(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":ln(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":ln(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":ln(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":ln(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":ln(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":ln(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":ln(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":ln(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Hs(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Xg.get(a)||a,Hs(e,a,s))}}function xu(e,t,a,s,o,c){switch(a){case"style":id(e,s,c);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(a=s.__html,a!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"children":typeof s=="string"?Da(e,s):(typeof s=="number"||typeof s=="bigint")&&Da(e,""+s);break;case"onScroll":s!=null&&me("scroll",e);break;case"onScrollEnd":s!=null&&me("scrollend",e);break;case"onClick":s!=null&&(e.onclick=on);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xc.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(o=a.endsWith("Capture"),t=a.slice(2,o?a.length-7:void 0),c=e[vt]||null,c=c!=null?c[a]:null,typeof c=="function"&&e.removeEventListener(t,c,o),typeof s=="function")){typeof c!="function"&&c!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,s,o);break e}a in e?e[a]=s:s===!0?e.setAttribute(a,""):Hs(e,a,s)}}}function it(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":me("error",e),me("load",e);var s=!1,o=!1,c;for(c in a)if(a.hasOwnProperty(c)){var h=a[c];if(h!=null)switch(c){case"src":s=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Ne(e,t,c,h,a,null)}}o&&Ne(e,t,"srcSet",a.srcSet,a,null),s&&Ne(e,t,"src",a.src,a,null);return;case"input":me("invalid",e);var p=c=h=o=null,w=null,j=null;for(s in a)if(a.hasOwnProperty(s)){var M=a[s];if(M!=null)switch(s){case"name":o=M;break;case"type":h=M;break;case"checked":w=M;break;case"defaultChecked":j=M;break;case"value":c=M;break;case"defaultValue":p=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(l(137,t));break;default:Ne(e,t,s,M,a,null)}}ed(e,c,p,w,j,h,o,!1);return;case"select":me("invalid",e),s=h=c=null;for(o in a)if(a.hasOwnProperty(o)&&(p=a[o],p!=null))switch(o){case"value":c=p;break;case"defaultValue":h=p;break;case"multiple":s=p;default:Ne(e,t,o,p,a,null)}t=c,a=h,e.multiple=!!s,t!=null?ja(e,!!s,t,!1):a!=null&&ja(e,!!s,a,!0);return;case"textarea":me("invalid",e),c=o=s=null;for(h in a)if(a.hasOwnProperty(h)&&(p=a[h],p!=null))switch(h){case"value":s=p;break;case"defaultValue":o=p;break;case"children":c=p;break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(l(91));break;default:Ne(e,t,h,p,a,null)}nd(e,s,o,c);return;case"option":for(w in a)if(a.hasOwnProperty(w)&&(s=a[w],s!=null))switch(w){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Ne(e,t,w,s,a,null)}return;case"dialog":me("beforetoggle",e),me("toggle",e),me("cancel",e),me("close",e);break;case"iframe":case"object":me("load",e);break;case"video":case"audio":for(s=0;s<us.length;s++)me(us[s],e);break;case"image":me("error",e),me("load",e);break;case"details":me("toggle",e);break;case"embed":case"source":case"link":me("error",e),me("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(s=a[j],s!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Ne(e,t,j,s,a,null)}return;default:if(Bl(t)){for(M in a)a.hasOwnProperty(M)&&(s=a[M],s!==void 0&&xu(e,t,M,s,a,void 0));return}}for(p in a)a.hasOwnProperty(p)&&(s=a[p],s!=null&&Ne(e,t,p,s,a,null))}function S0(e,t,a,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,c=null,h=null,p=null,w=null,j=null,M=null;for(U in a){var z=a[U];if(a.hasOwnProperty(U)&&z!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":w=z;default:s.hasOwnProperty(U)||Ne(e,t,U,null,s,z)}}for(var D in s){var U=s[D];if(z=a[D],s.hasOwnProperty(D)&&(U!=null||z!=null))switch(D){case"type":c=U;break;case"name":o=U;break;case"checked":j=U;break;case"defaultChecked":M=U;break;case"value":h=U;break;case"defaultValue":p=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(l(137,t));break;default:U!==z&&Ne(e,t,D,U,s,z)}}kl(e,h,p,w,j,M,c,o);return;case"select":U=h=p=D=null;for(c in a)if(w=a[c],a.hasOwnProperty(c)&&w!=null)switch(c){case"value":break;case"multiple":U=w;default:s.hasOwnProperty(c)||Ne(e,t,c,null,s,w)}for(o in s)if(c=s[o],w=a[o],s.hasOwnProperty(o)&&(c!=null||w!=null))switch(o){case"value":D=c;break;case"defaultValue":p=c;break;case"multiple":h=c;default:c!==w&&Ne(e,t,o,c,s,w)}t=p,a=h,s=U,D!=null?ja(e,!!a,D,!1):!!s!=!!a&&(t!=null?ja(e,!!a,t,!0):ja(e,!!a,a?[]:"",!1));return;case"textarea":U=D=null;for(p in a)if(o=a[p],a.hasOwnProperty(p)&&o!=null&&!s.hasOwnProperty(p))switch(p){case"value":break;case"children":break;default:Ne(e,t,p,null,s,o)}for(h in s)if(o=s[h],c=a[h],s.hasOwnProperty(h)&&(o!=null||c!=null))switch(h){case"value":D=o;break;case"defaultValue":U=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(l(91));break;default:o!==c&&Ne(e,t,h,o,s,c)}td(e,D,U);return;case"option":for(var J in a)if(D=a[J],a.hasOwnProperty(J)&&D!=null&&!s.hasOwnProperty(J))switch(J){case"selected":e.selected=!1;break;default:Ne(e,t,J,null,s,D)}for(w in s)if(D=s[w],U=a[w],s.hasOwnProperty(w)&&D!==U&&(D!=null||U!=null))switch(w){case"selected":e.selected=D&&typeof D!="function"&&typeof D!="symbol";break;default:Ne(e,t,w,D,s,U)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var te in a)D=a[te],a.hasOwnProperty(te)&&D!=null&&!s.hasOwnProperty(te)&&Ne(e,t,te,null,s,D);for(j in s)if(D=s[j],U=a[j],s.hasOwnProperty(j)&&D!==U&&(D!=null||U!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(l(137,t));break;default:Ne(e,t,j,D,s,U)}return;default:if(Bl(t)){for(var Re in a)D=a[Re],a.hasOwnProperty(Re)&&D!==void 0&&!s.hasOwnProperty(Re)&&xu(e,t,Re,void 0,s,D);for(M in s)D=s[M],U=a[M],!s.hasOwnProperty(M)||D===U||D===void 0&&U===void 0||xu(e,t,M,D,s,U);return}}for(var N in a)D=a[N],a.hasOwnProperty(N)&&D!=null&&!s.hasOwnProperty(N)&&Ne(e,t,N,null,s,D);for(z in s)D=s[z],U=a[z],!s.hasOwnProperty(z)||D===U||D==null&&U==null||Ne(e,t,z,D,s,U)}function rm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function w0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),s=0;s<a.length;s++){var o=a[s],c=o.transferSize,h=o.initiatorType,p=o.duration;if(c&&p&&rm(h)){for(h=0,p=o.responseEnd,s+=1;s<a.length;s++){var w=a[s],j=w.startTime;if(j>p)break;var M=w.transferSize,z=w.initiatorType;M&&rm(z)&&(w=w.responseEnd,h+=M*(w<p?1:(p-j)/(w-j)))}if(--s,t+=8*(c+h)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Ou=null,Nu=null;function zr(e){return e.nodeType===9?e:e.ownerDocument}function lm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function om(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Ru(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Cu=null;function T0(){var e=window.event;return e&&e.type==="popstate"?e===Cu?!1:(Cu=e,!0):(Cu=null,!1)}var um=typeof setTimeout=="function"?setTimeout:void 0,A0=typeof clearTimeout=="function"?clearTimeout:void 0,cm=typeof Promise=="function"?Promise:void 0,x0=typeof queueMicrotask=="function"?queueMicrotask:typeof cm<"u"?function(e){return cm.resolve(null).then(e).catch(O0)}:um;function O0(e){setTimeout(function(){throw e})}function Kn(e){return e==="head"}function dm(e,t){var a=t,s=0;do{var o=a.nextSibling;if(e.removeChild(a),o&&o.nodeType===8)if(a=o.data,a==="/$"||a==="/&"){if(s===0){e.removeChild(o),ui(t);return}s--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")s++;else if(a==="html")ds(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,ds(a);for(var c=a.firstChild;c;){var h=c.nextSibling,p=c.nodeName;c[Ri]||p==="SCRIPT"||p==="STYLE"||p==="LINK"&&c.rel.toLowerCase()==="stylesheet"||a.removeChild(c),c=h}}else a==="body"&&ds(e.ownerDocument.body);a=o}while(a);ui(t)}function fm(e,t){var a=e;e=0;do{var s=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),s&&s.nodeType===8)if(a=s.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=s}while(a)}function ju(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ju(a),Ml(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function N0(e,t,a,s){for(;e.nodeType===1;){var o=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Ri])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var c=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=$t(e.nextSibling),e===null)break}return null}function R0(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=$t(e.nextSibling),e===null))return null;return e}function hm(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=$t(e.nextSibling),e===null))return null;return e}function Du(e){return e.data==="$?"||e.data==="$~"}function Uu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function C0(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var s=function(){t(),a.removeEventListener("DOMContentLoaded",s)};a.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function $t(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Iu=null;function mm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return $t(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function vm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function ym(e,t,a){switch(t=zr(a),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function ds(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ml(e)}var Yt=new Map,gm=new Set;function Br(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Tn=q.d;q.d={f:j0,r:D0,D:U0,C:I0,L:M0,m:L0,X:z0,S:k0,M:B0};function j0(){var e=Tn.f(),t=Cr();return e||t}function D0(e){var t=Na(e);t!==null&&t.tag===5&&t.type==="form"?If(t):Tn.r(e)}var ri=typeof document>"u"?null:document;function pm(e,t,a){var s=ri;if(s&&typeof t=="string"&&t){var o=kt(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof a=="string"&&(o+='[crossorigin="'+a+'"]'),gm.has(o)||(gm.add(o),e={rel:e,crossOrigin:a,href:t},s.querySelector(o)===null&&(t=s.createElement("link"),it(t,"link",e),Fe(t),s.head.appendChild(t)))}}function U0(e){Tn.D(e),pm("dns-prefetch",e,null)}function I0(e,t){Tn.C(e,t),pm("preconnect",e,t)}function M0(e,t,a){Tn.L(e,t,a);var s=ri;if(s&&e&&t){var o='link[rel="preload"][as="'+kt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(o+='[imagesrcset="'+kt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(o+='[imagesizes="'+kt(a.imageSizes)+'"]')):o+='[href="'+kt(e)+'"]';var c=o;switch(t){case"style":c=li(e);break;case"script":c=oi(e)}Yt.has(c)||(e=S({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Yt.set(c,e),s.querySelector(o)!==null||t==="style"&&s.querySelector(fs(c))||t==="script"&&s.querySelector(hs(c))||(t=s.createElement("link"),it(t,"link",e),Fe(t),s.head.appendChild(t)))}}function L0(e,t){Tn.m(e,t);var a=ri;if(a&&e){var s=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+kt(s)+'"][href="'+kt(e)+'"]',c=o;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=oi(e)}if(!Yt.has(c)&&(e=S({rel:"modulepreload",href:e},t),Yt.set(c,e),a.querySelector(o)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(hs(c)))return}s=a.createElement("link"),it(s,"link",e),Fe(s),a.head.appendChild(s)}}}function k0(e,t,a){Tn.S(e,t,a);var s=ri;if(s&&e){var o=Ra(s).hoistableStyles,c=li(e);t=t||"default";var h=o.get(c);if(!h){var p={loading:0,preload:null};if(h=s.querySelector(fs(c)))p.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Yt.get(c))&&Mu(e,a);var w=h=s.createElement("link");Fe(w),it(w,"link",e),w._p=new Promise(function(j,M){w.onload=j,w.onerror=M}),w.addEventListener("load",function(){p.loading|=1}),w.addEventListener("error",function(){p.loading|=2}),p.loading|=4,Hr(h,t,s)}h={type:"stylesheet",instance:h,count:1,state:p},o.set(c,h)}}}function z0(e,t){Tn.X(e,t);var a=ri;if(a&&e){var s=Ra(a).hoistableScripts,o=oi(e),c=s.get(o);c||(c=a.querySelector(hs(o)),c||(e=S({src:e,async:!0},t),(t=Yt.get(o))&&Lu(e,t),c=a.createElement("script"),Fe(c),it(c,"link",e),a.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},s.set(o,c))}}function B0(e,t){Tn.M(e,t);var a=ri;if(a&&e){var s=Ra(a).hoistableScripts,o=oi(e),c=s.get(o);c||(c=a.querySelector(hs(o)),c||(e=S({src:e,async:!0,type:"module"},t),(t=Yt.get(o))&&Lu(e,t),c=a.createElement("script"),Fe(c),it(c,"link",e),a.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},s.set(o,c))}}function _m(e,t,a,s){var o=(o=Y.current)?Br(o):null;if(!o)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=li(a.href),a=Ra(o).hoistableStyles,s=a.get(t),s||(s={type:"style",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=li(a.href);var c=Ra(o).hoistableStyles,h=c.get(e);if(h||(o=o.ownerDocument||o,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,h),(c=o.querySelector(fs(e)))&&!c._p&&(h.instance=c,h.state.loading=5),Yt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Yt.set(e,a),c||H0(o,e,a,h.state))),t&&s===null)throw Error(l(528,""));return h}if(t&&s!==null)throw Error(l(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=oi(a),a=Ra(o).hoistableScripts,s=a.get(t),s||(s={type:"script",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function li(e){return'href="'+kt(e)+'"'}function fs(e){return'link[rel="stylesheet"]['+e+"]"}function bm(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function H0(e,t,a,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),it(t,"link",a),Fe(t),e.head.appendChild(t))}function oi(e){return'[src="'+kt(e)+'"]'}function hs(e){return"script[async]"+e}function Em(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+kt(a.href)+'"]');if(s)return t.instance=s,Fe(s),s;var o=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),Fe(s),it(s,"style",o),Hr(s,a.precedence,e),t.instance=s;case"stylesheet":o=li(a.href);var c=e.querySelector(fs(o));if(c)return t.state.loading|=4,t.instance=c,Fe(c),c;s=bm(a),(o=Yt.get(o))&&Mu(s,o),c=(e.ownerDocument||e).createElement("link"),Fe(c);var h=c;return h._p=new Promise(function(p,w){h.onload=p,h.onerror=w}),it(c,"link",s),t.state.loading|=4,Hr(c,a.precedence,e),t.instance=c;case"script":return c=oi(a.src),(o=e.querySelector(hs(c)))?(t.instance=o,Fe(o),o):(s=a,(o=Yt.get(c))&&(s=S({},a),Lu(s,o)),e=e.ownerDocument||e,o=e.createElement("script"),Fe(o),it(o,"link",s),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,Hr(s,a.precedence,e));return t.instance}function Hr(e,t,a){for(var s=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=s.length?s[s.length-1]:null,c=o,h=0;h<s.length;h++){var p=s[h];if(p.dataset.precedence===t)c=p;else if(c!==o)break}c?c.parentNode.insertBefore(e,c.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Mu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Lu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Gr=null;function Sm(e,t,a){if(Gr===null){var s=new Map,o=Gr=new Map;o.set(a,s)}else o=Gr,s=o.get(a),s||(s=new Map,o.set(a,s));if(s.has(e))return s;for(s.set(e,null),a=a.getElementsByTagName(e),o=0;o<a.length;o++){var c=a[o];if(!(c[Ri]||c[et]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var h=c.getAttribute(t)||"";h=e+h;var p=s.get(h);p?p.push(c):s.set(h,[c])}}return s}function wm(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function G0(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Tm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function q0(e,t,a,s){if(a.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var o=li(s.href),c=t.querySelector(fs(o));if(c){t=c._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=qr.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=c,Fe(c);return}c=t.ownerDocument||t,s=bm(s),(o=Yt.get(o))&&Mu(s,o),c=c.createElement("link"),Fe(c);var h=c;h._p=new Promise(function(p,w){h.onload=p,h.onerror=w}),it(c,"link",s),a.instance=c}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=qr.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var ku=0;function V0(e,t){return e.stylesheets&&e.count===0&&$r(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var s=setTimeout(function(){if(e.stylesheets&&$r(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4+t);0<e.imgBytes&&ku===0&&(ku=62500*w0());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&$r(e,e.stylesheets),e.unsuspend)){var c=e.unsuspend;e.unsuspend=null,c()}},(e.imgBytes>ku?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(o)}}:null}function qr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)$r(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Vr=null;function $r(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Vr=new Map,t.forEach($0,e),Vr=null,qr.call(e))}function $0(e,t){if(!(t.state.loading&4)){var a=Vr.get(e);if(a)var s=a.get(null);else{a=new Map,Vr.set(e,a);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<o.length;c++){var h=o[c];(h.nodeName==="LINK"||h.getAttribute("media")!=="not all")&&(a.set(h.dataset.precedence,h),s=h)}s&&a.set(null,s)}o=t.instance,h=o.getAttribute("data-precedence"),c=a.get(h)||s,c===s&&a.set(null,o),a.set(h,o),this.count++,s=qr.bind(this),o.addEventListener("load",s),o.addEventListener("error",s),c?c.parentNode.insertBefore(o,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var ms={$$typeof:H,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function Y0(e,t,a,s,o,c,h,p,w){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=jl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jl(0),this.hiddenUpdates=jl(null),this.identifierPrefix=s,this.onUncaughtError=o,this.onCaughtError=c,this.onRecoverableError=h,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function Am(e,t,a,s,o,c,h,p,w,j,M,z){return e=new Y0(e,t,a,h,w,j,M,z,p),t=1,c===!0&&(t|=24),c=Ot(3,null,null,t),e.current=c,c.stateNode=e,t=yo(),t.refCount++,e.pooledCache=t,t.refCount++,c.memoizedState={element:s,isDehydrated:a,cache:t},bo(c),e}function xm(e){return e?(e=Ba,e):Ba}function Om(e,t,a,s,o,c){o=xm(o),s.context===null?s.context=o:s.pendingContext=o,s=Mn(t),s.payload={element:a},c=c===void 0?null:c,c!==null&&(s.callback=c),a=Ln(e,s,t),a!==null&&(Et(a,e,t),Ki(a,e,t))}function Nm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function zu(e,t){Nm(e,t),(e=e.alternate)&&Nm(e,t)}function Rm(e){if(e.tag===13||e.tag===31){var t=sa(e,67108864);t!==null&&Et(t,e,67108864),zu(e,67108864)}}function Cm(e){if(e.tag===13||e.tag===31){var t=Dt();t=Dl(t);var a=sa(e,t);a!==null&&Et(a,e,t),zu(e,t)}}var Yr=!0;function K0(e,t,a,s){var o=I.T;I.T=null;var c=q.p;try{q.p=2,Bu(e,t,a,s)}finally{q.p=c,I.T=o}}function P0(e,t,a,s){var o=I.T;I.T=null;var c=q.p;try{q.p=8,Bu(e,t,a,s)}finally{q.p=c,I.T=o}}function Bu(e,t,a,s){if(Yr){var o=Hu(s);if(o===null)Au(e,t,s,Kr,a),Dm(e,s);else if(X0(o,e,t,a,s))s.stopPropagation();else if(Dm(e,s),t&4&&-1<J0.indexOf(e)){for(;o!==null;){var c=Na(o);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var h=ea(c.pendingLanes);if(h!==0){var p=c;for(p.pendingLanes|=2,p.entangledLanes|=2;h;){var w=1<<31-At(h);p.entanglements[1]|=w,h&=~w}an(c),(Ee&6)===0&&(Nr=wt()+500,os(0))}}break;case 31:case 13:p=sa(c,2),p!==null&&Et(p,c,2),Cr(),zu(c,2)}if(c=Hu(s),c===null&&Au(e,t,s,Kr,a),c===o)break;o=c}o!==null&&s.stopPropagation()}else Au(e,t,s,null,a)}}function Hu(e){return e=Gl(e),Gu(e)}var Kr=null;function Gu(e){if(Kr=null,e=Oa(e),e!==null){var t=d(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=f(t),e!==null)return e;e=null}else if(a===31){if(e=m(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Kr=e,null}function jm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ug()){case zc:return 2;case Bc:return 8;case Ms:case Ig:return 32;case Hc:return 268435456;default:return 32}default:return 32}}var qu=!1,Pn=null,Jn=null,Xn=null,vs=new Map,ys=new Map,Qn=[],J0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Dm(e,t){switch(e){case"focusin":case"focusout":Pn=null;break;case"dragenter":case"dragleave":Jn=null;break;case"mouseover":case"mouseout":Xn=null;break;case"pointerover":case"pointerout":vs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ys.delete(t.pointerId)}}function gs(e,t,a,s,o,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:a,eventSystemFlags:s,nativeEvent:c,targetContainers:[o]},t!==null&&(t=Na(t),t!==null&&Rm(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function X0(e,t,a,s,o){switch(t){case"focusin":return Pn=gs(Pn,e,t,a,s,o),!0;case"dragenter":return Jn=gs(Jn,e,t,a,s,o),!0;case"mouseover":return Xn=gs(Xn,e,t,a,s,o),!0;case"pointerover":var c=o.pointerId;return vs.set(c,gs(vs.get(c)||null,e,t,a,s,o)),!0;case"gotpointercapture":return c=o.pointerId,ys.set(c,gs(ys.get(c)||null,e,t,a,s,o)),!0}return!1}function Um(e){var t=Oa(e.target);if(t!==null){var a=d(t);if(a!==null){if(t=a.tag,t===13){if(t=f(a),t!==null){e.blockedOn=t,Kc(e.priority,function(){Cm(a)});return}}else if(t===31){if(t=m(a),t!==null){e.blockedOn=t,Kc(e.priority,function(){Cm(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Pr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Hu(e.nativeEvent);if(a===null){a=e.nativeEvent;var s=new a.constructor(a.type,a);Hl=s,a.target.dispatchEvent(s),Hl=null}else return t=Na(a),t!==null&&Rm(t),e.blockedOn=a,!1;t.shift()}return!0}function Im(e,t,a){Pr(e)&&a.delete(t)}function Q0(){qu=!1,Pn!==null&&Pr(Pn)&&(Pn=null),Jn!==null&&Pr(Jn)&&(Jn=null),Xn!==null&&Pr(Xn)&&(Xn=null),vs.forEach(Im),ys.forEach(Im)}function Jr(e,t){e.blockedOn===t&&(e.blockedOn=null,qu||(qu=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Q0)))}var Xr=null;function Mm(e){Xr!==e&&(Xr=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Xr===e&&(Xr=null);for(var t=0;t<e.length;t+=3){var a=e[t],s=e[t+1],o=e[t+2];if(typeof s!="function"){if(Gu(s||a)===null)continue;break}var c=Na(a);c!==null&&(e.splice(t,3),t-=3,Ho(c,{pending:!0,data:o,method:a.method,action:s},s,o))}}))}function ui(e){function t(w){return Jr(w,e)}Pn!==null&&Jr(Pn,e),Jn!==null&&Jr(Jn,e),Xn!==null&&Jr(Xn,e),vs.forEach(t),ys.forEach(t);for(var a=0;a<Qn.length;a++){var s=Qn[a];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Qn.length&&(a=Qn[0],a.blockedOn===null);)Um(a),a.blockedOn===null&&Qn.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(s=0;s<a.length;s+=3){var o=a[s],c=a[s+1],h=o[vt]||null;if(typeof c=="function")h||Mm(a);else if(h){var p=null;if(c&&c.hasAttribute("formAction")){if(o=c,h=c[vt]||null)p=h.formAction;else if(Gu(o)!==null)continue}else p=h.action;typeof p=="function"?a[s+1]=p:(a.splice(s,3),s-=3),Mm(a)}}}function Lm(){function e(c){c.canIntercept&&c.info==="react-transition"&&c.intercept({handler:function(){return new Promise(function(h){return o=h})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),s||setTimeout(a,20)}function a(){if(!s&&!navigation.transition){var c=navigation.currentEntry;c&&c.url!=null&&navigation.navigate(c.url,{state:c.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function Vu(e){this._internalRoot=e}Qr.prototype.render=Vu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var a=t.current,s=Dt();Om(a,s,e,t,null,null)},Qr.prototype.unmount=Vu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Om(e.current,2,null,e,null,null),Cr(),t[xa]=null}};function Qr(e){this._internalRoot=e}Qr.prototype.unstable_scheduleHydration=function(e){if(e){var t=Yc();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Qn.length&&t!==0&&t<Qn[a].priority;a++);Qn.splice(a,0,e),a===0&&Um(e)}};var km=n.version;if(km!=="19.2.4")throw Error(l(527,km,"19.2.4"));q.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=v(t),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var Z0={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zr.isDisabled&&Zr.supportsFiber)try{xi=Zr.inject(Z0),Tt=Zr}catch{}}return _s.createRoot=function(e,t){if(!u(e))throw Error(l(299));var a=!1,s="",o=$f,c=Yf,h=Kf;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(c=t.onCaughtError),t.onRecoverableError!==void 0&&(h=t.onRecoverableError)),t=Am(e,1,!1,null,null,a,s,null,o,c,h,Lm),e[xa]=t.current,Tu(e),new Vu(t)},_s.hydrateRoot=function(e,t,a){if(!u(e))throw Error(l(299));var s=!1,o="",c=$f,h=Yf,p=Kf,w=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(c=a.onUncaughtError),a.onCaughtError!==void 0&&(h=a.onCaughtError),a.onRecoverableError!==void 0&&(p=a.onRecoverableError),a.formState!==void 0&&(w=a.formState)),t=Am(e,1,!0,t,a??null,s,o,w,c,h,p,Lm),t.context=xm(null),a=t.current,s=Dt(),s=Dl(s),o=Mn(s),o.callback=null,Ln(a,o,s),a=s,t.current.lanes=a,Ni(t,a),an(t),e[xa]=t.current,Tu(e),new Qr(t)},_s.version="19.2.4",_s}var Pm;function o_(){if(Pm)return Ku.exports;Pm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),Ku.exports=l_(),Ku.exports}var u_=o_();const c_=By(u_),rt=[];for(let i=0;i<256;++i)rt.push((i+256).toString(16).slice(1));function d_(i,n=0){return(rt[i[n+0]]+rt[i[n+1]]+rt[i[n+2]]+rt[i[n+3]]+"-"+rt[i[n+4]]+rt[i[n+5]]+"-"+rt[i[n+6]]+rt[i[n+7]]+"-"+rt[i[n+8]]+rt[i[n+9]]+"-"+rt[i[n+10]]+rt[i[n+11]]+rt[i[n+12]]+rt[i[n+13]]+rt[i[n+14]]+rt[i[n+15]]).toLowerCase()}let Qu;const f_=new Uint8Array(16);function h_(){if(!Qu){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Qu=crypto.getRandomValues.bind(crypto)}return Qu(f_)}const m_=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Jm={randomUUID:m_};function v_(i,n,r){var u;i=i||{};const l=i.random??((u=i.rng)==null?void 0:u.call(i))??h_();if(l.length<16)throw new Error("Random bytes length must be >= 16");return l[6]=l[6]&15|64,l[8]=l[8]&63|128,d_(l)}function Ta(i,n,r){return Jm.randomUUID&&!i?Jm.randomUUID():v_(i)}/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hy=(...i)=>i.filter((n,r,l)=>!!n&&n.trim()!==""&&l.indexOf(n)===r).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y_=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g_=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,r,l)=>l?l.toUpperCase():r.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=i=>{const n=g_(i);return n.charAt(0).toUpperCase()+n.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var p_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __=i=>{for(const n in i)if(n.startsWith("aria-")||n==="role"||n==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b_=W.forwardRef(({color:i="currentColor",size:n=24,strokeWidth:r=2,absoluteStrokeWidth:l,className:u="",children:d,iconNode:f,...m},y)=>W.createElement("svg",{ref:y,...p_,width:n,height:n,stroke:i,strokeWidth:l?Number(r)*24/Number(n):r,className:Hy("lucide",u),...!d&&!__(m)&&{"aria-hidden":"true"},...m},[...f.map(([v,_])=>W.createElement(v,_)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=(i,n)=>{const r=W.forwardRef(({className:l,...u},d)=>W.createElement(b_,{ref:d,iconNode:n,className:Hy(`lucide-${y_(Xm(i))}`,`lucide-${i}`,l),...u}));return r.displayName=Xm(i),r};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E_=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],S_=we("bell",E_);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w_=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],T_=we("check",w_);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A_=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],x_=we("chevron-down",A_);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],N_=we("chevron-right",O_);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],C_=we("circle-alert",R_);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],D_=we("circle-plus",j_);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],I_=we("compass",U_);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],L_=we("disc",M_);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k_=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],z_=we("ellipsis",k_);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],H_=we("gift",B_);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],uc=we("hash",G_);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],Gy=we("headphones",q_);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],cl=we("mic-off",V_);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],jc=we("mic",$_);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_=[["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M17 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 1.184-1.826",key:"cv7jms"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["path",{d:"M8.656 3H20a2 2 0 0 1 2 2v10a2 2 0 0 1-.293 1.042",key:"z8ni2w"}]],K_=we("monitor-off",Y_);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P_=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],J_=we("monitor",P_);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X_=[["path",{d:"M10.1 13.9a14 14 0 0 0 3.732 2.668 1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2 18 18 0 0 1-12.728-5.272",key:"1wngk7"}],["path",{d:"M22 2 2 22",key:"y4kqgn"}],["path",{d:"M4.76 13.582A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 .244.473",key:"10hv5p"}]],Q_=we("phone-off",X_);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z_=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],F_=we("pin",Z_);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],qy=we("plus",W_);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],tb=we("search",eb);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Qm=we("settings",nb);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ib=we("shield",ab);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],rb=we("smile",sb);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=[["path",{d:"M21 9a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 15 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z",key:"1dfntj"}],["path",{d:"M15 3v5a1 1 0 0 0 1 1h5",key:"6s6qgf"}],["path",{d:"M8 13h.01",key:"1sbv64"}],["path",{d:"M16 13h.01",key:"wip0gl"}],["path",{d:"M10 16s.8 1 2 1c1.3 0 2-1 2-1",key:"1vvgv3"}]],ob=we("sticker",lb);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],cb=we("upload",ub);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Vy=we("users",db);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],hb=we("video",fb);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mb=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],$y=we("volume-2",mb);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],dl=we("volume-x",vb);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Dc=we("x",yb),gb=({servers:i,activeServerId:n,onSelectServer:r,onCreateServer:l,onJoinServer:u})=>g.jsxs("div",{className:"w-[72px] bg-discord-sidebar flex flex-col items-center py-3 space-y-2 h-full overflow-y-auto no-scrollbar",children:[g.jsxs("div",{className:"w-12 h-12 bg-discord-active rounded-[24px] hover:rounded-[16px] transition-all duration-300 flex items-center justify-center cursor-pointer text-discord-text hover:bg-discord-blurple group relative",children:[g.jsx(L_,{size:28}),g.jsx("div",{className:"absolute left-0 w-1 h-2 bg-white rounded-r-full -ml-4 opacity-0 transition-all"})]}),g.jsx("div",{className:"w-8 h-[2px] bg-discord-dark rounded-lg mx-auto opacity-50"}),i.map(d=>{const f=n===d.id;return g.jsxs("div",{className:"relative group w-full flex justify-center",children:[g.jsx("div",{className:`absolute left-0 top-1/2 -translate-y-1/2 w-1 bg-white rounded-r-full transition-all duration-200 
              ${f?"h-10":"h-2 opacity-0 group-hover:opacity-100 group-hover:h-5"}`}),g.jsx("button",{onClick:()=>r(d.id),className:`w-12 h-12 rounded-[24px] transition-all duration-200 flex items-center justify-center overflow-hidden group-hover:rounded-[16px]
              ${f?"bg-discord-blurple rounded-[16px]":"bg-discord-dark hover:bg-discord-blurple"}`,children:d.icon?g.jsx("img",{src:d.icon,alt:d.name,className:"w-full h-full object-cover"}):g.jsx("span",{className:"text-sm font-medium text-white",children:d.name.substring(0,2).toUpperCase()})}),g.jsxs("div",{className:"absolute left-full ml-4 top-1/2 -translate-y-1/2 px-3 py-2 bg-black text-white text-xs font-bold rounded shadow-lg opacity-0 group-hover:opacity-100 pointer-events-none whitespace-nowrap z-50 transition-opacity",children:[d.name,g.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 -ml-1 border-4 border-transparent border-r-black"})]})]},d.id)}),g.jsx("div",{className:"w-8 h-[2px] bg-discord-dark rounded-lg mx-auto opacity-50"}),g.jsx("button",{onClick:l,className:"group w-12 h-12 bg-discord-dark rounded-[24px] hover:rounded-[16px] hover:bg-discord-green transition-all duration-300 flex items-center justify-center cursor-pointer text-discord-green hover:text-white",title:"Add a Server",children:g.jsx(qy,{size:24})}),g.jsx("button",{onClick:u,className:"group w-12 h-12 bg-discord-dark rounded-[24px] hover:rounded-[16px] hover:bg-discord-active transition-all duration-300 flex items-center justify-center cursor-pointer text-discord-text hover:text-white",title:"Join a Server",children:g.jsx(I_,{size:24})})]}),pb=({server:i,activeChannelId:n,currentUser:r,onSelectChannel:l,isMuted:u,toggleMute:d,isDeafened:f,toggleDeafen:m,onOpenSettings:y,onOpenServerSettings:v})=>{const[_,S]=W.useState(!1),T=i.channels.filter(E=>E.type==="text"),b=i.channels.filter(E=>E.type==="voice");return g.jsxs("div",{className:"w-60 bg-discord-light flex flex-col h-full border-r border-discord-darker relative",children:[g.jsxs("div",{onClick:()=>S(!_),className:"h-12 px-4 flex items-center justify-between shadow-sm hover:bg-discord-active cursor-pointer transition-colors border-b border-discord-darker relative z-20",children:[g.jsx("h1",{className:"font-bold text-white truncate",children:i.name}),_?g.jsx(Dc,{size:16}):g.jsx(x_,{size:16})]}),_&&g.jsxs("div",{className:"absolute top-14 left-2 w-56 bg-black rounded-lg shadow-xl z-30 overflow-hidden border border-discord-darker p-1.5 space-y-1",children:[g.jsxs("div",{className:"px-2 py-1.5 rounded hover:bg-discord-blurple text-discord-textMuted hover:text-white cursor-pointer flex items-center justify-between text-sm",onClick:()=>{S(!1),v()},children:["Server Settings",g.jsx(Qm,{size:14})]}),g.jsxs("div",{className:"px-2 py-1.5 rounded hover:bg-discord-active text-discord-textMuted hover:text-white cursor-pointer flex items-center justify-between text-sm",children:["Create Channel",g.jsx(Zu,{})]}),g.jsx("div",{className:"h-[1px] bg-discord-darker my-1"}),g.jsx("div",{className:"px-2 py-1.5 rounded hover:bg-discord-red text-discord-red hover:text-white cursor-pointer flex items-center justify-between text-sm",children:"Leave Server"})]}),_&&g.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>S(!1)}),g.jsxs("div",{className:"flex-1 overflow-y-auto py-3 px-2 space-y-4",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-center justify-between px-2 mb-1 group text-discord-textMuted hover:text-discord-text cursor-pointer",children:[g.jsx("span",{className:"text-xs font-bold uppercase tracking-wide",children:"Text Channels"}),g.jsx(Zu,{})]}),g.jsx("div",{className:"space-y-[2px]",children:T.map(E=>g.jsxs("div",{onClick:()=>l(E.id),className:`flex items-center px-2 py-1.5 rounded bg-transparent cursor-pointer group
                  ${n===E.id?"bg-discord-active text-white":"text-discord-textMuted hover:bg-discord-active/50 hover:text-discord-text"}
                `,children:[g.jsx(uc,{size:18,className:"mr-1.5 text-discord-textMuted"}),g.jsx("span",{className:`truncate font-medium ${n===E.id?"text-white":""}`,children:E.name})]},E.id))})]}),g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-center justify-between px-2 mb-1 group text-discord-textMuted hover:text-discord-text cursor-pointer",children:[g.jsx("span",{className:"text-xs font-bold uppercase tracking-wide",children:"Voice Channels"}),g.jsx(Zu,{})]}),g.jsx("div",{className:"space-y-[2px]",children:b.map(E=>{const R=n===E.id;return g.jsxs("div",{className:"flex flex-col",children:[g.jsxs("div",{onClick:()=>l(E.id),className:`flex items-center px-2 py-1.5 rounded cursor-pointer group
                      ${R?"bg-discord-active text-white":"text-discord-textMuted hover:bg-discord-active/50 hover:text-discord-text"}
                    `,children:[g.jsx($y,{size:18,className:"mr-1.5 text-discord-textMuted"}),g.jsx("span",{className:`truncate font-medium ${R?"text-white":""}`,children:E.name})]}),R&&g.jsx("div",{className:"ml-8 mt-1 mb-2 space-y-1",children:g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("img",{src:r.avatar,className:"w-6 h-6 rounded-full border border-discord-dark"}),g.jsx("span",{className:"text-sm text-white font-medium truncate",children:r.username}),g.jsxs("div",{className:"flex space-x-1",children:[u&&g.jsx(cl,{size:12,className:"text-discord-red"}),f&&g.jsx(dl,{size:12,className:"text-discord-red"})]})]})})]},E.id)})})]})]}),g.jsxs("div",{className:"bg-discord-darker px-2 py-1.5 flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center hover:bg-discord-active p-1 rounded cursor-pointer min-w-0 mr-1 flex-1",children:[g.jsxs("div",{className:"relative",children:[g.jsx("img",{src:r.avatar,alt:"User",className:"w-8 h-8 rounded-full"}),g.jsx("div",{className:`absolute bottom-0 right-0 w-3 h-3 rounded-full border-2 border-discord-darker ${f?"bg-discord-red":"bg-discord-green"}`,children:f&&g.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:g.jsx("div",{className:"w-1.5 h-[1.5px] bg-discord-darker"})})})]}),g.jsxs("div",{className:"ml-2 min-w-0",children:[g.jsx("div",{className:"text-sm font-bold text-white truncate",children:r.username}),g.jsx("div",{className:"text-xs text-discord-textMuted truncate",children:f?"Deafened":"Online"})]})]}),g.jsxs("div",{className:"flex items-center",children:[g.jsxs("button",{onClick:d,className:"p-1.5 hover:bg-discord-active rounded text-discord-text hover:text-white relative group",children:[u?g.jsx(cl,{size:18,className:"text-discord-red"}):g.jsx(jc,{size:18}),g.jsx("span",{className:"absolute bottom-full left-1/2 -translate-x-1/2 bg-black text-white text-xs py-1 px-2 rounded mb-1 opacity-0 group-hover:opacity-100 whitespace-nowrap pointer-events-none",children:u?"Unmute":"Mute"})]}),g.jsxs("button",{onClick:m,className:"p-1.5 hover:bg-discord-active rounded text-discord-text hover:text-white relative group",children:[f?g.jsx(dl,{size:18,className:"text-discord-red"}):g.jsx(Gy,{size:18}),g.jsx("span",{className:"absolute bottom-full left-1/2 -translate-x-1/2 bg-black text-white text-xs py-1 px-2 rounded mb-1 opacity-0 group-hover:opacity-100 whitespace-nowrap pointer-events-none",children:f?"Undeafen":"Deafen"})]}),g.jsxs("button",{onClick:y,className:"p-1.5 hover:bg-discord-active rounded text-discord-text hover:text-white relative group",children:[g.jsx(Qm,{size:18}),g.jsx("span",{className:"absolute bottom-full left-1/2 -translate-x-1/2 bg-black text-white text-xs py-1 px-2 rounded mb-1 opacity-0 group-hover:opacity-100 whitespace-nowrap pointer-events-none",children:"User Settings"})]})]})]})]})},Zu=()=>g.jsx("svg",{className:"w-4 h-4 cursor-pointer",viewBox:"0 0 24 24",fill:"currentColor",children:g.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"})});var _b={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Zm;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Zm||(Zm={}));var Fm;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(Fm||(Fm={}));var Wm;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(Wm||(Wm={}));var ev;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(ev||(ev={}));var tv;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(tv||(tv={}));var nv;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(nv||(nv={}));var av;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(av||(av={}));var iv;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(iv||(iv={}));var sv;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(sv||(sv={}));var rv;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(rv||(rv={}));var lv;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(lv||(lv={}));var ov;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH",i.MINIMAL="MINIMAL"})(ov||(ov={}));var uv;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(uv||(uv={}));var cv;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(cv||(cv={}));var dv;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(dv||(dv={}));var fv;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE",i.IMAGE_RECITATION="IMAGE_RECITATION",i.IMAGE_OTHER="IMAGE_OTHER"})(fv||(fv={}));var hv;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(hv||(hv={}));var mv;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(mv||(mv={}));var vv;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(vv||(vv={}));var yv;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(yv||(yv={}));var gv;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(gv||(gv={}));var pv;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(pv||(pv={}));var _v;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(_v||(_v={}));var bv;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(bv||(bv={}));var Ev;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Ev||(Ev={}));var Sv;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Sv||(Sv={}));var wv;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(wv||(wv={}));var Tv;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",i.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Tv||(Tv={}));var Av;(function(i){i.COLLECTION="COLLECTION"})(Av||(Av={}));var xv;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(xv||(xv={}));var Ov;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Ov||(Ov={}));var Nv;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(Nv||(Nv={}));var Rv;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(Rv||(Rv={}));var Cv;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(Cv||(Cv={}));var jv;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(jv||(jv={}));var Dv;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Dv||(Dv={}));var Uv;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Uv||(Uv={}));var Iv;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Iv||(Iv={}));var Mv;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(Mv||(Mv={}));var Lv;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(Lv||(Lv={}));var kv;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(kv||(kv={}));var zv;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(zv||(zv={}));var Bv;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING",i.DISTILLATION="DISTILLATION"})(Bv||(Bv={}));var Hv;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(Hv||(Hv={}));var Gv;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(Gv||(Gv={}));var qv;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED",i.REGISTERED="REGISTERED"})(qv||(qv={}));var Vv;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Vv||(Vv={}));var $v;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})($v||($v={}));var Yv;(function(i){i.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",i.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",i.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Yv||(Yv={}));var Kv;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.ACTIVITY_START="ACTIVITY_START",i.ACTIVITY_END="ACTIVITY_END"})(Kv||(Kv={}));var Pv;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Pv||(Pv={}));var Jv;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Jv||(Jv={}));var Xv;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(Xv||(Xv={}));var Qv;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Qv||(Qv={}));var Zv;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Zv||(Zv={}));var Fv;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(Fv||(Fv={}));var Wv;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(Wv||(Wv={}));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ey;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(ey||(ey={}));function fl(i,n){var r={};for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&n.indexOf(l)<0&&(r[l]=i[l]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,l=Object.getOwnPropertySymbols(i);u<l.length;u++)n.indexOf(l[u])<0&&Object.prototype.propertyIsEnumerable.call(i,l[u])&&(r[l[u]]=i[l[u]]);return r}function ty(i){var n=typeof Symbol=="function"&&Symbol.iterator,r=n&&i[n],l=0;if(r)return r.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&l>=i.length&&(i=void 0),{value:i&&i[l++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Me(i){return this instanceof Me?(this.v=i,this):new Me(i)}function Ts(i,n,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=r.apply(i,n||[]),u,d=[];return u=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),m("next"),m("throw"),m("return",f),u[Symbol.asyncIterator]=function(){return this},u;function f(b){return function(E){return Promise.resolve(E).then(b,S)}}function m(b,E){l[b]&&(u[b]=function(R){return new Promise(function(O,L){d.push([b,R,O,L])>1||y(b,R)})},E&&(u[b]=E(u[b])))}function y(b,E){try{v(l[b](E))}catch(R){T(d[0][3],R)}}function v(b){b.value instanceof Me?Promise.resolve(b.value.v).then(_,S):T(d[0][2],b)}function _(b){y("next",b)}function S(b){y("throw",b)}function T(b,E){b(E),d.shift(),d.length&&y(d[0][0],d[0][1])}}function Si(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=i[Symbol.asyncIterator],r;return n?n.call(i):(i=typeof ty=="function"?ty(i):i[Symbol.iterator](),r={},l("next"),l("throw"),l("return"),r[Symbol.asyncIterator]=function(){return this},r);function l(d){r[d]=i[d]&&function(f){return new Promise(function(m,y){f=i[d](f),u(m,y,f.done,f.value)})}}function u(d,f,m,y){Promise.resolve(y).then(function(v){d({value:v,done:m})},f)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Yy=function(){const{crypto:i}=globalThis;if(i!=null&&i.randomUUID)return Yy=i.randomUUID.bind(i),i.randomUUID();const n=new Uint8Array(1),r=i?()=>i.getRandomValues(n)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,l=>(+l^r()&15>>+l/4).toString(16))};const bb=()=>Yy();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cc(i){return typeof i=="object"&&i!==null&&("name"in i&&i.name==="AbortError"||"message"in i&&String(i.message).includes("FetchRequestCanceledException"))}const dc=i=>{if(i instanceof Error)return i;if(typeof i=="object"&&i!==null){try{if(Object.prototype.toString.call(i)==="[object Error]"){const n=new Error(i.message,i.cause?{cause:i.cause}:{});return i.stack&&(n.stack=i.stack),i.cause&&!n.cause&&(n.cause=i.cause),i.name&&(n.name=i.name),n}}catch{}try{return new Error(JSON.stringify(i))}catch{}}return new Error(i)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Kt extends Error{}class ht extends Kt{constructor(n,r,l,u){super(`${ht.makeMessage(n,r,l)}`),this.status=n,this.headers=u,this.error=r}static makeMessage(n,r,l){const u=r!=null&&r.message?typeof r.message=="string"?r.message:JSON.stringify(r.message):r?JSON.stringify(r):l;return n&&u?`${n} ${u}`:n?`${n} status code (no body)`:u||"(no status code or body)"}static generate(n,r,l,u){if(!n||!u)return new pl({message:l,cause:dc(r)});const d=r;return n===400?new Py(n,d,l,u):n===401?new Jy(n,d,l,u):n===403?new Xy(n,d,l,u):n===404?new Qy(n,d,l,u):n===409?new Zy(n,d,l,u):n===422?new Fy(n,d,l,u):n===429?new Wy(n,d,l,u):n>=500?new eg(n,d,l,u):new ht(n,d,l,u)}}class fc extends ht{constructor({message:n}={}){super(void 0,void 0,n||"Request was aborted.",void 0)}}class pl extends ht{constructor({message:n,cause:r}){super(void 0,void 0,n||"Connection error.",void 0),r&&(this.cause=r)}}class Ky extends pl{constructor({message:n}={}){super({message:n??"Request timed out."})}}class Py extends ht{}class Jy extends ht{}class Xy extends ht{}class Qy extends ht{}class Zy extends ht{}class Fy extends ht{}class Wy extends ht{}class eg extends ht{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Eb=/^[a-z][a-z0-9+.-]*:/i,Sb=i=>Eb.test(i);let hc=i=>(hc=Array.isArray,hc(i));const wb=hc;let Tb=wb;const ny=Tb;function Ab(i){if(!i)return!0;for(const n in i)return!1;return!0}function xb(i,n){return Object.prototype.hasOwnProperty.call(i,n)}const Ob=(i,n)=>{if(typeof n!="number"||!Number.isInteger(n))throw new Kt(`${i} must be an integer`);if(n<0)throw new Kt(`${i} must be a positive integer`);return n},Nb=i=>{try{return JSON.parse(i)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Rb=i=>new Promise(n=>setTimeout(n,i));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yi="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Cb(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const jb=()=>{var i,n,r,l,u;const d=Cb();if(d==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":yi,"X-Stainless-OS":iy(Deno.build.os),"X-Stainless-Arch":ay(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(n=(i=Deno.version)===null||i===void 0?void 0:i.deno)!==null&&n!==void 0?n:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":yi,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(d==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":yi,"X-Stainless-OS":iy((r=globalThis.process.platform)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Arch":ay((l=globalThis.process.arch)!==null&&l!==void 0?l:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(u=globalThis.process.version)!==null&&u!==void 0?u:"unknown"};const f=Db();return f?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":yi,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${f.browser}`,"X-Stainless-Runtime-Version":f.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":yi,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Db(){if(typeof navigator>"u"||!navigator)return null;const i=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:n,pattern:r}of i){const l=r.exec(navigator.userAgent);if(l){const u=l[1]||0,d=l[2]||0,f=l[3]||0;return{browser:n,version:`${u}.${d}.${f}`}}}return null}const ay=i=>i==="x32"?"x32":i==="x86_64"||i==="x64"?"x64":i==="arm"?"arm":i==="aarch64"||i==="arm64"?"arm64":i?`other:${i}`:"unknown",iy=i=>(i=i.toLowerCase(),i.includes("ios")?"iOS":i==="android"?"Android":i==="darwin"?"MacOS":i==="win32"?"Windows":i==="freebsd"?"FreeBSD":i==="openbsd"?"OpenBSD":i==="linux"?"Linux":i?`Other:${i}`:"Unknown");let Fr;const Ub=()=>Fr??(Fr=jb());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ib(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function tg(...i){const n=globalThis.ReadableStream;if(typeof n>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new n(...i)}function Mb(i){let n=Symbol.asyncIterator in i?i[Symbol.asyncIterator]():i[Symbol.iterator]();return tg({start(){},async pull(r){const{done:l,value:u}=await n.next();l?r.close():r.enqueue(u)},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}function ng(i){if(i[Symbol.asyncIterator])return i;const n=i.getReader();return{async next(){try{const r=await n.read();return r!=null&&r.done&&n.releaseLock(),r}catch(r){throw n.releaseLock(),r}},async return(){const r=n.cancel();return n.releaseLock(),await r,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function Lb(i){var n,r;if(i===null||typeof i!="object")return;if(i[Symbol.asyncIterator]){await((r=(n=i[Symbol.asyncIterator]()).return)===null||r===void 0?void 0:r.call(n));return}const l=i.getReader(),u=l.cancel();l.releaseLock(),await u}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kb=({headers:i,body:n})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(n)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ag=()=>{var i;if(typeof File>"u"){const{process:n}=globalThis,r=typeof((i=n==null?void 0:n.versions)===null||i===void 0?void 0:i.node)=="string"&&parseInt(n.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(r?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Fu(i,n,r){return ag(),new File(i,n??"unknown_file",r)}function zb(i){return(typeof i=="object"&&i!==null&&("name"in i&&i.name&&String(i.name)||"url"in i&&i.url&&String(i.url)||"filename"in i&&i.filename&&String(i.filename)||"path"in i&&i.path&&String(i.path))||"").split(/[\\/]/).pop()||void 0}const Bb=i=>i!=null&&typeof i=="object"&&typeof i[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ig=i=>i!=null&&typeof i=="object"&&typeof i.size=="number"&&typeof i.type=="string"&&typeof i.text=="function"&&typeof i.slice=="function"&&typeof i.arrayBuffer=="function",Hb=i=>i!=null&&typeof i=="object"&&typeof i.name=="string"&&typeof i.lastModified=="number"&&ig(i),Gb=i=>i!=null&&typeof i=="object"&&typeof i.url=="string"&&typeof i.blob=="function";async function qb(i,n,r){if(ag(),i=await i,Hb(i))return i instanceof File?i:Fu([await i.arrayBuffer()],i.name);if(Gb(i)){const u=await i.blob();return n||(n=new URL(i.url).pathname.split(/[\\/]/).pop()),Fu(await mc(u),n,r)}const l=await mc(i);if(n||(n=zb(i)),!(r!=null&&r.type)){const u=l.find(d=>typeof d=="object"&&"type"in d&&d.type);typeof u=="string"&&(r=Object.assign(Object.assign({},r),{type:u}))}return Fu(l,n,r)}async function mc(i){var n,r,l,u,d;let f=[];if(typeof i=="string"||ArrayBuffer.isView(i)||i instanceof ArrayBuffer)f.push(i);else if(ig(i))f.push(i instanceof Blob?i:await i.arrayBuffer());else if(Bb(i))try{for(var m=!0,y=Si(i),v;v=await y.next(),n=v.done,!n;m=!0){u=v.value,m=!1;const _=u;f.push(...await mc(_))}}catch(_){r={error:_}}finally{try{!m&&!n&&(l=y.return)&&await l.call(y)}finally{if(r)throw r.error}}else{const _=(d=i==null?void 0:i.constructor)===null||d===void 0?void 0:d.name;throw new Error(`Unexpected data type: ${typeof i}${_?`; constructor: ${_}`:""}${Vb(i)}`)}return f}function Vb(i){return typeof i!="object"||i===null?"":`; props: [${Object.getOwnPropertyNames(i).map(r=>`"${r}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sg{constructor(n){this._client=n}}sg._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rg(i){return i.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const sy=Object.freeze(Object.create(null)),$b=(i=rg)=>(function(r,...l){if(r.length===1)return r[0];let u=!1;const d=[],f=r.reduce((_,S,T)=>{var b,E,R;/[?#]/.test(S)&&(u=!0);const O=l[T];let L=(u?encodeURIComponent:i)(""+O);return T!==l.length&&(O==null||typeof O=="object"&&O.toString===((R=Object.getPrototypeOf((E=Object.getPrototypeOf((b=O.hasOwnProperty)!==null&&b!==void 0?b:sy))!==null&&E!==void 0?E:sy))===null||R===void 0?void 0:R.toString))&&(L=O+"",d.push({start:_.length+S.length,length:L.length,error:`Value of type ${Object.prototype.toString.call(O).slice(8,-1)} is not a valid path parameter`})),_+S+(T===l.length?"":L)},""),m=f.split(/[?#]/,1)[0],y=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let v;for(;(v=y.exec(m))!==null;)d.push({start:v.index,length:v[0].length,error:`Value "${v[0]}" can't be safely passed as a path parameter`});if(d.sort((_,S)=>_.start-S.start),d.length>0){let _=0;const S=d.reduce((T,b)=>{const E=" ".repeat(b.start-_),R="^".repeat(b.length);return _=b.start+b.length,T+E+R},"");throw new Kt(`Path parameters result in path with invalid segments:
${d.map(T=>T.error).join(`
`)}
${f}
${S}`)}return f}),Wr=$b(rg);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lg extends sg{create(n,r){var l;const{api_version:u=this._client.apiVersion}=n,d=fl(n,["api_version"]);if("model"in d&&"agent_config"in d)throw new Kt("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in d&&"generation_config"in d)throw new Kt("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Wr`/${u}/interactions`,Object.assign(Object.assign({body:d},r),{stream:(l=n.stream)!==null&&l!==void 0?l:!1}))}delete(n,r={},l){const{api_version:u=this._client.apiVersion}=r??{};return this._client.delete(Wr`/${u}/interactions/${n}`,l)}cancel(n,r={},l){const{api_version:u=this._client.apiVersion}=r??{};return this._client.post(Wr`/${u}/interactions/${n}/cancel`,l)}get(n,r={},l){var u;const d=r??{},{api_version:f=this._client.apiVersion}=d,m=fl(d,["api_version"]);return this._client.get(Wr`/${f}/interactions/${n}`,Object.assign(Object.assign({query:m},l),{stream:(u=r==null?void 0:r.stream)!==null&&u!==void 0?u:!1}))}}lg._key=Object.freeze(["interactions"]);class og extends lg{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yb(i){let n=0;for(const u of i)n+=u.length;const r=new Uint8Array(n);let l=0;for(const u of i)r.set(u,l),l+=u.length;return r}let el;function Uc(i){let n;return(el??(n=new globalThis.TextEncoder,el=n.encode.bind(n)))(i)}let tl;function ry(i){let n;return(tl??(n=new globalThis.TextDecoder,tl=n.decode.bind(n)))(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _l{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(n){if(n==null)return[];const r=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?Uc(n):n;this.buffer=Yb([this.buffer,r]);const l=[];let u;for(;(u=Kb(this.buffer,this.carriageReturnIndex))!=null;){if(u.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=u.index;continue}if(this.carriageReturnIndex!=null&&(u.index!==this.carriageReturnIndex+1||u.carriage)){l.push(ry(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const d=this.carriageReturnIndex!==null?u.preceding-1:u.preceding,f=ry(this.buffer.subarray(0,d));l.push(f),this.buffer=this.buffer.subarray(u.index),this.carriageReturnIndex=null}return l}flush(){return this.buffer.length?this.decode(`
`):[]}}_l.NEWLINE_CHARS=new Set([`
`,"\r"]);_l.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Kb(i,n){for(let u=n??0;u<i.length;u++){if(i[u]===10)return{preceding:u,index:u+1,carriage:!1};if(i[u]===13)return{preceding:u,index:u+1,carriage:!0}}return null}function Pb(i){for(let l=0;l<i.length-1;l++){if(i[l]===10&&i[l+1]===10||i[l]===13&&i[l+1]===13)return l+2;if(i[l]===13&&i[l+1]===10&&l+3<i.length&&i[l+2]===13&&i[l+3]===10)return l+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hl={off:0,error:200,warn:300,info:400,debug:500},ly=(i,n,r)=>{if(i){if(xb(hl,i))return i;ft(r).warn(`${n} was set to ${JSON.stringify(i)}, expected one of ${JSON.stringify(Object.keys(hl))}`)}};function Ss(){}function nl(i,n,r){return!n||hl[i]>hl[r]?Ss:n[i].bind(n)}const Jb={error:Ss,warn:Ss,info:Ss,debug:Ss};let oy=new WeakMap;function ft(i){var n;const r=i.logger,l=(n=i.logLevel)!==null&&n!==void 0?n:"off";if(!r)return Jb;const u=oy.get(r);if(u&&u[0]===l)return u[1];const d={error:nl("error",r,l),warn:nl("warn",r,l),info:nl("info",r,l),debug:nl("debug",r,l)};return oy.set(r,[l,d]),d}const ba=i=>(i.options&&(i.options=Object.assign({},i.options),delete i.options.headers),i.headers&&(i.headers=Object.fromEntries((i.headers instanceof Headers?[...i.headers]:Object.entries(i.headers)).map(([n,r])=>[n,n.toLowerCase()==="x-goog-api-key"||n.toLowerCase()==="authorization"||n.toLowerCase()==="cookie"||n.toLowerCase()==="set-cookie"?"***":r]))),"retryOfRequestLogID"in i&&(i.retryOfRequestLogID&&(i.retryOf=i.retryOfRequestLogID),delete i.retryOfRequestLogID),i);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bi{constructor(n,r,l){this.iterator=n,this.controller=r,this.client=l}static fromSSEResponse(n,r,l){let u=!1;const d=l?ft(l):console;function f(){return Ts(this,arguments,function*(){var y,v,_,S;if(u)throw new Kt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");u=!0;let T=!1;try{try{for(var b=!0,E=Si(Xb(n,r)),R;R=yield Me(E.next()),y=R.done,!y;b=!0){S=R.value,b=!1;const O=S;if(!T)if(O.data.startsWith("[DONE]")){T=!0;continue}else try{yield yield Me(JSON.parse(O.data))}catch(L){throw d.error("Could not parse message into JSON:",O.data),d.error("From chunk:",O.raw),L}}}catch(O){v={error:O}}finally{try{!b&&!y&&(_=E.return)&&(yield Me(_.call(E)))}finally{if(v)throw v.error}}T=!0}catch(O){if(cc(O))return yield Me(void 0);throw O}finally{T||r.abort()}})}return new bi(f,r,l)}static fromReadableStream(n,r,l){let u=!1;function d(){return Ts(this,arguments,function*(){var y,v,_,S;const T=new _l,b=ng(n);try{for(var E=!0,R=Si(b),O;O=yield Me(R.next()),y=O.done,!y;E=!0){S=O.value,E=!1;const L=S;for(const G of T.decode(L))yield yield Me(G)}}catch(L){v={error:L}}finally{try{!E&&!y&&(_=R.return)&&(yield Me(_.call(R)))}finally{if(v)throw v.error}}for(const L of T.flush())yield yield Me(L)})}function f(){return Ts(this,arguments,function*(){var y,v,_,S;if(u)throw new Kt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");u=!0;let T=!1;try{try{for(var b=!0,E=Si(d()),R;R=yield Me(E.next()),y=R.done,!y;b=!0){S=R.value,b=!1;const O=S;T||O&&(yield yield Me(JSON.parse(O)))}}catch(O){v={error:O}}finally{try{!b&&!y&&(_=E.return)&&(yield Me(_.call(E)))}finally{if(v)throw v.error}}T=!0}catch(O){if(cc(O))return yield Me(void 0);throw O}finally{T||r.abort()}})}return new bi(f,r,l)}[Symbol.asyncIterator](){return this.iterator()}tee(){const n=[],r=[],l=this.iterator(),u=d=>({next:()=>{if(d.length===0){const f=l.next();n.push(f),r.push(f)}return d.shift()}});return[new bi(()=>u(n),this.controller,this.client),new bi(()=>u(r),this.controller,this.client)]}toReadableStream(){const n=this;let r;return tg({async start(){r=n[Symbol.asyncIterator]()},async pull(l){try{const{value:u,done:d}=await r.next();if(d)return l.close();const f=Uc(JSON.stringify(u)+`
`);l.enqueue(f)}catch(u){l.error(u)}},async cancel(){var l;await((l=r.return)===null||l===void 0?void 0:l.call(r))}})}}function Xb(i,n){return Ts(this,arguments,function*(){var l,u,d,f;if(!i.body)throw n.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Kt("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Kt("Attempted to iterate over a response with no body");const m=new Zb,y=new _l,v=ng(i.body);try{for(var _=!0,S=Si(Qb(v)),T;T=yield Me(S.next()),l=T.done,!l;_=!0){f=T.value,_=!1;const b=f;for(const E of y.decode(b)){const R=m.decode(E);R&&(yield yield Me(R))}}}catch(b){u={error:b}}finally{try{!_&&!l&&(d=S.return)&&(yield Me(d.call(S)))}finally{if(u)throw u.error}}for(const b of y.flush()){const E=m.decode(b);E&&(yield yield Me(E))}})}function Qb(i){return Ts(this,arguments,function*(){var r,l,u,d;let f=new Uint8Array;try{for(var m=!0,y=Si(i),v;v=yield Me(y.next()),r=v.done,!r;m=!0){d=v.value,m=!1;const _=d;if(_==null)continue;const S=_ instanceof ArrayBuffer?new Uint8Array(_):typeof _=="string"?Uc(_):_;let T=new Uint8Array(f.length+S.length);T.set(f),T.set(S,f.length),f=T;let b;for(;(b=Pb(f))!==-1;)yield yield Me(f.slice(0,b)),f=f.slice(b)}}catch(_){l={error:_}}finally{try{!m&&!r&&(u=y.return)&&(yield Me(u.call(y)))}finally{if(l)throw l.error}}f.length>0&&(yield yield Me(f))})}class Zb{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(n){if(n.endsWith("\r")&&(n=n.substring(0,n.length-1)),!n){if(!this.event&&!this.data.length)return null;const d={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],d}if(this.chunks.push(n),n.startsWith(":"))return null;let[r,l,u]=Fb(n,":");return u.startsWith(" ")&&(u=u.substring(1)),r==="event"?this.event=u:r==="data"&&this.data.push(u),null}}function Fb(i,n){const r=i.indexOf(n);return r!==-1?[i.substring(0,r),n,i.substring(r+n.length)]:[i,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Wb(i,n){const{response:r,requestLogID:l,retryOfRequestLogID:u,startTime:d}=n,f=await(async()=>{var m;if(n.options.stream)return ft(i).debug("response",r.status,r.url,r.headers,r.body),n.options.__streamClass?n.options.__streamClass.fromSSEResponse(r,n.controller,i):bi.fromSSEResponse(r,n.controller,i);if(r.status===204)return null;if(n.options.__binaryResponse)return r;const y=r.headers.get("content-type"),v=(m=y==null?void 0:y.split(";")[0])===null||m===void 0?void 0:m.trim();return(v==null?void 0:v.includes("application/json"))||(v==null?void 0:v.endsWith("+json"))?r.headers.get("content-length")==="0"?void 0:await r.json():await r.text()})();return ft(i).debug(`[${l}] response parsed`,ba({retryOfRequestLogID:u,url:r.url,status:r.status,body:f,durationMs:Date.now()-d})),f}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ic extends Promise{constructor(n,r,l=Wb){super(u=>{u(null)}),this.responsePromise=r,this.parseResponse=l,this.client=n}_thenUnwrap(n){return new Ic(this.client,this.responsePromise,async(r,l)=>n(await this.parseResponse(r,l),l))}asResponse(){return this.responsePromise.then(n=>n.response)}async withResponse(){const[n,r]=await Promise.all([this.parse(),this.asResponse()]);return{data:n,response:r}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(n=>this.parseResponse(this.client,n))),this.parsedPromise}then(n,r){return this.parse().then(n,r)}catch(n){return this.parse().catch(n)}finally(n){return this.parse().finally(n)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ug=Symbol("brand.privateNullableHeaders");function*eE(i){if(!i)return;if(ug in i){const{values:l,nulls:u}=i;yield*l.entries();for(const d of u)yield[d,null];return}let n=!1,r;i instanceof Headers?r=i.entries():ny(i)?r=i:(n=!0,r=Object.entries(i??{}));for(let l of r){const u=l[0];if(typeof u!="string")throw new TypeError("expected header name to be a string");const d=ny(l[1])?l[1]:[l[1]];let f=!1;for(const m of d)m!==void 0&&(n&&!f&&(f=!0,yield[u,null]),yield[u,m])}}const bs=i=>{const n=new Headers,r=new Set;for(const l of i){const u=new Set;for(const[d,f]of eE(l)){const m=d.toLowerCase();u.has(m)||(n.delete(d),u.add(m)),f===null?(n.delete(d),r.add(m)):(n.append(d,f),r.delete(m))}}return{[ug]:!0,values:n,nulls:r}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Wu=i=>{var n,r,l,u,d,f;if(typeof globalThis.process<"u")return(l=(r=(n=_b)===null||n===void 0?void 0:n[i])===null||r===void 0?void 0:r.trim())!==null&&l!==void 0?l:void 0;if(typeof globalThis.Deno<"u")return(f=(d=(u=globalThis.Deno.env)===null||u===void 0?void 0:u.get)===null||d===void 0?void 0:d.call(u,i))===null||f===void 0?void 0:f.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var cg;class bl{constructor(n){var r,l,u,d,f,m,y,{baseURL:v=Wu("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:_=(r=Wu("GEMINI_API_KEY"))!==null&&r!==void 0?r:null,apiVersion:S="v1beta"}=n,T=fl(n,["baseURL","apiKey","apiVersion"]);const b=Object.assign(Object.assign({apiKey:_,apiVersion:S},T),{baseURL:v||"https://generativelanguage.googleapis.com"});this.baseURL=b.baseURL,this.timeout=(l=b.timeout)!==null&&l!==void 0?l:bl.DEFAULT_TIMEOUT,this.logger=(u=b.logger)!==null&&u!==void 0?u:console;const E="warn";this.logLevel=E,this.logLevel=(f=(d=ly(b.logLevel,"ClientOptions.logLevel",this))!==null&&d!==void 0?d:ly(Wu("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&f!==void 0?f:E,this.fetchOptions=b.fetchOptions,this.maxRetries=(m=b.maxRetries)!==null&&m!==void 0?m:2,this.fetch=(y=b.fetch)!==null&&y!==void 0?y:Ib(),this.encoder=kb,this._options=b,this.apiKey=_,this.apiVersion=S,this.clientAdapter=b.clientAdapter}withOptions(n){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),n))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:n,nulls:r}){if(!(n.has("authorization")||n.has("x-goog-api-key"))&&!(this.apiKey&&n.get("x-goog-api-key"))&&!r.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(n){const r=bs([n.headers]);if(!(r.values.has("authorization")||r.values.has("x-goog-api-key"))){if(this.apiKey)return bs([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return bs([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(n){return Object.entries(n).filter(([r,l])=>typeof l<"u").map(([r,l])=>{if(typeof l=="string"||typeof l=="number"||typeof l=="boolean")return`${encodeURIComponent(r)}=${encodeURIComponent(l)}`;if(l===null)return`${encodeURIComponent(r)}=`;throw new Kt(`Cannot stringify type ${typeof l}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${yi}`}defaultIdempotencyKey(){return`stainless-node-retry-${bb()}`}makeStatusError(n,r,l,u){return ht.generate(n,r,l,u)}buildURL(n,r,l){const u=!this.baseURLOverridden()&&l||this.baseURL,d=Sb(n)?new URL(n):new URL(u+(u.endsWith("/")&&n.startsWith("/")?n.slice(1):n)),f=this.defaultQuery();return Ab(f)||(r=Object.assign(Object.assign({},f),r)),typeof r=="object"&&r&&!Array.isArray(r)&&(d.search=this.stringifyQuery(r)),d.toString()}async prepareOptions(n){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!n.path.startsWith(`/${this.apiVersion}/projects/`)){const r=n.path.slice(this.apiVersion.length+1);n.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${r}`}}async prepareRequest(n,{url:r,options:l}){}get(n,r){return this.methodRequest("get",n,r)}post(n,r){return this.methodRequest("post",n,r)}patch(n,r){return this.methodRequest("patch",n,r)}put(n,r){return this.methodRequest("put",n,r)}delete(n,r){return this.methodRequest("delete",n,r)}methodRequest(n,r,l){return this.request(Promise.resolve(l).then(u=>Object.assign({method:n,path:r},u)))}request(n,r=null){return new Ic(this,this.makeRequest(n,r,void 0))}async makeRequest(n,r,l){var u,d,f;const m=await n,y=(u=m.maxRetries)!==null&&u!==void 0?u:this.maxRetries;r==null&&(r=y),await this.prepareOptions(m);const{req:v,url:_,timeout:S}=await this.buildRequest(m,{retryCount:y-r});await this.prepareRequest(v,{url:_,options:m});const T="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),b=l===void 0?"":`, retryOf: ${l}`,E=Date.now();if(ft(this).debug(`[${T}] sending request`,ba({retryOfRequestLogID:l,method:m.method,url:_,options:m,headers:v.headers})),!((d=m.signal)===null||d===void 0)&&d.aborted)throw new fc;const R=new AbortController,O=await this.fetchWithTimeout(_,v,S,R).catch(dc),L=Date.now();if(O instanceof globalThis.Error){const H=`retrying, ${r} attempts remaining`;if(!((f=m.signal)===null||f===void 0)&&f.aborted)throw new fc;const K=cc(O)||/timed? ?out/i.test(String(O)+("cause"in O?String(O.cause):""));if(r)return ft(this).info(`[${T}] connection ${K?"timed out":"failed"} - ${H}`),ft(this).debug(`[${T}] connection ${K?"timed out":"failed"} (${H})`,ba({retryOfRequestLogID:l,url:_,durationMs:L-E,message:O.message})),this.retryRequest(m,r,l??T);throw ft(this).info(`[${T}] connection ${K?"timed out":"failed"} - error; no more retries left`),ft(this).debug(`[${T}] connection ${K?"timed out":"failed"} (error; no more retries left)`,ba({retryOfRequestLogID:l,url:_,durationMs:L-E,message:O.message})),K?new Ky:new pl({cause:O})}const G=`[${T}${b}] ${v.method} ${_} ${O.ok?"succeeded":"failed"} with status ${O.status} in ${L-E}ms`;if(!O.ok){const H=await this.shouldRetry(O);if(r&&H){const de=`retrying, ${r} attempts remaining`;return await Lb(O.body),ft(this).info(`${G} - ${de}`),ft(this).debug(`[${T}] response error (${de})`,ba({retryOfRequestLogID:l,url:O.url,status:O.status,headers:O.headers,durationMs:L-E})),this.retryRequest(m,r,l??T,O.headers)}const K=H?"error; no more retries left":"error; not retryable";ft(this).info(`${G} - ${K}`);const fe=await O.text().catch(de=>dc(de).message),ne=Nb(fe),X=ne?void 0:fe;throw ft(this).debug(`[${T}] response error (${K})`,ba({retryOfRequestLogID:l,url:O.url,status:O.status,headers:O.headers,message:X,durationMs:Date.now()-E})),this.makeStatusError(O.status,ne,X,O.headers)}return ft(this).info(G),ft(this).debug(`[${T}] response start`,ba({retryOfRequestLogID:l,url:O.url,status:O.status,headers:O.headers,durationMs:L-E})),{response:O,options:m,controller:R,requestLogID:T,retryOfRequestLogID:l,startTime:E}}async fetchWithTimeout(n,r,l,u){const d=r||{},{signal:f,method:m}=d,y=fl(d,["signal","method"]),v=this._makeAbort(u);f&&f.addEventListener("abort",v,{once:!0});const _=setTimeout(v,l),S=globalThis.ReadableStream&&y.body instanceof globalThis.ReadableStream||typeof y.body=="object"&&y.body!==null&&Symbol.asyncIterator in y.body,T=Object.assign(Object.assign(Object.assign({signal:u.signal},S?{duplex:"half"}:{}),{method:"GET"}),y);m&&(T.method=m.toUpperCase());try{return await this.fetch.call(void 0,n,T)}finally{clearTimeout(_)}}async shouldRetry(n){const r=n.headers.get("x-should-retry");return r==="true"?!0:r==="false"?!1:n.status===408||n.status===409||n.status===429||n.status>=500}async retryRequest(n,r,l,u){var d;let f;const m=u==null?void 0:u.get("retry-after-ms");if(m){const v=parseFloat(m);Number.isNaN(v)||(f=v)}const y=u==null?void 0:u.get("retry-after");if(y&&!f){const v=parseFloat(y);Number.isNaN(v)?f=Date.parse(y)-Date.now():f=v*1e3}if(!(f&&0<=f&&f<60*1e3)){const v=(d=n.maxRetries)!==null&&d!==void 0?d:this.maxRetries;f=this.calculateDefaultRetryTimeoutMillis(r,v)}return await Rb(f),this.makeRequest(n,r-1,l)}calculateDefaultRetryTimeoutMillis(n,r){const d=r-n,f=Math.min(.5*Math.pow(2,d),8),m=1-Math.random()*.25;return f*m*1e3}async buildRequest(n,{retryCount:r=0}={}){var l,u,d;const f=Object.assign({},n),{method:m,path:y,query:v,defaultBaseURL:_}=f,S=this.buildURL(y,v,_);"timeout"in f&&Ob("timeout",f.timeout),f.timeout=(l=f.timeout)!==null&&l!==void 0?l:this.timeout;const{bodyHeaders:T,body:b}=this.buildBody({options:f}),E=await this.buildHeaders({options:n,method:m,bodyHeaders:T,retryCount:r});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:m,headers:E},f.signal&&{signal:f.signal}),globalThis.ReadableStream&&b instanceof globalThis.ReadableStream&&{duplex:"half"}),b&&{body:b}),(u=this.fetchOptions)!==null&&u!==void 0?u:{}),(d=f.fetchOptions)!==null&&d!==void 0?d:{}),url:S,timeout:f.timeout}}async buildHeaders({options:n,method:r,bodyHeaders:l,retryCount:u}){let d={};this.idempotencyHeader&&r!=="get"&&(n.idempotencyKey||(n.idempotencyKey=this.defaultIdempotencyKey()),d[this.idempotencyHeader]=n.idempotencyKey);const f=await this.authHeaders(n);let m=bs([d,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(u)},n.timeout?{"X-Stainless-Timeout":String(Math.trunc(n.timeout/1e3))}:{}),Ub()),this._options.defaultHeaders,l,n.headers,f]);return this.validateHeaders(m),m.values}_makeAbort(n){return()=>n.abort()}buildBody({options:{body:n,headers:r}}){if(!n)return{bodyHeaders:void 0,body:void 0};const l=bs([r]);return ArrayBuffer.isView(n)||n instanceof ArrayBuffer||n instanceof DataView||typeof n=="string"&&l.values.has("content-type")||globalThis.Blob&&n instanceof globalThis.Blob||n instanceof FormData||n instanceof URLSearchParams||globalThis.ReadableStream&&n instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:n}:typeof n=="object"&&(Symbol.asyncIterator in n||Symbol.iterator in n&&"next"in n&&typeof n.next=="function")?{bodyHeaders:void 0,body:Mb(n)}:this.encoder({body:n,headers:l})}}bl.DEFAULT_TIMEOUT=6e4;class ot extends bl{constructor(){super(...arguments),this.interactions=new og(this)}}cg=ot;ot.GeminiNextGenAPIClient=cg;ot.GeminiNextGenAPIClientError=Kt;ot.APIError=ht;ot.APIConnectionError=pl;ot.APIConnectionTimeoutError=Ky;ot.APIUserAbortError=fc;ot.NotFoundError=Qy;ot.ConflictError=Zy;ot.RateLimitError=Wy;ot.BadRequestError=Py;ot.AuthenticationError=Jy;ot.InternalServerError=eg;ot.PermissionDeniedError=Xy;ot.UnprocessableEntityError=Fy;ot.toFile=qb;ot.Interactions=og;const tE=()=>(console.error("API_KEY is missing in environment variables."),null),nE=async(i,n=[])=>{const r=tE();if(!r)return"I cannot connect to my brain right now. Please check the API Key.";try{return(await r.chats.create({model:"gemini-3-flash-preview",history:n,config:{systemInstruction:"You are a helpful AI assistant integrated into a Discord-like chat application. Your name is Gemini. Keep responses concise and formatted using Markdown if necessary. You are friendly and cool."}}).sendMessage({message:i})).text||"I didn't have anything to say."}catch(l){return console.error("Gemini API Error:",l),"Sorry, I encountered an error processing your request."}},aE=({channel:i,currentUser:n,onSendMessage:r,messages:l})=>{const[u,d]=W.useState(""),[f,m]=W.useState(!1),y=W.useRef(null),v=()=>{var S;(S=y.current)==null||S.scrollIntoView({behavior:"smooth"})};W.useEffect(()=>{v()},[l,i.id]);const _=async S=>{if(S.key==="Enter"&&!S.shiftKey){if(S.preventDefault(),!u.trim())return;const T=u;if(d(""),r(i.id,T),T.toLowerCase().includes("@gemini")){const b=T.replace("@gemini","").trim();setTimeout(async()=>{const E=await nE(b);window.dispatchEvent(new CustomEvent("gemini-response",{detail:{channelId:i.id,content:E}}))},500)}}};return g.jsxs("div",{className:"flex-1 flex flex-col h-full bg-discord-dark",children:[g.jsxs("div",{className:"h-12 px-4 flex items-center justify-between shadow-sm border-b border-discord-darker flex-shrink-0",children:[g.jsxs("div",{className:"flex items-center text-white",children:[g.jsx(uc,{size:24,className:"text-discord-textMuted mr-2"}),g.jsx("span",{className:"font-bold mr-4",children:i.name}),g.jsxs("span",{className:"text-xs text-discord-textMuted hidden sm:block",children:["This is the start of the #",i.name," channel."]})]}),g.jsxs("div",{className:"flex items-center space-x-4 text-discord-textMuted",children:[g.jsx(S_,{size:20,className:"hover:text-discord-text cursor-pointer"}),g.jsx(F_,{size:20,className:"hover:text-discord-text cursor-pointer"}),g.jsx(Vy,{size:20,className:"hover:text-discord-text cursor-pointer"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"text",placeholder:"Search",className:"bg-discord-darker text-sm px-2 py-1 rounded w-32 transition-all focus:w-48 text-white placeholder-discord-textMuted outline-none"}),g.jsx(tb,{size:14,className:"absolute right-2 top-1/2 -translate-y-1/2 text-discord-textMuted"})]})]})]}),g.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[g.jsxs("div",{className:"mt-4 mb-8",children:[g.jsx("div",{className:"w-16 h-16 bg-discord-active rounded-full flex items-center justify-center mb-4",children:g.jsx(uc,{size:40,className:"text-white"})}),g.jsxs("h1",{className:"text-3xl font-bold text-white mb-2",children:["Welcome to #",i.name,"!"]}),g.jsxs("p",{className:"text-discord-textMuted",children:["This is the start of the ",g.jsxs("span",{className:"font-bold text-discord-text",children:["#",i.name]})," channel."]})]}),l.map((S,T)=>{const b=l[T-1],E=b&&b.senderId===S.senderId&&S.timestamp-b.timestamp<6e4,R=new Date(S.timestamp);return g.jsxs("div",{className:`group flex pr-4 ${E?"mt-1 py-0.5":"mt-4 py-0.5 hover:bg-[#2e3035]"}`,children:[E?g.jsx("div",{className:"w-10 mr-4 text-xs text-discord-textMuted opacity-0 group-hover:opacity-100 text-right select-none pt-1",children:R.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1})}):g.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-500 mr-4 mt-0.5 overflow-hidden flex-shrink-0 cursor-pointer hover:opacity-80",children:g.jsx("img",{src:S.senderAvatar||`https://ui-avatars.com/api/?name=${S.senderName}`,alt:"avatar",className:"w-full h-full object-cover"})}),g.jsxs("div",{className:"flex-1 min-w-0",children:[!E&&g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("span",{className:`font-medium hover:underline cursor-pointer ${S.senderName==="Gemini"?"text-blue-400":"text-white"}`,children:S.senderName}),S.senderName==="Gemini"&&g.jsx("span",{className:"bg-discord-blurple text-white text-[10px] px-1.5 rounded font-bold uppercase py-[1px]",children:"BOT"}),g.jsxs("span",{className:"text-xs text-discord-textMuted ml-2",children:[R.toLocaleDateString()," at ",R.toLocaleTimeString()]})]}),g.jsx("p",{className:"text-discord-text whitespace-pre-wrap leading-6 ",children:S.content})]})]},S.id)}),g.jsx("div",{ref:y})]}),g.jsxs("div",{className:"px-4 pb-6 pt-2",children:[g.jsxs("div",{className:"bg-discord-light rounded-lg p-2.5 flex items-center shadow-sm",children:[g.jsx("button",{className:"text-discord-textMuted hover:text-discord-text p-1 mr-2",children:g.jsx(D_,{size:20})}),g.jsx("input",{type:"text",className:"bg-transparent flex-1 text-discord-text outline-none placeholder-discord-textMuted",placeholder:`Message #${i.name} (Type @Gemini to chat with AI)`,value:u,onChange:S=>d(S.target.value),onKeyDown:_}),g.jsxs("div",{className:"flex items-center space-x-3 mx-2 text-discord-textMuted",children:[g.jsx(H_,{size:20,className:"hover:text-discord-text cursor-pointer"}),g.jsx(ob,{size:20,className:"hover:text-discord-text cursor-pointer"}),g.jsx(rb,{size:20,className:"hover:text-discord-text cursor-pointer"})]})]}),u.includes("@gemini")&&g.jsx("div",{className:"text-xs text-discord-blurple mt-1 font-bold",children:"Gemini AI will reply to this message."})]})]})},iE=({channel:i,currentUser:n,onLeave:r,isMuted:l,toggleMute:u,isDeafened:d,toggleDeafen:f,noiseSuppression:m,inputVolume:y,outputVolume:v})=>{const[_,S]=W.useState(0),[T,b]=W.useState(null),[E,R]=W.useState(null),[O,L]=W.useState(null),G=W.useRef(null),H=W.useRef(null),K=W.useRef(null),fe=W.useRef(null),ne=W.useRef(null);W.useEffect(()=>((async()=>{if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){L("Audio not supported in this browser.");return}try{const de={audio:{echoCancellation:!0,noiseSuppression:m,autoGainControl:!0},video:!1},Pt=await navigator.mediaDevices.getUserMedia(de);b(Pt),L(null),G.current=new(window.AudioContext||window.webkitAudioContext),H.current=G.current.createAnalyser(),K.current=G.current.createGain(),K.current.gain.value=y/100,G.current.createMediaStreamSource(Pt).connect(K.current),K.current.connect(H.current),H.current.fftSize=256;const Ve=H.current.frequencyBinCount,St=new Uint8Array(Ve),ut=()=>{if(H.current){H.current.getByteFrequencyData(St);let Ze=0;for(let q=0;q<Ve;q++)Ze+=St[q];const I=Ze/Ve;S(I)}fe.current=requestAnimationFrame(ut)};ut()}catch(de){console.error("Error accessing microphone",de),L("Microphone access denied. You are in listener mode.")}})(),()=>{fe.current&&cancelAnimationFrame(fe.current),T&&T.getTracks().forEach(de=>de.stop()),E&&E.getTracks().forEach(de=>de.stop()),G.current&&G.current.state!=="closed"&&G.current.close().catch(de=>console.error("Error closing audio context",de))}),[]),W.useEffect(()=>{K.current&&(K.current.gain.value=y/100)},[y]),W.useEffect(()=>{T&&T.getAudioTracks().forEach(oe=>{oe.enabled=!l})},[l,T]),W.useEffect(()=>{if(T){const oe=T.getAudioTracks()[0];oe&&oe.getCapabilities().noiseSuppression&&oe.applyConstraints({noiseSuppression:m}).catch(de=>console.warn("Failed to apply noise suppression",de))}},[m,T]),W.useEffect(()=>{ne.current&&E&&(ne.current.srcObject=E)},[E]);const X=async()=>{if(E)E.getTracks().forEach(oe=>oe.stop()),R(null);else try{if(!navigator.mediaDevices||!navigator.mediaDevices.getDisplayMedia){L("Screen sharing not supported.");return}const oe=await navigator.mediaDevices.getDisplayMedia({video:!0,audio:!0});R(oe),L(null),oe.getVideoTracks()[0].onended=()=>{R(null)}}catch(oe){console.error("Error sharing screen:",oe),oe.name==="NotAllowedError"?L("Screen share permission denied."):L("Failed to share screen. "+(oe.message||""))}};return g.jsxs("div",{className:"flex-1 bg-black flex flex-col items-center justify-between p-4 h-full relative overflow-hidden",children:[g.jsx("div",{className:"absolute inset-0 bg-discord-dark opacity-50 z-0"}),g.jsx("div",{className:"w-full flex justify-between items-center z-10",children:g.jsxs("div",{className:"text-discord-textMuted text-sm font-bold flex items-center",children:[g.jsx("span",{className:"text-discord-green mr-2",children:""})," Connected to ",g.jsx("span",{className:"text-white ml-1",children:i.name}),g.jsx("span",{className:"ml-2 px-2 py-0.5 bg-discord-blurple rounded text-xs text-white",children:"Gemini Voice Compatible"})]})}),O&&g.jsxs("div",{className:"w-full max-w-md bg-discord-red/90 text-white px-4 py-2 rounded mb-4 z-20 flex items-center shadow-lg absolute top-16 transition-all animate-bounce",children:[g.jsx(C_,{size:20,className:"mr-2"}),g.jsx("span",{className:"text-sm font-medium",children:O}),g.jsx("button",{onClick:()=>L(null),className:"ml-auto hover:text-black/50",children:g.jsx("div",{className:"text-xs font-bold border border-white/50 px-1 rounded",children:"X"})})]}),g.jsxs("div",{className:"flex-1 w-full flex flex-col items-center justify-center z-10 gap-4 overflow-y-auto",children:[E&&g.jsxs("div",{className:"w-full max-w-4xl aspect-video bg-black rounded-xl border border-discord-darker shadow-2xl relative overflow-hidden group mb-4 shrink-0",children:[g.jsx("video",{ref:ne,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-contain"}),g.jsxs("div",{className:"absolute top-4 left-4 bg-discord-red px-2 py-1 rounded text-white text-xs font-bold uppercase shadow-sm flex items-center animate-pulse",children:[g.jsx("span",{className:"w-2 h-2 bg-white rounded-full mr-2"}),"Live"]}),g.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/80 to-transparent opacity-0 group-hover:opacity-100 transition-opacity",children:g.jsxs("span",{className:"text-white font-bold",children:[n.username,"'s Screen"]})})]}),g.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4",children:[g.jsxs("div",{className:`relative w-48 h-48 rounded-2xl bg-discord-dark border-2 transition-all duration-100 flex flex-col items-center justify-center
                        ${_>10&&!l?"border-discord-green shadow-[0_0_15px_rgba(35,165,89,0.5)]":"border-transparent"}
                    `,children:[g.jsxs("div",{className:"w-24 h-24 rounded-full overflow-hidden mb-4 relative",children:[g.jsx("img",{src:n.avatar,alt:"Me",className:"w-full h-full object-cover"}),(l||O||d)&&g.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:d?g.jsx(dl,{className:"text-red-500 w-10 h-10"}):g.jsx(cl,{className:"text-red-500 w-10 h-10"})})]}),g.jsx("span",{className:"text-white font-bold text-lg",children:n.username}),_>10&&!l&&g.jsx("span",{className:"text-discord-green text-xs font-bold animate-pulse",children:"Speaking..."}),O&&!E&&g.jsx("span",{className:"text-discord-red text-[10px] font-bold mt-1",children:"NO MIC"}),E&&g.jsx("span",{className:"text-discord-blurple text-[10px] font-bold mt-1 uppercase",children:"Streaming"})]}),g.jsxs("div",{className:"relative w-48 h-48 rounded-2xl bg-discord-dark border-2 border-transparent flex flex-col items-center justify-center opacity-50",children:[g.jsx("div",{className:"w-24 h-24 rounded-full overflow-hidden mb-4 bg-gray-600 relative",children:d&&g.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:g.jsx("div",{className:"text-white text-xs font-bold px-2 text-center",children:"You are deafened"})})}),g.jsx("span",{className:"text-discord-textMuted font-bold",children:"Waiting for friends..."})]})]})]}),g.jsxs("div",{className:"w-full max-w-2xl bg-[#1e1f22] rounded-xl p-3 flex items-center justify-between z-20 shadow-2xl mb-4",children:[g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("div",{className:"text-white font-bold text-sm px-3",children:"Voice Connected"}),g.jsx("div",{className:"text-discord-textMuted text-xs",children:"/ RTC Connected"}),m&&g.jsx("div",{className:"px-2 py-0.5 bg-discord-green text-white text-[10px] rounded uppercase font-bold ml-2",children:"Noise Supp. On"})]}),g.jsxs("div",{className:"flex items-center space-x-4",children:[g.jsx("button",{onClick:u,disabled:!!O&&!E,title:l?"Unmute":"Mute",className:`w-12 h-12 rounded-full flex items-center justify-center transition-colors 
                        ${O&&O.includes("Microphone")?"bg-discord-dark opacity-50 cursor-not-allowed":l?"bg-white text-black":"bg-discord-dark hover:bg-discord-active text-white"}`,children:l||O&&O.includes("Microphone")?g.jsx(cl,{size:24}):g.jsx(jc,{size:24})}),g.jsx("button",{onClick:f,title:d?"Undeafen":"Deafen",className:`w-12 h-12 rounded-full flex items-center justify-center transition-colors 
                            ${d?"bg-white text-black":"bg-discord-dark hover:bg-discord-active text-white"}`,children:d?g.jsx(dl,{size:24}):g.jsx(Gy,{size:24})}),g.jsx("button",{className:"w-12 h-12 rounded-full bg-discord-dark hover:bg-discord-active text-white flex items-center justify-center transition-colors",children:g.jsx(hb,{size:24})}),g.jsx("button",{onClick:X,title:E?"Stop Streaming":"Share Screen",className:`w-12 h-12 rounded-full flex items-center justify-center transition-colors 
                         ${E?"bg-discord-green text-white":"bg-discord-dark hover:bg-discord-active text-white"}`,children:E?g.jsx(K_,{size:24}):g.jsx(J_,{size:24})}),g.jsx("button",{onClick:r,className:"w-14 h-12 rounded-full bg-discord-red hover:bg-red-700 text-white flex items-center justify-center transition-colors",children:g.jsx(Q_,{size:28})})]}),g.jsx("div",{className:"flex items-center",children:g.jsx("button",{className:"p-2 text-white hover:bg-discord-active rounded-full",children:g.jsx(z_,{})})})]}),g.jsx("div",{className:"absolute bottom-2 right-4 text-xs text-discord-textMuted opacity-50 z-0",children:"Peer-to-Peer Audio Demo (Simulated)"})]})},sE=({isOpen:i,onClose:n,noiseSuppression:r,onToggleNoiseSuppression:l,inputVolume:u,setInputVolume:d,outputVolume:f,setOutputVolume:m})=>i?g.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 animate-fade-in",children:g.jsxs("div",{className:"bg-discord-dark w-[800px] h-[600px] rounded-lg flex overflow-hidden shadow-2xl relative",children:[g.jsxs("div",{className:"w-[230px] bg-discord-sidebar flex flex-col pt-10 px-2 space-y-0.5",children:[g.jsx("div",{className:"px-2.5 py-1.5 text-xs font-bold text-discord-textMuted uppercase mb-1",children:"User Settings"}),g.jsx("div",{className:"px-2.5 py-1.5 rounded bg-discord-active text-white font-medium cursor-pointer",children:"Voice & Video"}),g.jsx("div",{className:"px-2.5 py-1.5 rounded text-discord-textMuted hover:bg-discord-active hover:text-discord-text cursor-pointer",children:"Appearance"}),g.jsx("div",{className:"px-2.5 py-1.5 rounded text-discord-textMuted hover:bg-discord-active hover:text-discord-text cursor-pointer",children:"Keybinds"}),g.jsx("div",{className:"my-2 border-b border-discord-divider"}),g.jsxs("div",{onClick:n,className:"px-2.5 py-1.5 rounded text-discord-red hover:bg-discord-active cursor-pointer font-medium flex justify-between items-center group",children:["Log Out",g.jsx(N_,{size:14,className:"opacity-0 group-hover:opacity-100 transition-opacity"})]})]}),g.jsxs("div",{className:"flex-1 bg-discord-dark p-10 overflow-y-auto relative",children:[g.jsxs("button",{onClick:n,className:"absolute top-4 right-4 text-discord-textMuted hover:text-discord-text flex flex-col items-center",children:[g.jsx("div",{className:"w-9 h-9 border-2 border-discord-textMuted rounded-full flex items-center justify-center mb-1",children:g.jsx(Dc,{size:20})}),g.jsx("span",{className:"text-xs font-bold uppercase",children:"ESC"})]}),g.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:"Voice Settings"}),g.jsxs("div",{className:"mb-8",children:[g.jsx("div",{className:"flex items-center justify-between mb-2",children:g.jsx("label",{className:"text-xs font-bold text-discord-textMuted uppercase",children:"Advanced"})}),g.jsxs("div",{className:"flex items-center justify-between p-4 bg-discord-light rounded mb-4",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"text-white font-medium mb-1 flex items-center",children:["Noise Suppression",g.jsx("span",{className:"ml-2 bg-discord-blurple text-[10px] text-white px-1.5 rounded font-bold uppercase",children:"Beta"})]}),g.jsx("div",{className:"text-sm text-discord-textMuted",children:"Suppress background noise from your microphone."})]}),g.jsx("div",{onClick:()=>l(!r),className:`w-10 h-6 rounded-full cursor-pointer relative transition-colors ${r?"bg-discord-green":"bg-gray-500"}`,children:g.jsx("div",{className:`absolute top-1 w-4 h-4 rounded-full bg-white transition-all ${r?"left-5":"left-1"}`})})]}),g.jsxs("div",{className:"space-y-8 mt-8",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"flex justify-between items-center mb-2",children:[g.jsx("label",{className:"text-xs font-bold text-discord-textMuted uppercase block",children:"Input Volume"}),g.jsxs("span",{className:"text-xs font-bold text-white",children:[u,"%"]})]}),g.jsxs("div",{className:"flex items-center space-x-4",children:[g.jsx(jc,{size:20,className:"text-discord-textMuted"}),g.jsx("input",{type:"range",min:"0",max:"200",value:u,onChange:y=>d(Number(y.target.value)),className:"w-full h-2 bg-discord-light rounded-lg appearance-none cursor-pointer accent-discord-blurple"})]})]}),g.jsxs("div",{children:[g.jsxs("div",{className:"flex justify-between items-center mb-2",children:[g.jsx("label",{className:"text-xs font-bold text-discord-textMuted uppercase block",children:"Output Volume"}),g.jsxs("span",{className:"text-xs font-bold text-white",children:[f,"%"]})]}),g.jsxs("div",{className:"flex items-center space-x-4",children:[g.jsx($y,{size:20,className:"text-discord-textMuted"}),g.jsx("input",{type:"range",min:"0",max:"200",value:f,onChange:y=>m(Number(y.target.value)),className:"w-full h-2 bg-discord-light rounded-lg appearance-none cursor-pointer accent-discord-blurple"})]})]})]})]})]})]})}):null,rE=({isOpen:i,onClose:n,onSubmit:r})=>{const[l,u]=W.useState(""),[d,f]=W.useState("");return i?g.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",children:g.jsxs("div",{className:"bg-white text-black rounded-lg w-[440px] overflow-hidden flex flex-col transition-all animate-fade-in-up",children:[g.jsxs("div",{className:"p-6 text-center",children:[g.jsx("h2",{className:"text-2xl font-bold text-[#060607] mb-2",children:"Customize Your Server"}),g.jsx("p",{className:"text-gray-600 text-sm mb-6",children:"Give your new server a personality with a name and an icon. You can always change it later."}),g.jsx("div",{className:"flex justify-center mb-6",children:g.jsxs("div",{className:"w-20 h-20 border-2 border-dashed border-gray-300 rounded-full flex flex-col items-center justify-center cursor-pointer hover:bg-gray-50",children:[g.jsx(cb,{size:24,className:"text-gray-400 mb-1"}),g.jsx("span",{className:"text-[10px] font-bold text-gray-500 uppercase",children:"Upload"})]})}),g.jsxs("div",{className:"text-left mb-4",children:[g.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase mb-1.5 block",children:"Server Name"}),g.jsx("input",{value:l,onChange:m=>u(m.target.value),className:"w-full bg-[#E3E5E8] p-2.5 rounded text-black outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"My Awesome Server"})]}),g.jsxs("div",{className:"text-left",children:[g.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase mb-1.5 block",children:"Password (Optional)"}),g.jsx("input",{value:d,onChange:m=>f(m.target.value),type:"password",className:"w-full bg-[#E3E5E8] p-2.5 rounded text-black outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Secret key"})]})]}),g.jsxs("div",{className:"bg-[#F2F3F5] p-4 flex justify-between items-center",children:[g.jsx("button",{onClick:n,className:"text-sm font-medium hover:underline px-4",children:"Back"}),g.jsx("button",{onClick:()=>{l&&(r({name:l,password:d}),n(),u(""),f(""))},className:"bg-[#5865F2] hover:bg-[#4752C4] text-white px-8 py-2.5 rounded text-sm font-medium transition-colors",children:"Create"})]})]})}):null},lE=({isOpen:i,onClose:n,onSubmit:r})=>{const[l,u]=W.useState(""),[d,f]=W.useState("");return i?g.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",children:g.jsxs("div",{className:"bg-discord-dark rounded-lg w-[440px] overflow-hidden flex flex-col shadow-2xl",children:[g.jsxs("div",{className:"p-6",children:[g.jsx("h2",{className:"text-2xl font-bold text-white mb-2 text-center",children:"Join a Server"}),g.jsx("p",{className:"text-discord-textMuted text-sm mb-6 text-center",children:"Enter the name and password of the server you want to join."}),g.jsxs("div",{className:"text-left mb-4",children:[g.jsx("label",{className:"text-xs font-bold text-discord-textMuted uppercase mb-1.5 block",children:"Server Name"}),g.jsx("input",{value:l,onChange:m=>u(m.target.value),className:"w-full bg-discord-darker p-2.5 rounded text-white outline-none focus:ring-2 focus:ring-indigo-500 border border-black/20"})]}),g.jsxs("div",{className:"text-left",children:[g.jsx("label",{className:"text-xs font-bold text-discord-textMuted uppercase mb-1.5 block",children:"Password"}),g.jsx("input",{value:d,onChange:m=>f(m.target.value),type:"password",className:"w-full bg-discord-darker p-2.5 rounded text-white outline-none focus:ring-2 focus:ring-indigo-500 border border-black/20"})]})]}),g.jsxs("div",{className:"bg-discord-light p-4 flex justify-between items-center",children:[g.jsx("button",{onClick:n,className:"text-sm font-medium text-white hover:underline px-4",children:"Back"}),g.jsx("button",{onClick:()=>{r({name:l,password:d}),n()},className:"bg-discord-green hover:bg-emerald-600 text-white px-6 py-2.5 rounded text-sm font-medium transition-colors",children:"Join Server"})]})]})}):null},oE=[{id:"ADMINISTRATOR",label:"Administrator",description:"Members with this permission have every permission and can bypass channel specific permissions."},{id:"MANAGE_CHANNELS",label:"Manage Channels",description:"Allows members to create, edit, or delete channels."},{id:"MANAGE_ROLES",label:"Manage Roles",description:"Allows members to create new roles and edit/delete roles lower than their highest role."},{id:"KICK_MEMBERS",label:"Kick Members",description:"Allows members to remove other members from this server."},{id:"SEND_MESSAGES",label:"Send Messages",description:"Allows members to send messages in text channels."},{id:"VIEW_CHANNELS",label:"View Channels",description:"Allows members to view channels by default."}],uE=["#99AAB5","#1ABC9C","#2ECC71","#3498DB","#9B59B6","#E91E63","#F1C40F","#E67E22","#E74C3C","#95A5A6","#607D8B"],cE=({isOpen:i,server:n,onClose:r,onUpdateServer:l})=>{const[u,d]=W.useState("overview"),[f,m]=W.useState(n.roles[0]||null);if(!i)return null;const y=()=>{const b={id:Ta(),name:"New Role",color:"#99AAB5",permissions:["SEND_MESSAGES","VIEW_CHANNELS"],position:n.roles.length},E=[...n.roles,b],R={...n,roles:E};l(R),m(b)},v=b=>{if(b==="r-everyone")return;const E=n.roles.filter(O=>O.id!==b),R=n.members.map(O=>({...O,roles:O.roles.filter(L=>L!==b)}));l({...n,roles:E,members:R}),(f==null?void 0:f.id)===b&&m(E[0])},_=(b,E)=>{const R=n.roles.map(O=>O.id===b?{...O,...E}:O);l({...n,roles:R}),(f==null?void 0:f.id)===b&&m({...f,...E})},S=(b,E)=>{const R=b.permissions.includes(E);let O;R?O=b.permissions.filter(L=>L!==E):O=[...b.permissions,E],_(b.id,{permissions:O})},T=(b,E)=>{const R=n.members.find(H=>H.userId===b);if(!R)return;const O=R.roles.includes(E);let L;O?L=R.roles.filter(H=>H!==E):L=[...R.roles,E];const G=n.members.map(H=>H.userId===b?{...H,roles:L}:H);l({...n,members:G})};return g.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 animate-fade-in",children:g.jsxs("div",{className:"bg-discord-dark w-[800px] h-[600px] rounded-lg flex overflow-hidden shadow-2xl relative",children:[g.jsxs("div",{className:"w-[230px] bg-discord-sidebar flex flex-col pt-10 px-2 space-y-0.5",children:[g.jsx("div",{className:"px-2.5 py-1.5 text-xs font-bold text-discord-textMuted uppercase mb-1",children:n.name}),g.jsx("div",{onClick:()=>d("overview"),className:`px-2.5 py-1.5 rounded font-medium cursor-pointer ${u==="overview"?"bg-discord-active text-white":"text-discord-textMuted hover:bg-discord-active hover:text-discord-text"}`,children:"Overview"}),g.jsxs("div",{onClick:()=>d("roles"),className:`px-2.5 py-1.5 rounded font-medium cursor-pointer flex justify-between items-center ${u==="roles"?"bg-discord-active text-white":"text-discord-textMuted hover:bg-discord-active hover:text-discord-text"}`,children:["Roles",g.jsx(ib,{size:14})]}),g.jsxs("div",{onClick:()=>d("members"),className:`px-2.5 py-1.5 rounded font-medium cursor-pointer flex justify-between items-center ${u==="members"?"bg-discord-active text-white":"text-discord-textMuted hover:bg-discord-active hover:text-discord-text"}`,children:["Members",g.jsx(Vy,{size:14})]}),g.jsx("div",{className:"my-2 border-b border-discord-divider"}),g.jsxs("div",{onClick:r,className:"px-2.5 py-1.5 rounded text-discord-textMuted hover:bg-discord-active hover:text-discord-text cursor-pointer font-medium flex justify-between items-center group",children:["Exit",g.jsx(Dc,{size:14})]})]}),g.jsxs("div",{className:"flex-1 bg-discord-dark flex flex-col min-w-0",children:[u==="overview"&&g.jsxs("div",{className:"p-10",children:[g.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:"Server Overview"}),g.jsxs("div",{className:"flex space-x-8",children:[g.jsxs("div",{className:"w-24 h-24 rounded-full bg-discord-active flex-shrink-0 overflow-hidden relative group cursor-pointer",children:[n.icon?g.jsx("img",{src:n.icon,className:"w-full h-full object-cover"}):g.jsx("div",{className:"w-full h-full flex items-center justify-center text-2xl",children:n.name.substring(0,2)}),g.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 flex items-center justify-center text-xs font-bold text-white uppercase",children:"Change Icon"})]}),g.jsx("div",{className:"flex-1 space-y-4",children:g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-bold text-discord-textMuted uppercase mb-1.5 block",children:"Server Name"}),g.jsx("input",{value:n.name,onChange:b=>l({...n,name:b.target.value}),className:"w-full bg-discord-darker p-2.5 rounded text-white outline-none focus:ring-2 focus:ring-indigo-500 border border-black/20"})]})})]})]}),u==="roles"&&g.jsxs("div",{className:"flex h-full",children:[g.jsxs("div",{className:"w-48 bg-discord-darker flex flex-col border-r border-discord-divider",children:[g.jsxs("div",{className:"p-3 border-b border-discord-divider flex justify-between items-center",children:[g.jsx("span",{className:"text-xs font-bold text-discord-textMuted uppercase",children:"Roles"}),g.jsx("button",{onClick:y,className:"text-discord-textMuted hover:text-white",children:g.jsx(qy,{size:16})})]}),g.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:n.roles.map(b=>g.jsx("div",{onClick:()=>m(b),className:`px-2 py-1.5 rounded cursor-pointer flex items-center justify-between group ${(f==null?void 0:f.id)===b.id?"bg-discord-active":"hover:bg-discord-active/50"}`,children:g.jsxs("div",{className:"flex items-center truncate",children:[g.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:b.color}}),g.jsx("span",{className:`text-sm font-medium truncate ${(f==null?void 0:f.id)===b.id?"text-white":"text-discord-textMuted"}`,children:b.name})]})},b.id))})]}),f&&g.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[g.jsxs("div",{className:"flex justify-between items-start mb-6",children:[g.jsxs("h2",{className:"text-xl font-bold text-white",children:["Edit Role - ",f.name]}),f.id!=="r-everyone"&&g.jsx("button",{onClick:()=>v(f.id),className:"text-discord-red hover:bg-discord-red/10 px-3 py-1.5 rounded text-xs font-bold border border-discord-red",children:"Delete Role"})]}),g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-bold text-discord-textMuted uppercase mb-1.5 block",children:"Role Name"}),g.jsx("input",{value:f.name,onChange:b=>_(f.id,{name:b.target.value}),className:"w-full bg-discord-darker p-2.5 rounded text-white outline-none border border-black/20",disabled:f.id==="r-everyone"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-bold text-discord-textMuted uppercase mb-1.5 block",children:"Role Color"}),g.jsxs("div",{className:"flex flex-wrap gap-2",children:[g.jsx("div",{onClick:()=>_(f.id,{color:"#99AAB5"}),className:`w-8 h-8 rounded-full cursor-pointer border-2 flex items-center justify-center bg-[#99AAB5] ${f.color==="#99AAB5"?"border-white":"border-transparent"}`}),uE.filter(b=>b!=="#99AAB5").map(b=>g.jsx("div",{onClick:()=>_(f.id,{color:b}),className:`w-8 h-8 rounded-full cursor-pointer border-2 flex items-center justify-center ${f.color===b?"border-white":"border-transparent"}`,style:{backgroundColor:b}},b))]})]})]}),g.jsx("div",{className:"border-b border-discord-divider"}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-white font-bold mb-4",children:"Permissions"}),g.jsx("div",{className:"space-y-4",children:(()=>{const b=f.permissions.includes("ADMINISTRATOR");return oE.map(E=>{const R=E.id==="ADMINISTRATOR",O=f.permissions.includes(E.id),L=b&&!R,G=R?O:b||O;return g.jsxs("div",{className:`flex items-center justify-between ${L?"opacity-50":""}`,children:[g.jsxs("div",{className:"pr-4",children:[g.jsx("div",{className:"text-white font-medium",children:E.label}),g.jsx("div",{className:"text-sm text-discord-textMuted",children:E.description})]}),g.jsx("div",{onClick:()=>!L&&S(f,E.id),className:`w-10 h-6 rounded-full relative transition-colors flex-shrink-0 
                                                                        ${L?"cursor-not-allowed":"cursor-pointer"} 
                                                                        ${G?"bg-discord-green":"bg-gray-500"}`,children:g.jsx("div",{className:`absolute top-1 w-4 h-4 rounded-full bg-white transition-all ${G?"left-5":"left-1"}`})})]},E.id)})})()})]})]})]})]}),u==="members"&&g.jsxs("div",{className:"p-6 h-full overflow-hidden flex flex-col",children:[g.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Members"}),g.jsx("div",{className:"flex-1 overflow-y-auto space-y-2",children:n.members.map(b=>g.jsxs("div",{className:"flex items-center justify-between p-3 bg-discord-light rounded hover:bg-discord-active/50 group",children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx("img",{src:b.avatar,className:"w-10 h-10 rounded-full mr-3"}),g.jsxs("div",{children:[g.jsxs("div",{className:"text-white font-medium flex items-center",children:[b.username,n.ownerId===b.userId&&g.jsx(dE,{})]}),g.jsx("div",{className:"text-xs text-discord-textMuted flex items-center gap-1 mt-0.5",children:b.roles.map(E=>{const R=n.roles.find(O=>O.id===E);return!R||R.name==="@everyone"?null:g.jsxs("span",{className:"flex items-center px-1.5 rounded bg-discord-darker text-[10px]",style:{color:R.color},children:[g.jsx("div",{className:"w-1.5 h-1.5 rounded-full mr-1",style:{backgroundColor:R.color}}),R.name]},R.id)})})]})]}),g.jsx("div",{className:"flex items-center space-x-2 opacity-0 group-hover:opacity-100 transition-opacity",children:n.roles.filter(E=>E.name!=="@everyone").map(E=>g.jsx("div",{onClick:()=>T(b.userId,E.id),className:`w-6 h-6 rounded-full border border-gray-600 flex items-center justify-center cursor-pointer ${b.roles.includes(E.id)?"bg-discord-blurple border-discord-blurple":"bg-transparent"}`,title:`Toggle ${E.name}`,children:b.roles.includes(E.id)&&g.jsx(T_,{size:14,className:"text-white"})},E.id))})]},b.userId))}),g.jsx("div",{className:"mt-4 text-xs text-discord-textMuted",children:"* Hover over a member to assign roles using the circles on the right."})]})]})]})})},dE=()=>g.jsx("svg",{className:"w-3 h-3 text-[#F1C40F] ml-1",fill:"currentColor",viewBox:"0 0 20 20",children:g.jsx("path",{d:"M10 2l2.5 5h5L15 10l2 6h-14l2-6-2.5-3h5L10 2z"})}),fE=({onLogin:i})=>{const[n,r]=W.useState(""),[l,u]=W.useState(!1),d=()=>{u(!0),setTimeout(()=>{const m={id:Ta(),username:"Alex from Google",avatar:"https://lh3.googleusercontent.com/a/default-user=s100",status:"online",isBot:!1};i(m)},1500)},f=m=>{if(m.preventDefault(),!n.trim())return;const y={id:Ta(),username:n,avatar:`https://ui-avatars.com/api/?background=random&name=${n}`,status:"online",isBot:!1};i(y)};return g.jsxs("div",{className:"w-full h-screen flex items-center justify-center bg-[url('https://cdn.discordapp.com/attachments/886981320491069480/1094017586071060591/Login_Background.png')] bg-cover bg-center relative",children:[g.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm"}),g.jsxs("div",{className:"bg-discord-dark p-8 rounded shadow-2xl w-full max-w-[480px] z-10 animate-fade-in-up",children:[g.jsxs("div",{className:"text-center mb-8",children:[g.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Welcome back!"}),g.jsx("p",{className:"text-discord-textMuted",children:"We're so excited to see you again!"})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsx("button",{onClick:d,disabled:l,className:"w-full bg-white hover:bg-gray-100 text-[#3c4043] font-medium py-2.5 px-4 rounded transition-colors flex items-center justify-center relative overflow-hidden group",children:l?g.jsx("div",{className:"w-5 h-5 border-2 border-gray-400 border-t-blue-500 rounded-full animate-spin"}):g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"absolute left-4",children:g.jsx("svg",{viewBox:"0 0 24 24",width:"18",height:"18",xmlns:"http://www.w3.org/2000/svg",children:g.jsxs("g",{transform:"matrix(1, 0, 0, 1, 27.009001, -39.238998)",children:[g.jsx("path",{fill:"#4285F4",d:"M -3.264 51.509 C -3.264 50.719 -3.334 49.969 -3.454 49.239 L -14.754 49.239 L -14.754 53.749 L -8.284 53.749 C -8.574 55.229 -9.424 56.479 -10.684 57.329 L -10.684 60.329 L -6.824 60.329 C -4.564 58.239 -3.264 55.159 -3.264 51.509 Z"}),g.jsx("path",{fill:"#34A853",d:"M -14.754 63.239 C -11.514 63.239 -8.804 62.159 -6.824 60.329 L -10.684 57.329 C -11.764 58.049 -13.134 58.489 -14.754 58.489 C -17.884 58.489 -20.534 56.379 -21.484 53.529 L -25.464 53.529 L -25.464 56.619 C -23.494 60.539 -19.464 63.239 -14.754 63.239 Z"}),g.jsx("path",{fill:"#FBBC05",d:"M -21.484 53.529 C -21.734 52.809 -21.864 52.039 -21.864 51.239 C -21.864 50.439 -21.734 49.669 -21.484 48.949 L -21.484 45.859 L -25.464 45.859 C -26.284 47.479 -26.754 49.299 -26.754 51.239 C -26.754 53.179 -26.284 54.999 -25.464 56.619 L -21.484 53.529 Z"}),g.jsx("path",{fill:"#EA4335",d:"M -14.754 43.989 C -12.984 43.989 -11.404 44.599 -10.154 45.799 L -6.734 42.379 C -8.804 40.449 -11.514 39.239 -14.754 39.239 C -19.464 39.239 -23.494 41.939 -25.464 45.859 L -21.484 48.949 C -20.534 46.099 -17.884 43.989 -14.754 43.989 Z"})]})})}),g.jsx("span",{children:"Sign in with Google"})]})}),g.jsxs("div",{className:"relative flex py-2 items-center",children:[g.jsx("div",{className:"flex-grow border-t border-gray-600"}),g.jsx("span",{className:"flex-shrink-0 mx-4 text-gray-500 text-xs font-bold uppercase",children:"Or"}),g.jsx("div",{className:"flex-grow border-t border-gray-600"})]}),g.jsxs("form",{onSubmit:f,children:[g.jsxs("div",{className:"mb-4",children:[g.jsx("label",{className:"block text-discord-textMuted text-xs font-bold uppercase mb-2",children:"Display Name"}),g.jsx("input",{type:"text",value:n,onChange:m=>r(m.target.value),className:"w-full bg-discord-darker text-white p-2.5 rounded border border-transparent focus:border-discord-blurple outline-none transition-colors",placeholder:"How should we call you?"})]}),g.jsx("button",{type:"submit",className:"w-full bg-discord-blurple hover:bg-discord-blurpleHover text-white font-medium py-2.5 px-4 rounded transition-colors",children:"Continue as Guest"})]})]})]})]})},vc=(i,n)=>n.some(r=>i instanceof r);let uy,cy;function hE(){return uy||(uy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mE(){return cy||(cy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yc=new WeakMap,ec=new WeakMap,El=new WeakMap;function vE(i){const n=new Promise((r,l)=>{const u=()=>{i.removeEventListener("success",d),i.removeEventListener("error",f)},d=()=>{r(ml(i.result)),u()},f=()=>{l(i.error),u()};i.addEventListener("success",d),i.addEventListener("error",f)});return El.set(n,i),n}function yE(i){if(yc.has(i))return;const n=new Promise((r,l)=>{const u=()=>{i.removeEventListener("complete",d),i.removeEventListener("error",f),i.removeEventListener("abort",f)},d=()=>{r(),u()},f=()=>{l(i.error||new DOMException("AbortError","AbortError")),u()};i.addEventListener("complete",d),i.addEventListener("error",f),i.addEventListener("abort",f)});yc.set(i,n)}let gc={get(i,n,r){if(i instanceof IDBTransaction){if(n==="done")return yc.get(i);if(n==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return ml(i[n])},set(i,n,r){return i[n]=r,!0},has(i,n){return i instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in i}};function dg(i){gc=i(gc)}function gE(i){return mE().includes(i)?function(...n){return i.apply(pc(this),n),ml(this.request)}:function(...n){return ml(i.apply(pc(this),n))}}function pE(i){return typeof i=="function"?gE(i):(i instanceof IDBTransaction&&yE(i),vc(i,hE())?new Proxy(i,gc):i)}function ml(i){if(i instanceof IDBRequest)return vE(i);if(ec.has(i))return ec.get(i);const n=pE(i);return n!==i&&(ec.set(i,n),El.set(n,i)),n}const pc=i=>El.get(i),_E=["get","getKey","getAll","getAllKeys","count"],bE=["put","add","delete","clear"],tc=new Map;function dy(i,n){if(!(i instanceof IDBDatabase&&!(n in i)&&typeof n=="string"))return;if(tc.get(n))return tc.get(n);const r=n.replace(/FromIndex$/,""),l=n!==r,u=bE.includes(r);if(!(r in(l?IDBIndex:IDBObjectStore).prototype)||!(u||_E.includes(r)))return;const d=async function(f,...m){const y=this.transaction(f,u?"readwrite":"readonly");let v=y.store;return l&&(v=v.index(m.shift())),(await Promise.all([v[r](...m),u&&y.done]))[0]};return tc.set(n,d),d}dg(i=>({...i,get:(n,r,l)=>dy(n,r)||i.get(n,r,l),has:(n,r)=>!!dy(n,r)||i.has(n,r)}));const EE=["continue","continuePrimaryKey","advance"],fy={},_c=new WeakMap,fg=new WeakMap,SE={get(i,n){if(!EE.includes(n))return i[n];let r=fy[n];return r||(r=fy[n]=function(...l){_c.set(this,fg.get(this)[n](...l))}),r}};async function*wE(...i){let n=this;if(n instanceof IDBCursor||(n=await n.openCursor(...i)),!n)return;n=n;const r=new Proxy(n,SE);for(fg.set(r,n),El.set(r,pc(n));n;)yield r,n=await(_c.get(r)||n.continue()),_c.delete(r)}function hy(i,n){return n===Symbol.asyncIterator&&vc(i,[IDBIndex,IDBObjectStore,IDBCursor])||n==="iterate"&&vc(i,[IDBIndex,IDBObjectStore])}dg(i=>({...i,get(n,r,l){return hy(n,r)?wE:i.get(n,r,l)},has(n,r){return hy(n,r)||i.has(n,r)}}));const TE=[{id:"c-gen",name:"general",type:"text",messages:[]},{id:"c-meme",name:"memes",type:"text",messages:[]},{id:"c-voice-1",name:"General Voice",type:"voice"},{id:"c-voice-2",name:"Gaming",type:"voice"}],AE=[{id:"r-everyone",name:"@everyone",color:"#99AAB5",permissions:["SEND_MESSAGES","VIEW_CHANNELS"],position:0},{id:"r-admin",name:"Admin",color:"#E91E63",permissions:["ADMINISTRATOR","MANAGE_CHANNELS","MANAGE_ROLES","KICK_MEMBERS","SEND_MESSAGES","VIEW_CHANNELS"],position:1}],xE=()=>JSON.parse(JSON.stringify(TE)),OE=()=>JSON.parse(JSON.stringify(AE));function Sl(i,n){var r={};for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&n.indexOf(l)<0&&(r[l]=i[l]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,l=Object.getOwnPropertySymbols(i);u<l.length;u++)n.indexOf(l[u])<0&&Object.prototype.propertyIsEnumerable.call(i,l[u])&&(r[l[u]]=i[l[u]]);return r}function NE(i,n,r,l){function u(d){return d instanceof r?d:new r(function(f){f(d)})}return new(r||(r=Promise))(function(d,f){function m(_){try{v(l.next(_))}catch(S){f(S)}}function y(_){try{v(l.throw(_))}catch(S){f(S)}}function v(_){_.done?d(_.value):u(_.value).then(m,y)}v((l=l.apply(i,n||[])).next())})}const RE=i=>i?(...n)=>i(...n):(...n)=>fetch(...n);class Mc extends Error{constructor(n,r="FunctionsError",l){super(n),this.name=r,this.context=l}}class CE extends Mc{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class my extends Mc{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class vy extends Mc{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var bc;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(bc||(bc={}));class jE{constructor(n,{headers:r={},customFetch:l,region:u=bc.Any}={}){this.url=n,this.headers=r,this.region=u,this.fetch=RE(l)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return NE(this,arguments,void 0,function*(r,l={}){var u;let d,f;try{const{headers:m,method:y,body:v,signal:_,timeout:S}=l;let T={},{region:b}=l;b||(b=this.region);const E=new URL(`${this.url}/${r}`);b&&b!=="any"&&(T["x-region"]=b,E.searchParams.set("forceFunctionRegion",b));let R;v&&(m&&!Object.prototype.hasOwnProperty.call(m,"Content-Type")||!m)?typeof Blob<"u"&&v instanceof Blob||v instanceof ArrayBuffer?(T["Content-Type"]="application/octet-stream",R=v):typeof v=="string"?(T["Content-Type"]="text/plain",R=v):typeof FormData<"u"&&v instanceof FormData?R=v:(T["Content-Type"]="application/json",R=JSON.stringify(v)):v&&typeof v!="string"&&!(typeof Blob<"u"&&v instanceof Blob)&&!(v instanceof ArrayBuffer)&&!(typeof FormData<"u"&&v instanceof FormData)?R=JSON.stringify(v):R=v;let O=_;S&&(f=new AbortController,d=setTimeout(()=>f.abort(),S),_?(O=f.signal,_.addEventListener("abort",()=>f.abort())):O=f.signal);const L=yield this.fetch(E.toString(),{method:y||"POST",headers:Object.assign(Object.assign(Object.assign({},T),this.headers),m),body:R,signal:O}).catch(fe=>{throw new CE(fe)}),G=L.headers.get("x-relay-error");if(G&&G==="true")throw new my(L);if(!L.ok)throw new vy(L);let H=((u=L.headers.get("Content-Type"))!==null&&u!==void 0?u:"text/plain").split(";")[0].trim(),K;return H==="application/json"?K=yield L.json():H==="application/octet-stream"||H==="application/pdf"?K=yield L.blob():H==="text/event-stream"?K=L:H==="multipart/form-data"?K=yield L.formData():K=yield L.text(),{data:K,error:null,response:L}}catch(m){return{data:null,error:m,response:m instanceof vy||m instanceof my?m.context:void 0}}finally{d&&clearTimeout(d)}})}}var DE=class extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}},UE=class{constructor(i){var n,r,l;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(n=i.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=i.signal,this.isMaybeSingle=(r=i.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(l=i.urlLengthLimit)!==null&&l!==void 0?l:8e3,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,n){return this.headers=new Headers(this.headers),this.headers.set(i,n),this}then(i,n){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let u=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{let f=null,m=null,y=null,v=d.status,_=d.statusText;if(d.ok){var S,T;if(r.method!=="HEAD"){var b;const L=await d.text();L===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((b=r.headers.get("Accept"))===null||b===void 0)&&b.includes("application/vnd.pgrst.plan+text"))?m=L:m=JSON.parse(L))}const R=(S=r.headers.get("Prefer"))===null||S===void 0?void 0:S.match(/count=(exact|planned|estimated)/),O=(T=d.headers.get("content-range"))===null||T===void 0?void 0:T.split("/");R&&O&&O.length>1&&(y=parseInt(O[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(m)&&(m.length>1?(f={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,y=null,v=406,_="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{var E;const R=await d.text();try{f=JSON.parse(R),Array.isArray(f)&&d.status===404&&(m=[],f=null,v=200,_="OK")}catch{d.status===404&&R===""?(v=204,_="No Content"):f={message:R}}if(f&&r.isMaybeSingle&&(!(f==null||(E=f.details)===null||E===void 0)&&E.includes("0 rows"))&&(f=null,v=200,_="OK"),f&&r.shouldThrowOnError)throw new DE(f)}return{error:f,data:m,count:y,status:v,statusText:_}});return this.shouldThrowOnError||(u=u.catch(d=>{var f;let m="",y="",v="";const _=d==null?void 0:d.cause;if(_){var S,T,b,E;const L=(S=_==null?void 0:_.message)!==null&&S!==void 0?S:"",G=(T=_==null?void 0:_.code)!==null&&T!==void 0?T:"";m=`${(b=d==null?void 0:d.name)!==null&&b!==void 0?b:"FetchError"}: ${d==null?void 0:d.message}`,m+=`

Caused by: ${(E=_==null?void 0:_.name)!==null&&E!==void 0?E:"Error"}: ${L}`,G&&(m+=` (${G})`),_!=null&&_.stack&&(m+=`
${_.stack}`)}else{var R;m=(R=d==null?void 0:d.stack)!==null&&R!==void 0?R:""}const O=this.url.toString().length;return(d==null?void 0:d.name)==="AbortError"||(d==null?void 0:d.code)==="ABORT_ERR"?(v="",y="Request was aborted (timeout or manual cancellation)",O>this.urlLengthLimit&&(y+=`. Note: Your request URL is ${O} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((_==null?void 0:_.name)==="HeadersOverflowError"||(_==null?void 0:_.code)==="UND_ERR_HEADERS_OVERFLOW")&&(v="",y="HTTP headers exceeded server limits (typically 16KB)",O>this.urlLengthLimit&&(y+=`. Your request URL is ${O} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(f=d==null?void 0:d.name)!==null&&f!==void 0?f:"FetchError"}: ${d==null?void 0:d.message}`,details:m,hint:y,code:v},data:null,count:null,status:0,statusText:""}})),u.then(i,n)}returns(){return this}overrideTypes(){return this}},IE=class extends UE{select(i){let n=!1;const r=(i??"*").split("").map(l=>/\s/.test(l)&&!n?"":(l==='"'&&(n=!n),l)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:n=!0,nullsFirst:r,foreignTable:l,referencedTable:u=l}={}){const d=u?`${u}.order`:"order",f=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${f?`${f},`:""}${i}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:n,referencedTable:r=n}={}){const l=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(l,`${i}`),this}range(i,n,{foreignTable:r,referencedTable:l=r}={}){const u=typeof l>"u"?"offset":`${l}.offset`,d=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${i}`),this.url.searchParams.set(d,`${n-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:n=!1,settings:r=!1,buffers:l=!1,wal:u=!1,format:d="text"}={}){var f;const m=[i?"analyze":null,n?"verbose":null,r?"settings":null,l?"buffers":null,u?"wal":null].filter(Boolean).join("|"),y=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${y}"; options=${m};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};const yy=new RegExp("[,()]");var gi=class extends IE{eq(i,n){return this.url.searchParams.append(i,`eq.${n}`),this}neq(i,n){return this.url.searchParams.append(i,`neq.${n}`),this}gt(i,n){return this.url.searchParams.append(i,`gt.${n}`),this}gte(i,n){return this.url.searchParams.append(i,`gte.${n}`),this}lt(i,n){return this.url.searchParams.append(i,`lt.${n}`),this}lte(i,n){return this.url.searchParams.append(i,`lte.${n}`),this}like(i,n){return this.url.searchParams.append(i,`like.${n}`),this}likeAllOf(i,n){return this.url.searchParams.append(i,`like(all).{${n.join(",")}}`),this}likeAnyOf(i,n){return this.url.searchParams.append(i,`like(any).{${n.join(",")}}`),this}ilike(i,n){return this.url.searchParams.append(i,`ilike.${n}`),this}ilikeAllOf(i,n){return this.url.searchParams.append(i,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(i,n){return this.url.searchParams.append(i,`ilike(any).{${n.join(",")}}`),this}regexMatch(i,n){return this.url.searchParams.append(i,`match.${n}`),this}regexIMatch(i,n){return this.url.searchParams.append(i,`imatch.${n}`),this}is(i,n){return this.url.searchParams.append(i,`is.${n}`),this}isDistinct(i,n){return this.url.searchParams.append(i,`isdistinct.${n}`),this}in(i,n){const r=Array.from(new Set(n)).map(l=>typeof l=="string"&&yy.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`in.(${r})`),this}notIn(i,n){const r=Array.from(new Set(n)).map(l=>typeof l=="string"&&yy.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`not.in.(${r})`),this}contains(i,n){return typeof n=="string"?this.url.searchParams.append(i,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(i,`cs.{${n.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(n)}`),this}containedBy(i,n){return typeof n=="string"?this.url.searchParams.append(i,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(i,`cd.{${n.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(n)}`),this}rangeGt(i,n){return this.url.searchParams.append(i,`sr.${n}`),this}rangeGte(i,n){return this.url.searchParams.append(i,`nxl.${n}`),this}rangeLt(i,n){return this.url.searchParams.append(i,`sl.${n}`),this}rangeLte(i,n){return this.url.searchParams.append(i,`nxr.${n}`),this}rangeAdjacent(i,n){return this.url.searchParams.append(i,`adj.${n}`),this}overlaps(i,n){return typeof n=="string"?this.url.searchParams.append(i,`ov.${n}`):this.url.searchParams.append(i,`ov.{${n.join(",")}}`),this}textSearch(i,n,{config:r,type:l}={}){let u="";l==="plain"?u="pl":l==="phrase"?u="ph":l==="websearch"&&(u="w");const d=r===void 0?"":`(${r})`;return this.url.searchParams.append(i,`${u}fts${d}.${n}`),this}match(i){return Object.entries(i).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(i,n,r){return this.url.searchParams.append(i,`not.${n}.${r}`),this}or(i,{foreignTable:n,referencedTable:r=n}={}){const l=r?`${r}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,n,r){return this.url.searchParams.append(i,`${n}.${r}`),this}},ME=class{constructor(i,{headers:n={},schema:r,fetch:l,urlLengthLimit:u=8e3}){this.url=i,this.headers=new Headers(n),this.schema=r,this.fetch=l,this.urlLengthLimit=u}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(i,n){const{head:r=!1,count:l}=n??{},u=r?"HEAD":"GET";let d=!1;const f=(i??"*").split("").map(v=>/\s/.test(v)&&!d?"":(v==='"'&&(d=!d),v)).join(""),{url:m,headers:y}=this.cloneRequestState();return m.searchParams.set("select",f),l&&y.append("Prefer",`count=${l}`),new gi({method:u,url:m,headers:y,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(i,{count:n,defaultToNull:r=!0}={}){var l;const u="POST",{url:d,headers:f}=this.cloneRequestState();if(n&&f.append("Prefer",`count=${n}`),r||f.append("Prefer","missing=default"),Array.isArray(i)){const m=i.reduce((y,v)=>y.concat(Object.keys(v)),[]);if(m.length>0){const y=[...new Set(m)].map(v=>`"${v}"`);d.searchParams.set("columns",y.join(","))}}return new gi({method:u,url:d,headers:f,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(i,{onConflict:n,ignoreDuplicates:r=!1,count:l,defaultToNull:u=!0}={}){var d;const f="POST",{url:m,headers:y}=this.cloneRequestState();if(y.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&m.searchParams.set("on_conflict",n),l&&y.append("Prefer",`count=${l}`),u||y.append("Prefer","missing=default"),Array.isArray(i)){const v=i.reduce((_,S)=>_.concat(Object.keys(S)),[]);if(v.length>0){const _=[...new Set(v)].map(S=>`"${S}"`);m.searchParams.set("columns",_.join(","))}}return new gi({method:f,url:m,headers:y,schema:this.schema,body:i,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch,urlLengthLimit:this.urlLengthLimit})}update(i,{count:n}={}){var r;const l="PATCH",{url:u,headers:d}=this.cloneRequestState();return n&&d.append("Prefer",`count=${n}`),new gi({method:l,url:u,headers:d,schema:this.schema,body:i,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:i}={}){var n;const r="DELETE",{url:l,headers:u}=this.cloneRequestState();return i&&u.append("Prefer",`count=${i}`),new gi({method:r,url:l,headers:u,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}};function Os(i){"@babel/helpers - typeof";return Os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Os(i)}function LE(i,n){if(Os(i)!="object"||!i)return i;var r=i[Symbol.toPrimitive];if(r!==void 0){var l=r.call(i,n);if(Os(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(i)}function kE(i){var n=LE(i,"string");return Os(n)=="symbol"?n:n+""}function zE(i,n,r){return(n=kE(n))in i?Object.defineProperty(i,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[n]=r,i}function gy(i,n){var r=Object.keys(i);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(i);n&&(l=l.filter(function(u){return Object.getOwnPropertyDescriptor(i,u).enumerable})),r.push.apply(r,l)}return r}function al(i){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?gy(Object(r),!0).forEach(function(l){zE(i,l,r[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(r)):gy(Object(r)).forEach(function(l){Object.defineProperty(i,l,Object.getOwnPropertyDescriptor(r,l))})}return i}var BE=class hg{constructor(n,{headers:r={},schema:l,fetch:u,timeout:d,urlLengthLimit:f=8e3}={}){this.url=n,this.headers=new Headers(r),this.schemaName=l,this.urlLengthLimit=f;const m=u??globalThis.fetch;d!==void 0&&d>0?this.fetch=(y,v)=>{const _=new AbortController,S=setTimeout(()=>_.abort(),d),T=v==null?void 0:v.signal;if(T){if(T.aborted)return clearTimeout(S),m(y,v);const b=()=>{clearTimeout(S),_.abort()};return T.addEventListener("abort",b,{once:!0}),m(y,al(al({},v),{},{signal:_.signal})).finally(()=>{clearTimeout(S),T.removeEventListener("abort",b)})}return m(y,al(al({},v),{},{signal:_.signal})).finally(()=>clearTimeout(S))}:this.fetch=m}from(n){if(!n||typeof n!="string"||n.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new ME(new URL(`${this.url}/${n}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(n){return new hg(this.url,{headers:this.headers,schema:n,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(n,r={},{head:l=!1,get:u=!1,count:d}={}){var f;let m;const y=new URL(`${this.url}/rpc/${n}`);let v;const _=b=>b!==null&&typeof b=="object"&&(!Array.isArray(b)||b.some(_)),S=l&&Object.values(r).some(_);S?(m="POST",v=r):l||u?(m=l?"HEAD":"GET",Object.entries(r).filter(([b,E])=>E!==void 0).map(([b,E])=>[b,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([b,E])=>{y.searchParams.append(b,E)})):(m="POST",v=r);const T=new Headers(this.headers);return S?T.set("Prefer",d?`count=${d},return=minimal`:"return=minimal"):d&&T.set("Prefer",`count=${d}`),new gi({method:m,url:y,headers:T,schema:this.schemaName,body:v,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch,urlLengthLimit:this.urlLengthLimit})}};class HE{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const l=r.versions;if(l&&l.node){const u=l.node,d=parseInt(u.replace(/^v/,"").split(".")[0]);return d>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${d} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${d} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let r=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(r+=`

Suggested solution: ${n.workaround}`),new Error(r)}static createWebSocket(n,r){const l=this.getWebSocketConstructor();return new l(n,r)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const GE="2.95.3",qE=`realtime-js/${GE}`,VE="1.0.0",mg="2.0.0",py=mg,Ec=1e4,$E=1e3,YE=100;var Fn;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(Fn||(Fn={}));var Qe;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(Qe||(Qe={}));var Wt;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(Wt||(Wt={}));var Sc;(function(i){i.websocket="websocket"})(Sc||(Sc={}));var Sa;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(Sa||(Sa={}));class KE{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,r){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(n));let l=[n.join_ref,n.ref,n.topic,n.event,n.payload];return r(JSON.stringify(l))}_binaryEncodeUserBroadcastPush(n){var r;return this._isArrayBuffer((r=n.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var r,l;const u=(l=(r=n.payload)===null||r===void 0?void 0:r.payload)!==null&&l!==void 0?l:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,u)}_encodeJsonUserBroadcastPush(n){var r,l;const u=(l=(r=n.payload)===null||r===void 0?void 0:r.payload)!==null&&l!==void 0?l:{},f=new TextEncoder().encode(JSON.stringify(u)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(n,r,l){var u,d;const f=n.topic,m=(u=n.ref)!==null&&u!==void 0?u:"",y=(d=n.join_ref)!==null&&d!==void 0?d:"",v=n.payload.event,_=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},S=Object.keys(_).length===0?"":JSON.stringify(_);if(y.length>255)throw new Error(`joinRef length ${y.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`ref length ${m.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`userEvent length ${v.length} exceeds maximum of 255`);if(S.length>255)throw new Error(`metadata length ${S.length} exceeds maximum of 255`);const T=this.USER_BROADCAST_PUSH_META_LENGTH+y.length+m.length+f.length+v.length+S.length,b=new ArrayBuffer(this.HEADER_LENGTH+T);let E=new DataView(b),R=0;E.setUint8(R++,this.KINDS.userBroadcastPush),E.setUint8(R++,y.length),E.setUint8(R++,m.length),E.setUint8(R++,f.length),E.setUint8(R++,v.length),E.setUint8(R++,S.length),E.setUint8(R++,r),Array.from(y,L=>E.setUint8(R++,L.charCodeAt(0))),Array.from(m,L=>E.setUint8(R++,L.charCodeAt(0))),Array.from(f,L=>E.setUint8(R++,L.charCodeAt(0))),Array.from(v,L=>E.setUint8(R++,L.charCodeAt(0))),Array.from(S,L=>E.setUint8(R++,L.charCodeAt(0)));var O=new Uint8Array(b.byteLength+l.byteLength);return O.set(new Uint8Array(b),0),O.set(new Uint8Array(l),b.byteLength),O.buffer}decode(n,r){if(this._isArrayBuffer(n)){let l=this._binaryDecode(n);return r(l)}if(typeof n=="string"){const l=JSON.parse(n),[u,d,f,m,y]=l;return r({join_ref:u,ref:d,topic:f,event:m,payload:y})}return r({})}_binaryDecode(n){const r=new DataView(n),l=r.getUint8(0),u=new TextDecoder;switch(l){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(n,r,u)}}_decodeUserBroadcast(n,r,l){const u=r.getUint8(1),d=r.getUint8(2),f=r.getUint8(3),m=r.getUint8(4);let y=this.HEADER_LENGTH+4;const v=l.decode(n.slice(y,y+u));y=y+u;const _=l.decode(n.slice(y,y+d));y=y+d;const S=l.decode(n.slice(y,y+f));y=y+f;const T=n.slice(y,n.byteLength),b=m===this.JSON_ENCODING?JSON.parse(l.decode(T)):T,E={type:this.BROADCAST_EVENT,event:_,payload:b};return f>0&&(E.meta=JSON.parse(S)),{join_ref:null,ref:null,topic:v,event:this.BROADCAST_EVENT,payload:E}}_isArrayBuffer(n){var r;return n instanceof ArrayBuffer||((r=n==null?void 0:n.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(n,r){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([l])=>r.includes(l)))}}class vg{constructor(n,r){this.callback=n,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var je;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(je||(je={}));const _y=(i,n,r={})=>{var l;const u=(l=r.skipTypes)!==null&&l!==void 0?l:[];return n?Object.keys(n).reduce((d,f)=>(d[f]=PE(f,i,n,u),d),{}):{}},PE=(i,n,r,l)=>{const u=n.find(m=>m.name===i),d=u==null?void 0:u.type,f=r[i];return d&&!l.includes(d)?yg(d,f):wc(f)},yg=(i,n)=>{if(i.charAt(0)==="_"){const r=i.slice(1,i.length);return ZE(n,r)}switch(i){case je.bool:return JE(n);case je.float4:case je.float8:case je.int2:case je.int4:case je.int8:case je.numeric:case je.oid:return XE(n);case je.json:case je.jsonb:return QE(n);case je.timestamp:return FE(n);case je.abstime:case je.date:case je.daterange:case je.int4range:case je.int8range:case je.money:case je.reltime:case je.text:case je.time:case je.timestamptz:case je.timetz:case je.tsrange:case je.tstzrange:return wc(n);default:return wc(n)}},wc=i=>i,JE=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},XE=i=>{if(typeof i=="string"){const n=parseFloat(i);if(!Number.isNaN(n))return n}return i},QE=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch{return i}return i},ZE=(i,n)=>{if(typeof i!="string")return i;const r=i.length-1,l=i[r];if(i[0]==="{"&&l==="}"){let d;const f=i.slice(1,r);try{d=JSON.parse("["+f+"]")}catch{d=f?f.split(","):[]}return d.map(m=>yg(n,m))}return i},FE=i=>typeof i=="string"?i.replace(" ","T"):i,gg=i=>{const n=new URL(i);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class nc{constructor(n,r,l={},u=Ec){this.channel=n,this.event=r,this.payload=l,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,r){var l;return this._hasReceived(n)&&r((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:n,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:r}){this.recHooks.filter(l=>l.status===n).forEach(l=>l.callback(r))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var by;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(by||(by={}));class As{constructor(n,r){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},u=>{const{onJoin:d,onLeave:f,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=As.syncState(this.state,u,d,f),this.pendingDiffs.forEach(y=>{this.state=As.syncDiff(this.state,y,d,f)}),this.pendingDiffs=[],m()}),this.channel._on(l.diff,{},u=>{const{onJoin:d,onLeave:f,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=As.syncDiff(this.state,u,d,f),m())}),this.onJoin((u,d,f)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:d,newPresences:f})}),this.onLeave((u,d,f)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:d,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,r,l,u){const d=this.cloneDeep(n),f=this.transformState(r),m={},y={};return this.map(d,(v,_)=>{f[v]||(y[v]=_)}),this.map(f,(v,_)=>{const S=d[v];if(S){const T=_.map(O=>O.presence_ref),b=S.map(O=>O.presence_ref),E=_.filter(O=>b.indexOf(O.presence_ref)<0),R=S.filter(O=>T.indexOf(O.presence_ref)<0);E.length>0&&(m[v]=E),R.length>0&&(y[v]=R)}else m[v]=_}),this.syncDiff(d,{joins:m,leaves:y},l,u)}static syncDiff(n,r,l,u){const{joins:d,leaves:f}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return l||(l=()=>{}),u||(u=()=>{}),this.map(d,(m,y)=>{var v;const _=(v=n[m])!==null&&v!==void 0?v:[];if(n[m]=this.cloneDeep(y),_.length>0){const S=n[m].map(b=>b.presence_ref),T=_.filter(b=>S.indexOf(b.presence_ref)<0);n[m].unshift(...T)}l(m,_,y)}),this.map(f,(m,y)=>{let v=n[m];if(!v)return;const _=y.map(S=>S.presence_ref);v=v.filter(S=>_.indexOf(S.presence_ref)<0),n[m]=v,u(m,v,y),v.length===0&&delete n[m]}),n}static map(n,r){return Object.getOwnPropertyNames(n).map(l=>r(l,n[l]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((r,l)=>{const u=n[l];return"metas"in u?r[l]=u.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):r[l]=u,r},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ey;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(Ey||(Ey={}));var xs;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(xs||(xs={}));var An;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(An||(An={}));class Ei{constructor(n,r={config:{}},l){var u,d;if(this.topic=n,this.params=r,this.socket=l,this.bindings={},this.state=Qe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new nc(this,Wt.join,this.params,this.timeout),this.rejoinTimer=new vg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Qe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Qe.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Wt.reply,{},(f,m)=>{this._trigger(this._replyEventName(m),f)}),this.presence=new As(this),this.broadcastEndpointURL=gg(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((d=(u=this.params.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,r=this.timeout){var l,u,d;if(this.socket.isConnected()||this.socket.connect(),this.state==Qe.closed){const{config:{broadcast:f,presence:m,private:y}}=this.params,v=(u=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(b=>b.filter))!==null&&u!==void 0?u:[],_=!!this.bindings[xs.PRESENCE]&&this.bindings[xs.PRESENCE].length>0||((d=this.params.config.presence)===null||d===void 0?void 0:d.enabled)===!0,S={},T={broadcast:f,presence:Object.assign(Object.assign({},m),{enabled:_}),postgres_changes:v,private:y};this.socket.accessTokenValue&&(S.access_token=this.socket.accessTokenValue),this._onError(b=>n==null?void 0:n(An.CHANNEL_ERROR,b)),this._onClose(()=>n==null?void 0:n(An.CLOSED)),this.updateJoinPayload(Object.assign({config:T},S)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:b})=>{var E;if(this.socket._isManualToken()||this.socket.setAuth(),b===void 0){n==null||n(An.SUBSCRIBED);return}else{const R=this.bindings.postgres_changes,O=(E=R==null?void 0:R.length)!==null&&E!==void 0?E:0,L=[];for(let G=0;G<O;G++){const H=R[G],{filter:{event:K,schema:fe,table:ne,filter:X}}=H,oe=b&&b[G];if(oe&&oe.event===K&&Ei.isFilterValueEqual(oe.schema,fe)&&Ei.isFilterValueEqual(oe.table,ne)&&Ei.isFilterValueEqual(oe.filter,X))L.push(Object.assign(Object.assign({},H),{id:oe.id}));else{this.unsubscribe(),this.state=Qe.errored,n==null||n(An.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=L,n&&n(An.SUBSCRIBED);return}}).receive("error",b=>{this.state=Qe.errored,n==null||n(An.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{n==null||n(An.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,r={}){return await this.send({type:"presence",event:"track",payload:n},r.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,r,l){return this.state===Qe.joined&&n===xs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(n,r,l)}async httpSend(n,r,l={}){var u;if(r==null)return Promise.reject("Payload is required for httpSend()");const d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:r,private:this.private}]})},m=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(u=l.timeout)!==null&&u!==void 0?u:this.timeout);if(m.status===202)return{success:!0};let y=m.statusText;try{const v=await m.json();y=v.error||v.message||y}catch{}return Promise.reject(new Error(y))}async send(n,r={}){var l,u;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:d,payload:f}=n,m={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(m.Authorization=`Bearer ${this.socket.accessTokenValue}`);const y={method:"POST",headers:m,body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:f,private:this.private}]})};try{const v=await this._fetchWithTimeout(this.broadcastEndpointURL,y,(l=r.timeout)!==null&&l!==void 0?l:this.timeout);return await((u=v.body)===null||u===void 0?void 0:u.cancel()),v.ok?"ok":"error"}catch(v){return v.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var f,m,y;const v=this._push(n.type,n,r.timeout||this.timeout);n.type==="broadcast"&&!(!((y=(m=(f=this.params)===null||f===void 0?void 0:f.config)===null||m===void 0?void 0:m.broadcast)===null||y===void 0)&&y.ack)&&d("ok"),v.receive("ok",()=>d("ok")),v.receive("error",()=>d("error")),v.receive("timeout",()=>d("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=Qe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Wt.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(u=>{l=new nc(this,Wt.leave,{},n),l.receive("ok",()=>{r(),u("ok")}).receive("timeout",()=>{r(),u("timed out")}).receive("error",()=>{u("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l==null||l.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Qe.closed,this.bindings={}}async _fetchWithTimeout(n,r,l){const u=new AbortController,d=setTimeout(()=>u.abort(),l),f=await this.socket.fetch(n,Object.assign(Object.assign({},r),{signal:u.signal}));return clearTimeout(d),f}_push(n,r,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new nc(this,n,r,l);return this._canPush()?u.send():this._addToPushBuffer(u),u}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>YE){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(n,r,l){return r}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,r,l){var u,d;const f=n.toLocaleLowerCase(),{close:m,error:y,leave:v,join:_}=Wt;if(l&&[m,y,v,_].indexOf(f)>=0&&l!==this._joinRef())return;let T=this._onMessage(f,r,l);if(r&&!T)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(b=>{var E,R,O;return((E=b.filter)===null||E===void 0?void 0:E.event)==="*"||((O=(R=b.filter)===null||R===void 0?void 0:R.event)===null||O===void 0?void 0:O.toLocaleLowerCase())===f}).map(b=>b.callback(T,l)):(d=this.bindings[f])===null||d===void 0||d.filter(b=>{var E,R,O,L,G,H;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in b){const K=b.id,fe=(E=b.filter)===null||E===void 0?void 0:E.event;return K&&((R=r.ids)===null||R===void 0?void 0:R.includes(K))&&(fe==="*"||(fe==null?void 0:fe.toLocaleLowerCase())===((O=r.data)===null||O===void 0?void 0:O.type.toLocaleLowerCase()))}else{const K=(G=(L=b==null?void 0:b.filter)===null||L===void 0?void 0:L.event)===null||G===void 0?void 0:G.toLocaleLowerCase();return K==="*"||K===((H=r==null?void 0:r.event)===null||H===void 0?void 0:H.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===f}).map(b=>{if(typeof T=="object"&&"ids"in T){const E=T.data,{schema:R,table:O,commit_timestamp:L,type:G,errors:H}=E;T=Object.assign(Object.assign({},{schema:R,table:O,commit_timestamp:L,eventType:G,new:{},old:{},errors:H}),this._getPayloadRecords(E))}b.callback(T,l)})}_isClosed(){return this.state===Qe.closed}_isJoined(){return this.state===Qe.joined}_isJoining(){return this.state===Qe.joining}_isLeaving(){return this.state===Qe.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,r,l){const u=n.toLocaleLowerCase(),d={type:u,filter:r,callback:l};return this.bindings[u]?this.bindings[u].push(d):this.bindings[u]=[d],this}_off(n,r){const l=n.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(u=>{var d;return!(((d=u.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===l&&Ei.isEqual(u.filter,r))})),this}static isEqual(n,r){if(Object.keys(n).length!==Object.keys(r).length)return!1;for(const l in n)if(n[l]!==r[l])return!1;return!0}static isFilterValueEqual(n,r){return(n??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(Wt.close,{},n)}_onError(n){this._on(Wt.error,{},r=>n(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Qe.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const r={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(r.new=_y(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(r.old=_y(n.columns,n.old_record)),r}}const ac=()=>{},il={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},WE=[1e3,2e3,5e3,1e4],eS=1e4,tS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class nS{constructor(n,r){var l;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ec,this.transport=null,this.heartbeatIntervalMs=il.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ac,this.ref=0,this.reconnectTimer=null,this.vsn=py,this.logger=ac,this.conn=null,this.sendBuffer=[],this.serializer=new KE,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=u=>u?(...d)=>u(...d):(...d)=>fetch(...d),!(!((l=r==null?void 0:r.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${n}/${Sc.websocket}`,this.httpEndpoint=gg(n),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=HE.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const r=n.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const r=await n.unsubscribe();return r==="ok"&&this._remove(n),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const n=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,r,l){this.logger(n,r,l)}connectionState(){switch(this.conn&&this.conn.readyState){case Fn.connecting:return Sa.Connecting;case Fn.open:return Sa.Open;case Fn.closing:return Sa.Closing;default:return Sa.Closed}}isConnected(){return this.connectionState()===Sa.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,r={config:{}}){const l=`realtime:${n}`,u=this.getChannels().find(d=>d.topic===l);if(u)return u;{const d=new Ei(`realtime:${n}`,r,this);return this.channels.push(d),d}}push(n){const{topic:r,event:l,payload:u,ref:d}=n,f=()=>{this.encode(n,m=>{var y;(y=this.conn)===null||y===void 0||y.send(m)})};this.log("push",`${r} ${l} (${d})`,u),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close($E,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},il.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let r=this.channels.find(l=>l.topic===n&&(l._isJoined()||l._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${n}"`),r.unsubscribe())}_remove(n){this.channels=this.channels.filter(r=>r.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const v=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",v)}catch(_){this.log("error","error in heartbeat callback",_)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:l,event:u,payload:d,ref:f}=r,m=f?`(${f})`:"",y=d.status||"";this.log("receive",`${y} ${l} ${u} ${m}`.trim(),d),this.channels.filter(v=>v._isMember(l)).forEach(v=>v._trigger(u,d,f)),this._triggerStateCallbacks("message",r)})}_clearTimer(n){var r;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n),this.conn.readyState===Fn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Fn.open||this.conn.readyState===Fn.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(n){var r;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(n=>n._trigger(Wt.error))}_appendParams(n,r){if(Object.keys(r).length===0)return n;const l=n.match(/\?/)?"&":"?",u=new URLSearchParams(r);return`${n}${l}${u}`}_workerObjectUrl(n){let r;if(n)r=n;else{const l=new Blob([tS],{type:"application/javascript"});r=URL.createObjectURL(l)}return r}_setConnectionState(n,r=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(n=null){let r,l=!1;if(n)r=n,l=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(u){this.log("error","Error fetching access token from callback",u),r=this.accessTokenValue}else r=this.accessTokenValue;l?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(u=>{const d={access_token:r,version:qE};r&&u.updateJoinPayload(d),u.joinedOnce&&u._isJoined()&&u._push(Wt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${n}`,r)})}_triggerStateCallbacks(n,r){try{this.stateChangeCallbacks[n].forEach(l=>{try{l(r)}catch(u){this.log("error",`error in ${n} callback`,u)}})}catch(l){this.log("error",`error triggering ${n} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new vg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},il.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var r,l,u,d,f,m,y,v,_,S,T,b;switch(this.transport=(r=n==null?void 0:n.transport)!==null&&r!==void 0?r:null,this.timeout=(l=n==null?void 0:n.timeout)!==null&&l!==void 0?l:Ec,this.heartbeatIntervalMs=(u=n==null?void 0:n.heartbeatIntervalMs)!==null&&u!==void 0?u:il.HEARTBEAT_INTERVAL,this.worker=(d=n==null?void 0:n.worker)!==null&&d!==void 0?d:!1,this.accessToken=(f=n==null?void 0:n.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(m=n==null?void 0:n.heartbeatCallback)!==null&&m!==void 0?m:ac,this.vsn=(y=n==null?void 0:n.vsn)!==null&&y!==void 0?y:py,n!=null&&n.params&&(this.params=n.params),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(v=n==null?void 0:n.reconnectAfterMs)!==null&&v!==void 0?v:(E=>WE[E-1]||eS),this.vsn){case VE:this.encode=(_=n==null?void 0:n.encode)!==null&&_!==void 0?_:((E,R)=>R(JSON.stringify(E))),this.decode=(S=n==null?void 0:n.decode)!==null&&S!==void 0?S:((E,R)=>R(JSON.parse(E)));break;case mg:this.encode=(T=n==null?void 0:n.encode)!==null&&T!==void 0?T:this.serializer.encode.bind(this.serializer),this.decode=(b=n==null?void 0:n.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n==null?void 0:n.workerUrl}}}var Ns=class extends Error{constructor(i,n){var r;super(i),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&((r=n.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function aS(i,n,r){const l=new URL(n,i);if(r)for(const[u,d]of Object.entries(r))d!==void 0&&l.searchParams.set(u,d);return l.toString()}async function iS(i){return!i||i.type==="none"?{}:i.type==="bearer"?{Authorization:`Bearer ${i.token}`}:i.type==="header"?{[i.name]:i.value}:i.type==="custom"?await i.getHeaders():{}}function sS(i){const n=i.fetchImpl??globalThis.fetch;return{async request({method:r,path:l,query:u,body:d,headers:f}){const m=aS(i.baseUrl,l,u),y=await iS(i.auth),v=await n(m,{method:r,headers:{...d?{"Content-Type":"application/json"}:{},...y,...f},body:d?JSON.stringify(d):void 0}),_=await v.text(),S=(v.headers.get("content-type")||"").includes("application/json"),T=S&&_?JSON.parse(_):_;if(!v.ok){const b=S?T:void 0,E=b==null?void 0:b.error;throw new Ns((E==null?void 0:E.message)??`Request failed with status ${v.status}`,{status:v.status,icebergType:E==null?void 0:E.type,icebergCode:E==null?void 0:E.code,details:b})}return{status:v.status,headers:v.headers,data:T}}}}function sl(i){return i.join("")}var rS=class{constructor(i,n=""){this.client=i,this.prefix=n}async listNamespaces(i){const n=i?{parent:sl(i.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(l=>({namespace:l}))}async createNamespace(i,n){const r={namespace:i.namespace,properties:n==null?void 0:n.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(i){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${sl(i.namespace)}`})}async loadNamespaceMetadata(i){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${sl(i.namespace)}`})).data.properties}}async namespaceExists(i){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${sl(i.namespace)}`}),!0}catch(n){if(n instanceof Ns&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(i,n){try{return await this.createNamespace(i,n)}catch(r){if(r instanceof Ns&&r.status===409)return;throw r}}};function ci(i){return i.join("")}var lS=class{constructor(i,n="",r){this.client=i,this.prefix=n,this.accessDelegation=r}async listTables(i){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ci(i.namespace)}/tables`})).data.identifiers}async createTable(i,n){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ci(i.namespace)}/tables`,body:n,headers:r})).data.metadata}async updateTable(i,n){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ci(i.namespace)}/tables/${i.name}`,body:n});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(i,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ci(i.namespace)}/tables/${i.name}`,query:{purgeRequested:String((n==null?void 0:n.purge)??!1)}})}async loadTable(i){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ci(i.namespace)}/tables/${i.name}`,headers:n})).data.metadata}async tableExists(i){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ci(i.namespace)}/tables/${i.name}`,headers:n}),!0}catch(r){if(r instanceof Ns&&r.status===404)return!1;throw r}}async createTableIfNotExists(i,n){try{return await this.createTable(i,n)}catch(r){if(r instanceof Ns&&r.status===409)return await this.loadTable({namespace:i.namespace,name:n.name});throw r}}},oS=class{constructor(i){var l;let n="v1";i.catalogName&&(n+=`/${i.catalogName}`);const r=i.baseUrl.endsWith("/")?i.baseUrl:`${i.baseUrl}/`;this.client=sS({baseUrl:r,auth:i.auth,fetchImpl:i.fetch}),this.accessDelegation=(l=i.accessDelegation)==null?void 0:l.join(","),this.namespaceOps=new rS(this.client,n),this.tableOps=new lS(this.client,n,this.accessDelegation)}async listNamespaces(i){return this.namespaceOps.listNamespaces(i)}async createNamespace(i,n){return this.namespaceOps.createNamespace(i,n)}async dropNamespace(i){await this.namespaceOps.dropNamespace(i)}async loadNamespaceMetadata(i){return this.namespaceOps.loadNamespaceMetadata(i)}async listTables(i){return this.tableOps.listTables(i)}async createTable(i,n){return this.tableOps.createTable(i,n)}async updateTable(i,n){return this.tableOps.updateTable(i,n)}async dropTable(i,n){await this.tableOps.dropTable(i,n)}async loadTable(i){return this.tableOps.loadTable(i)}async namespaceExists(i){return this.namespaceOps.namespaceExists(i)}async tableExists(i){return this.tableOps.tableExists(i)}async createNamespaceIfNotExists(i,n){return this.namespaceOps.createNamespaceIfNotExists(i,n)}async createTableIfNotExists(i,n){return this.tableOps.createTableIfNotExists(i,n)}},wl=class extends Error{constructor(i,n="storage",r,l){super(i),this.__isStorageError=!0,this.namespace=n,this.name=n==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=l}};function Tl(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}var rl=class extends wl{constructor(i,n,r,l="storage"){super(i,l,n,r),this.name=l==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},pg=class extends wl{constructor(i,n,r="storage"){super(i,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=n}};const uS=i=>i?(...n)=>i(...n):(...n)=>fetch(...n),cS=i=>{if(typeof i!="object"||i===null)return!1;const n=Object.getPrototypeOf(i);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},Tc=i=>{if(Array.isArray(i))return i.map(r=>Tc(r));if(typeof i=="function"||i!==Object(i))return i;const n={};return Object.entries(i).forEach(([r,l])=>{const u=r.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));n[u]=Tc(l)}),n},dS=i=>!i||typeof i!="string"||i.length===0||i.length>100||i.trim()!==i||i.includes("/")||i.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(i);function Rs(i){"@babel/helpers - typeof";return Rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Rs(i)}function fS(i,n){if(Rs(i)!="object"||!i)return i;var r=i[Symbol.toPrimitive];if(r!==void 0){var l=r.call(i,n);if(Rs(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(i)}function hS(i){var n=fS(i,"string");return Rs(n)=="symbol"?n:n+""}function mS(i,n,r){return(n=hS(n))in i?Object.defineProperty(i,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[n]=r,i}function Sy(i,n){var r=Object.keys(i);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(i);n&&(l=l.filter(function(u){return Object.getOwnPropertyDescriptor(i,u).enumerable})),r.push.apply(r,l)}return r}function re(i){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Sy(Object(r),!0).forEach(function(l){mS(i,l,r[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(r)):Sy(Object(r)).forEach(function(l){Object.defineProperty(i,l,Object.getOwnPropertyDescriptor(r,l))})}return i}const wy=i=>{var n;return i.msg||i.message||i.error_description||(typeof i.error=="string"?i.error:(n=i.error)===null||n===void 0?void 0:n.message)||JSON.stringify(i)},vS=async(i,n,r,l)=>{if(i&&typeof i=="object"&&"status"in i&&"ok"in i&&typeof i.status=="number"&&!(r!=null&&r.noResolveJson)){const u=i,d=u.status||500;if(typeof u.json=="function")u.json().then(f=>{const m=(f==null?void 0:f.statusCode)||(f==null?void 0:f.code)||d+"";n(new rl(wy(f),d,m,l))}).catch(()=>{if(l==="vectors"){const f=d+"";n(new rl(u.statusText||`HTTP ${d} error`,d,f,l))}else{const f=d+"";n(new rl(u.statusText||`HTTP ${d} error`,d,f,l))}});else{const f=d+"";n(new rl(u.statusText||`HTTP ${d} error`,d,f,l))}}else n(new pg(wy(i),i,l))},yS=(i,n,r,l)=>{const u={method:i,headers:(n==null?void 0:n.headers)||{}};return i==="GET"||i==="HEAD"||!l?re(re({},u),r):(cS(l)?(u.headers=re({"Content-Type":"application/json"},n==null?void 0:n.headers),u.body=JSON.stringify(l)):u.body=l,n!=null&&n.duplex&&(u.duplex=n.duplex),re(re({},u),r))};async function Es(i,n,r,l,u,d,f){return new Promise((m,y)=>{i(r,yS(n,l,u,d)).then(v=>{if(!v.ok)throw v;if(l!=null&&l.noResolveJson)return v;if(f==="vectors"){const _=v.headers.get("content-type");if(v.headers.get("content-length")==="0"||v.status===204)return{};if(!_||!_.includes("application/json"))return{}}return v.json()}).then(v=>m(v)).catch(v=>vS(v,y,l,f))})}function _g(i="storage"){return{get:async(n,r,l,u)=>Es(n,"GET",r,l,u,void 0,i),post:async(n,r,l,u,d)=>Es(n,"POST",r,u,d,l,i),put:async(n,r,l,u,d)=>Es(n,"PUT",r,u,d,l,i),head:async(n,r,l,u)=>Es(n,"HEAD",r,re(re({},l),{},{noResolveJson:!0}),u,void 0,i),remove:async(n,r,l,u,d)=>Es(n,"DELETE",r,u,d,l,i)}}const gS=_g("storage"),{get:Cs,post:Ft,put:Ac,head:pS,remove:Lc}=gS,It=_g("vectors");var Ti=class{constructor(i,n={},r,l="storage"){this.shouldThrowOnError=!1,this.url=i,this.headers=n,this.fetch=uS(r),this.namespace=l}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(i){var n=this;try{return{data:await i(),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Tl(r))return{data:null,error:r};throw r}}},_S=class{constructor(i,n){this.downloadFn=i,this.shouldThrowOnError=n}then(i,n){return this.execute().then(i,n)}async execute(){var i=this;try{return{data:(await i.downloadFn()).body,error:null}}catch(n){if(i.shouldThrowOnError)throw n;if(Tl(n))return{data:null,error:n};throw n}}};let bg;bg=Symbol.toStringTag;var bS=class{constructor(i,n){this.downloadFn=i,this.shouldThrowOnError=n,this[bg]="BlobDownloadBuilder",this.promise=null}asStream(){return new _S(this.downloadFn,this.shouldThrowOnError)}then(i,n){return this.getPromise().then(i,n)}catch(i){return this.getPromise().catch(i)}finally(i){return this.getPromise().finally(i)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var i=this;try{return{data:await(await i.downloadFn()).blob(),error:null}}catch(n){if(i.shouldThrowOnError)throw n;if(Tl(n))return{data:null,error:n};throw n}}};const ES={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ty={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var SS=class extends Ti{constructor(i,n={},r,l){super(i,n,l,"storage"),this.bucketId=r}async uploadOrUpdate(i,n,r,l){var u=this;return u.handleOperation(async()=>{let d;const f=re(re({},Ty),l);let m=re(re({},u.headers),i==="POST"&&{"x-upsert":String(f.upsert)});const y=f.metadata;typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),y&&d.append("metadata",u.encodeMetadata(y)),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.has("cacheControl")||d.append("cacheControl",f.cacheControl),y&&!d.has("metadata")&&d.append("metadata",u.encodeMetadata(y))):(d=r,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType,y&&(m["x-metadata"]=u.toBase64(u.encodeMetadata(y))),(typeof ReadableStream<"u"&&d instanceof ReadableStream||d&&typeof d=="object"&&"pipe"in d&&typeof d.pipe=="function")&&!f.duplex&&(f.duplex="half")),l!=null&&l.headers&&(m=re(re({},m),l.headers));const v=u._removeEmptyFolders(n),_=u._getFinalPath(v),S=await(i=="PUT"?Ac:Ft)(u.fetch,`${u.url}/object/${_}`,d,re({headers:m},f!=null&&f.duplex?{duplex:f.duplex}:{}));return{path:v,id:S.Id,fullPath:S.Key}})}async upload(i,n,r){return this.uploadOrUpdate("POST",i,n,r)}async uploadToSignedUrl(i,n,r,l){var u=this;const d=u._removeEmptyFolders(i),f=u._getFinalPath(d),m=new URL(u.url+`/object/upload/sign/${f}`);return m.searchParams.set("token",n),u.handleOperation(async()=>{let y;const v=re({upsert:Ty.upsert},l),_=re(re({},u.headers),{"x-upsert":String(v.upsert)});return typeof Blob<"u"&&r instanceof Blob?(y=new FormData,y.append("cacheControl",v.cacheControl),y.append("",r)):typeof FormData<"u"&&r instanceof FormData?(y=r,y.append("cacheControl",v.cacheControl)):(y=r,_["cache-control"]=`max-age=${v.cacheControl}`,_["content-type"]=v.contentType),{path:d,fullPath:(await Ac(u.fetch,m.toString(),y,{headers:_})).Key}})}async createSignedUploadUrl(i,n){var r=this;return r.handleOperation(async()=>{let l=r._getFinalPath(i);const u=re({},r.headers);n!=null&&n.upsert&&(u["x-upsert"]="true");const d=await Ft(r.fetch,`${r.url}/object/upload/sign/${l}`,{},{headers:u}),f=new URL(r.url+d.url),m=f.searchParams.get("token");if(!m)throw new wl("No token returned by API");return{signedUrl:f.toString(),path:i,token:m}})}async update(i,n,r){return this.uploadOrUpdate("PUT",i,n,r)}async move(i,n,r){var l=this;return l.handleOperation(async()=>await Ft(l.fetch,`${l.url}/object/move`,{bucketId:l.bucketId,sourceKey:i,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:l.headers}))}async copy(i,n,r){var l=this;return l.handleOperation(async()=>({path:(await Ft(l.fetch,`${l.url}/object/copy`,{bucketId:l.bucketId,sourceKey:i,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:l.headers})).Key}))}async createSignedUrl(i,n,r){var l=this;return l.handleOperation(async()=>{let u=l._getFinalPath(i),d=await Ft(l.fetch,`${l.url}/object/sign/${u}`,re({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:l.headers});const f=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${l.url}${d.signedURL}${f}`)}})}async createSignedUrls(i,n,r){var l=this;return l.handleOperation(async()=>{const u=await Ft(l.fetch,`${l.url}/object/sign/${l.bucketId}`,{expiresIn:n,paths:i},{headers:l.headers}),d=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return u.map(f=>re(re({},f),{},{signedUrl:f.signedURL?encodeURI(`${l.url}${f.signedURL}${d}`):null}))})}download(i,n,r){const l=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),d=u?`?${u}`:"",f=this._getFinalPath(i),m=()=>Cs(this.fetch,`${this.url}/${l}/${f}${d}`,{headers:this.headers,noResolveJson:!0},r);return new bS(m,this.shouldThrowOnError)}async info(i){var n=this;const r=n._getFinalPath(i);return n.handleOperation(async()=>Tc(await Cs(n.fetch,`${n.url}/object/info/${r}`,{headers:n.headers})))}async exists(i){var n=this;const r=n._getFinalPath(i);try{return await pS(n.fetch,`${n.url}/object/${r}`,{headers:n.headers}),{data:!0,error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Tl(l)&&l instanceof pg){const u=l.originalError;if([400,404].includes(u==null?void 0:u.status))return{data:!1,error:l}}throw l}}getPublicUrl(i,n){const r=this._getFinalPath(i),l=[],u=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";u!==""&&l.push(u);const d=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",f=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});f!==""&&l.push(f);let m=l.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${r}${m}`)}}}async remove(i){var n=this;return n.handleOperation(async()=>await Lc(n.fetch,`${n.url}/object/${n.bucketId}`,{prefixes:i},{headers:n.headers}))}async list(i,n,r){var l=this;return l.handleOperation(async()=>{const u=re(re(re({},ES),n),{},{prefix:i||""});return await Ft(l.fetch,`${l.url}/object/list/${l.bucketId}`,u,{headers:l.headers},r)})}async listV2(i,n){var r=this;return r.handleOperation(async()=>{const l=re({},i);return await Ft(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,l,{headers:r.headers},n)})}encodeMetadata(i){return JSON.stringify(i)}toBase64(i){return typeof Buffer<"u"?Buffer.from(i).toString("base64"):btoa(i)}_getFinalPath(i){return`${this.bucketId}/${i.replace(/^\/+/,"")}`}_removeEmptyFolders(i){return i.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(i){const n=[];return i.width&&n.push(`width=${i.width}`),i.height&&n.push(`height=${i.height}`),i.resize&&n.push(`resize=${i.resize}`),i.format&&n.push(`format=${i.format}`),i.quality&&n.push(`quality=${i.quality}`),n.join("&")}};const wS="2.95.3",Is={"X-Client-Info":`storage-js/${wS}`};var TS=class extends Ti{constructor(i,n={},r,l){const u=new URL(i);l!=null&&l.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase."));const d=u.href.replace(/\/$/,""),f=re(re({},Is),n);super(d,f,r,"storage")}async listBuckets(i){var n=this;return n.handleOperation(async()=>{const r=n.listBucketOptionsToQueryString(i);return await Cs(n.fetch,`${n.url}/bucket${r}`,{headers:n.headers})})}async getBucket(i){var n=this;return n.handleOperation(async()=>await Cs(n.fetch,`${n.url}/bucket/${i}`,{headers:n.headers}))}async createBucket(i,n={public:!1}){var r=this;return r.handleOperation(async()=>await Ft(r.fetch,`${r.url}/bucket`,{id:i,name:i,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:r.headers}))}async updateBucket(i,n){var r=this;return r.handleOperation(async()=>await Ac(r.fetch,`${r.url}/bucket/${i}`,{id:i,name:i,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(i){var n=this;return n.handleOperation(async()=>await Ft(n.fetch,`${n.url}/bucket/${i}/empty`,{},{headers:n.headers}))}async deleteBucket(i){var n=this;return n.handleOperation(async()=>await Lc(n.fetch,`${n.url}/bucket/${i}`,{},{headers:n.headers}))}listBucketOptionsToQueryString(i){const n={};return i&&("limit"in i&&(n.limit=String(i.limit)),"offset"in i&&(n.offset=String(i.offset)),i.search&&(n.search=i.search),i.sortColumn&&(n.sortColumn=i.sortColumn),i.sortOrder&&(n.sortOrder=i.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}},AS=class extends Ti{constructor(i,n={},r){const l=i.replace(/\/$/,""),u=re(re({},Is),n);super(l,u,r,"storage")}async createBucket(i){var n=this;return n.handleOperation(async()=>await Ft(n.fetch,`${n.url}/bucket`,{name:i},{headers:n.headers}))}async listBuckets(i){var n=this;return n.handleOperation(async()=>{const r=new URLSearchParams;(i==null?void 0:i.limit)!==void 0&&r.set("limit",i.limit.toString()),(i==null?void 0:i.offset)!==void 0&&r.set("offset",i.offset.toString()),i!=null&&i.sortColumn&&r.set("sortColumn",i.sortColumn),i!=null&&i.sortOrder&&r.set("sortOrder",i.sortOrder),i!=null&&i.search&&r.set("search",i.search);const l=r.toString(),u=l?`${n.url}/bucket?${l}`:`${n.url}/bucket`;return await Cs(n.fetch,u,{headers:n.headers})})}async deleteBucket(i){var n=this;return n.handleOperation(async()=>await Lc(n.fetch,`${n.url}/bucket/${i}`,{},{headers:n.headers}))}from(i){var n=this;if(!dS(i))throw new wl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new oS({baseUrl:this.url,catalogName:i,auth:{type:"custom",getHeaders:async()=>n.headers},fetch:this.fetch}),l=this.shouldThrowOnError;return new Proxy(r,{get(u,d){const f=u[d];return typeof f!="function"?f:async(...m)=>{try{return{data:await f.apply(u,m),error:null}}catch(y){if(l)throw y;return{data:null,error:y}}}}})}},xS=class extends Ti{constructor(i,n={},r){const l=i.replace(/\/$/,""),u=re(re({},Is),{},{"Content-Type":"application/json"},n);super(l,u,r,"vectors")}async createIndex(i){var n=this;return n.handleOperation(async()=>await It.post(n.fetch,`${n.url}/CreateIndex`,i,{headers:n.headers})||{})}async getIndex(i,n){var r=this;return r.handleOperation(async()=>await It.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:i,indexName:n},{headers:r.headers}))}async listIndexes(i){var n=this;return n.handleOperation(async()=>await It.post(n.fetch,`${n.url}/ListIndexes`,i,{headers:n.headers}))}async deleteIndex(i,n){var r=this;return r.handleOperation(async()=>await It.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:i,indexName:n},{headers:r.headers})||{})}},OS=class extends Ti{constructor(i,n={},r){const l=i.replace(/\/$/,""),u=re(re({},Is),{},{"Content-Type":"application/json"},n);super(l,u,r,"vectors")}async putVectors(i){var n=this;if(i.vectors.length<1||i.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return n.handleOperation(async()=>await It.post(n.fetch,`${n.url}/PutVectors`,i,{headers:n.headers})||{})}async getVectors(i){var n=this;return n.handleOperation(async()=>await It.post(n.fetch,`${n.url}/GetVectors`,i,{headers:n.headers}))}async listVectors(i){var n=this;if(i.segmentCount!==void 0){if(i.segmentCount<1||i.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(i.segmentIndex!==void 0&&(i.segmentIndex<0||i.segmentIndex>=i.segmentCount))throw new Error(`segmentIndex must be between 0 and ${i.segmentCount-1}`)}return n.handleOperation(async()=>await It.post(n.fetch,`${n.url}/ListVectors`,i,{headers:n.headers}))}async queryVectors(i){var n=this;return n.handleOperation(async()=>await It.post(n.fetch,`${n.url}/QueryVectors`,i,{headers:n.headers}))}async deleteVectors(i){var n=this;if(i.keys.length<1||i.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return n.handleOperation(async()=>await It.post(n.fetch,`${n.url}/DeleteVectors`,i,{headers:n.headers})||{})}},NS=class extends Ti{constructor(i,n={},r){const l=i.replace(/\/$/,""),u=re(re({},Is),{},{"Content-Type":"application/json"},n);super(l,u,r,"vectors")}async createBucket(i){var n=this;return n.handleOperation(async()=>await It.post(n.fetch,`${n.url}/CreateVectorBucket`,{vectorBucketName:i},{headers:n.headers})||{})}async getBucket(i){var n=this;return n.handleOperation(async()=>await It.post(n.fetch,`${n.url}/GetVectorBucket`,{vectorBucketName:i},{headers:n.headers}))}async listBuckets(i={}){var n=this;return n.handleOperation(async()=>await It.post(n.fetch,`${n.url}/ListVectorBuckets`,i,{headers:n.headers}))}async deleteBucket(i){var n=this;return n.handleOperation(async()=>await It.post(n.fetch,`${n.url}/DeleteVectorBucket`,{vectorBucketName:i},{headers:n.headers})||{})}},RS=class extends NS{constructor(i,n={}){super(i,n.headers||{},n.fetch)}from(i){return new CS(this.url,this.headers,i,this.fetch)}async createBucket(i){var n=()=>super.createBucket,r=this;return n().call(r,i)}async getBucket(i){var n=()=>super.getBucket,r=this;return n().call(r,i)}async listBuckets(i={}){var n=()=>super.listBuckets,r=this;return n().call(r,i)}async deleteBucket(i){var n=()=>super.deleteBucket,r=this;return n().call(r,i)}},CS=class extends xS{constructor(i,n,r,l){super(i,n,l),this.vectorBucketName=r}async createIndex(i){var n=()=>super.createIndex,r=this;return n().call(r,re(re({},i),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(i={}){var n=()=>super.listIndexes,r=this;return n().call(r,re(re({},i),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(i){var n=()=>super.getIndex,r=this;return n().call(r,r.vectorBucketName,i)}async deleteIndex(i){var n=()=>super.deleteIndex,r=this;return n().call(r,r.vectorBucketName,i)}index(i){return new jS(this.url,this.headers,this.vectorBucketName,i,this.fetch)}},jS=class extends OS{constructor(i,n,r,l,u){super(i,n,u),this.vectorBucketName=r,this.indexName=l}async putVectors(i){var n=()=>super.putVectors,r=this;return n().call(r,re(re({},i),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(i){var n=()=>super.getVectors,r=this;return n().call(r,re(re({},i),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(i={}){var n=()=>super.listVectors,r=this;return n().call(r,re(re({},i),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(i){var n=()=>super.queryVectors,r=this;return n().call(r,re(re({},i),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(i){var n=()=>super.deleteVectors,r=this;return n().call(r,re(re({},i),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},DS=class extends TS{constructor(i,n={},r,l){super(i,n,r,l)}from(i){return new SS(this.url,this.headers,i,this.fetch)}get vectors(){return new RS(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new AS(this.url+"/iceberg",this.headers,this.fetch)}};const Eg="2.95.3",pi=30*1e3,xc=3,ic=xc*pi,US="http://localhost:9999",IS="supabase.auth.token",MS={"X-Client-Info":`gotrue-js/${Eg}`},Oc="X-Supabase-Api-Version",Sg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},LS=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,kS=600*1e3;class js extends Error{constructor(n,r,l){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=l}}function Z(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class zS extends js{constructor(n,r,l){super(n,r,l),this.name="AuthApiError",this.status=r,this.code=l}}function BS(i){return Z(i)&&i.name==="AuthApiError"}class wa extends js{constructor(n,r){super(n),this.name="AuthUnknownError",this.originalError=r}}class xn extends js{constructor(n,r,l,u){super(n,l,u),this.name=r,this.status=l}}class Ut extends xn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function sc(i){return Z(i)&&i.name==="AuthSessionMissingError"}class di extends xn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ll extends xn{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class ol extends xn{constructor(n,r=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function HS(i){return Z(i)&&i.name==="AuthImplicitGrantRedirectError"}class Ay extends xn{constructor(n,r=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class GS extends xn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Nc extends xn{constructor(n,r){super(n,"AuthRetryableFetchError",r,void 0)}}function rc(i){return Z(i)&&i.name==="AuthRetryableFetchError"}class xy extends xn{constructor(n,r,l){super(n,"AuthWeakPasswordError",r,"weak_password"),this.reasons=l}}class Rc extends xn{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const vl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Oy=` 	
\r=`.split(""),qS=(()=>{const i=new Array(128);for(let n=0;n<i.length;n+=1)i[n]=-1;for(let n=0;n<Oy.length;n+=1)i[Oy[n].charCodeAt(0)]=-2;for(let n=0;n<vl.length;n+=1)i[vl[n].charCodeAt(0)]=n;return i})();function Ny(i,n,r){if(i!==null)for(n.queue=n.queue<<8|i,n.queuedBits+=8;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;r(vl[l]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;r(vl[l]),n.queuedBits-=6}}function wg(i,n,r){const l=qS[i];if(l>-1)for(n.queue=n.queue<<6|l,n.queuedBits+=6;n.queuedBits>=8;)r(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function Ry(i){const n=[],r=f=>{n.push(String.fromCodePoint(f))},l={utf8seq:0,codepoint:0},u={queue:0,queuedBits:0},d=f=>{YS(f,l,r)};for(let f=0;f<i.length;f+=1)wg(i.charCodeAt(f),u,d);return n.join("")}function VS(i,n){if(i<=127){n(i);return}else if(i<=2047){n(192|i>>6),n(128|i&63);return}else if(i<=65535){n(224|i>>12),n(128|i>>6&63),n(128|i&63);return}else if(i<=1114111){n(240|i>>18),n(128|i>>12&63),n(128|i>>6&63),n(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function $S(i,n){for(let r=0;r<i.length;r+=1){let l=i.charCodeAt(r);if(l>55295&&l<=56319){const u=(l-55296)*1024&65535;l=(i.charCodeAt(r+1)-56320&65535|u)+65536,r+=1}VS(l,n)}}function YS(i,n,r){if(n.utf8seq===0){if(i<=127){r(i);return}for(let l=1;l<6;l+=1)if((i>>7-l&1)===0){n.utf8seq=l;break}if(n.utf8seq===2)n.codepoint=i&31;else if(n.utf8seq===3)n.codepoint=i&15;else if(n.utf8seq===4)n.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|i&63,n.utf8seq-=1,n.utf8seq===0&&r(n.codepoint)}}function wi(i){const n=[],r={queue:0,queuedBits:0},l=u=>{n.push(u)};for(let u=0;u<i.length;u+=1)wg(i.charCodeAt(u),r,l);return new Uint8Array(n)}function KS(i){const n=[];return $S(i,r=>n.push(r)),new Uint8Array(n)}function Aa(i){const n=[],r={queue:0,queuedBits:0},l=u=>{n.push(u)};return i.forEach(u=>Ny(u,r,l)),Ny(null,r,l),n.join("")}function PS(i){return Math.round(Date.now()/1e3)+i}function JS(){return Symbol("auth-callback")}const lt=()=>typeof window<"u"&&typeof document<"u",pa={tested:!1,writable:!1},Tg=()=>{if(!lt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(pa.tested)return pa.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),pa.tested=!0,pa.writable=!0}catch{pa.tested=!0,pa.writable=!1}return pa.writable};function XS(i){const n={},r=new URL(i);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((u,d)=>{n[d]=u})}catch{}return r.searchParams.forEach((l,u)=>{n[u]=l}),n}const Ag=i=>i?(...n)=>i(...n):(...n)=>fetch(...n),QS=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",_i=async(i,n,r)=>{await i.setItem(n,JSON.stringify(r))},_a=async(i,n)=>{const r=await i.getItem(n);if(!r)return null;try{return JSON.parse(r)}catch{return r}},st=async(i,n)=>{await i.removeItem(n)};class Al{constructor(){this.promise=new Al.promiseConstructor((n,r)=>{this.resolve=n,this.reject=r})}}Al.promiseConstructor=Promise;function ul(i){const n=i.split(".");if(n.length!==3)throw new Rc("Invalid JWT structure");for(let l=0;l<n.length;l++)if(!LS.test(n[l]))throw new Rc("JWT not in base64url format");return{header:JSON.parse(Ry(n[0])),payload:JSON.parse(Ry(n[1])),signature:wi(n[2]),raw:{header:n[0],payload:n[1]}}}async function ZS(i){return await new Promise(n=>{setTimeout(()=>n(null),i)})}function FS(i,n){return new Promise((l,u)=>{(async()=>{for(let d=0;d<1/0;d++)try{const f=await i(d);if(!n(d,null,f)){l(f);return}}catch(f){if(!n(d,f)){u(f);return}}})()})}function WS(i){return("0"+i.toString(16)).substr(-2)}function ew(){const n=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=r.length;let u="";for(let d=0;d<56;d++)u+=r.charAt(Math.floor(Math.random()*l));return u}return crypto.getRandomValues(n),Array.from(n,WS).join("")}async function tw(i){const r=new TextEncoder().encode(i),l=await crypto.subtle.digest("SHA-256",r),u=new Uint8Array(l);return Array.from(u).map(d=>String.fromCharCode(d)).join("")}async function nw(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const r=await tw(i);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function fi(i,n,r=!1){const l=ew();let u=l;r&&(u+="/PASSWORD_RECOVERY"),await _i(i,`${n}-code-verifier`,u);const d=await nw(l);return[d,l===d?"plain":"s256"]}const aw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function iw(i){const n=i.headers.get(Oc);if(!n||!n.match(aw))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function sw(i){if(!i)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(i<=n)throw new Error("JWT has expired")}function rw(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const lw=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function hi(i){if(!lw.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function lc(){const i={};return new Proxy(i,{get:(n,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const l=r.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ow(i,n){return new Proxy(i,{get:(r,l,u)=>{if(l==="__isInsecureUserWarningProxy")return!0;if(typeof l=="symbol"){const d=l.toString();if(d==="Symbol(Symbol.toPrimitive)"||d==="Symbol(Symbol.toStringTag)"||d==="Symbol(util.inspect.custom)"||d==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,l,u)}return!n.value&&typeof l=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(r,l,u)}})}function Cy(i){return JSON.parse(JSON.stringify(i))}const Ea=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),uw=[502,503,504];async function jy(i){var n;if(!QS(i))throw new Nc(Ea(i),0);if(uw.includes(i.status))throw new Nc(Ea(i),i.status);let r;try{r=await i.json()}catch(d){throw new wa(Ea(d),d)}let l;const u=iw(i);if(u&&u.getTime()>=Sg["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?l=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(l=r.error_code),l){if(l==="weak_password")throw new xy(Ea(r),i.status,((n=r.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(l==="session_not_found")throw new Ut}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((d,f)=>d&&typeof f=="string",!0))throw new xy(Ea(r),i.status,r.weak_password.reasons);throw new zS(Ea(r),i.status||500,l)}const cw=(i,n,r,l)=>{const u={method:i,headers:(n==null?void 0:n.headers)||{}};return i==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n==null?void 0:n.headers),u.body=JSON.stringify(l),Object.assign(Object.assign({},u),r))};async function se(i,n,r,l){var u;const d=Object.assign({},l==null?void 0:l.headers);d[Oc]||(d[Oc]=Sg["2024-01-01"].name),l!=null&&l.jwt&&(d.Authorization=`Bearer ${l.jwt}`);const f=(u=l==null?void 0:l.query)!==null&&u!==void 0?u:{};l!=null&&l.redirectTo&&(f.redirect_to=l.redirectTo);const m=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",y=await dw(i,n,r+m,{headers:d,noResolveJson:l==null?void 0:l.noResolveJson},{},l==null?void 0:l.body);return l!=null&&l.xform?l==null?void 0:l.xform(y):{data:Object.assign({},y),error:null}}async function dw(i,n,r,l,u,d){const f=cw(n,l,u,d);let m;try{m=await i(r,Object.assign({},f))}catch(y){throw console.error(y),new Nc(Ea(y),0)}if(m.ok||await jy(m),l!=null&&l.noResolveJson)return m;try{return await m.json()}catch(y){await jy(y)}}function Zt(i){var n;let r=null;mw(i)&&(r=Object.assign({},i),i.expires_at||(r.expires_at=PS(i.expires_in)));const l=(n=i.user)!==null&&n!==void 0?n:i;return{data:{session:r,user:l},error:null}}function Dy(i){const n=Zt(i);return!n.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((r,l)=>r&&typeof l=="string",!0)&&(n.data.weak_password=i.weak_password),n}function Wn(i){var n;return{data:{user:(n=i.user)!==null&&n!==void 0?n:i},error:null}}function fw(i){return{data:i,error:null}}function hw(i){const{action_link:n,email_otp:r,hashed_token:l,redirect_to:u,verification_type:d}=i,f=Sl(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:n,email_otp:r,hashed_token:l,redirect_to:u,verification_type:d},y=Object.assign({},f);return{data:{properties:m,user:y},error:null}}function Uy(i){return i}function mw(i){return i.access_token&&i.refresh_token&&i.expires_in}const oc=["global","local","others"];class vw{constructor({url:n="",headers:r={},fetch:l}){this.url=n,this.headers=r,this.fetch=Ag(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,r=oc[0]){if(oc.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${oc.join(", ")}`);try{return await se(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(l){if(Z(l))return{data:null,error:l};throw l}}async inviteUserByEmail(n,r={}){try{return await se(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Wn})}catch(l){if(Z(l))return{data:{user:null},error:l};throw l}}async generateLink(n){try{const{options:r}=n,l=Sl(n,["options"]),u=Object.assign(Object.assign({},l),r);return"newEmail"in l&&(u.new_email=l==null?void 0:l.newEmail,delete u.newEmail),await se(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:hw,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Z(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(n){try{return await se(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:Wn})}catch(r){if(Z(r))return{data:{user:null},error:r};throw r}}async listUsers(n){var r,l,u,d,f,m,y;try{const v={nextPage:null,lastPage:0,total:0},_=await se(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(r=n==null?void 0:n.page)===null||r===void 0?void 0:r.toString())!==null&&l!==void 0?l:"",per_page:(d=(u=n==null?void 0:n.perPage)===null||u===void 0?void 0:u.toString())!==null&&d!==void 0?d:""},xform:Uy});if(_.error)throw _.error;const S=await _.json(),T=(f=_.headers.get("x-total-count"))!==null&&f!==void 0?f:0,b=(y=(m=_.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&y!==void 0?y:[];return b.length>0&&(b.forEach(E=>{const R=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(E.split(";")[1].split("=")[1]);v[`${O}Page`]=R}),v.total=parseInt(T)),{data:Object.assign(Object.assign({},S),v),error:null}}catch(v){if(Z(v))return{data:{users:[]},error:v};throw v}}async getUserById(n){hi(n);try{return await se(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:Wn})}catch(r){if(Z(r))return{data:{user:null},error:r};throw r}}async updateUserById(n,r){hi(n);try{return await se(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:r,headers:this.headers,xform:Wn})}catch(l){if(Z(l))return{data:{user:null},error:l};throw l}}async deleteUser(n,r=!1){hi(n);try{return await se(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:r},xform:Wn})}catch(l){if(Z(l))return{data:{user:null},error:l};throw l}}async _listFactors(n){hi(n.userId);try{const{data:r,error:l}=await se(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:r,error:l}}catch(r){if(Z(r))return{data:null,error:r};throw r}}async _deleteFactor(n){hi(n.userId),hi(n.id);try{return{data:await se(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(r){if(Z(r))return{data:null,error:r};throw r}}async _listOAuthClients(n){var r,l,u,d,f,m,y;try{const v={nextPage:null,lastPage:0,total:0},_=await se(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(r=n==null?void 0:n.page)===null||r===void 0?void 0:r.toString())!==null&&l!==void 0?l:"",per_page:(d=(u=n==null?void 0:n.perPage)===null||u===void 0?void 0:u.toString())!==null&&d!==void 0?d:""},xform:Uy});if(_.error)throw _.error;const S=await _.json(),T=(f=_.headers.get("x-total-count"))!==null&&f!==void 0?f:0,b=(y=(m=_.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&y!==void 0?y:[];return b.length>0&&(b.forEach(E=>{const R=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(E.split(";")[1].split("=")[1]);v[`${O}Page`]=R}),v.total=parseInt(T)),{data:Object.assign(Object.assign({},S),v),error:null}}catch(v){if(Z(v))return{data:{clients:[]},error:v};throw v}}async _createOAuthClient(n){try{return await se(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Z(r))return{data:null,error:r};throw r}}async _getOAuthClient(n){try{return await se(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Z(r))return{data:null,error:r};throw r}}async _updateOAuthClient(n,r){try{return await se(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:r,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(Z(l))return{data:null,error:l};throw l}}async _deleteOAuthClient(n){try{return await se(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Z(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(n){try{return await se(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Z(r))return{data:null,error:r};throw r}}}function Iy(i={}){return{getItem:n=>i[n]||null,setItem:(n,r)=>{i[n]=r},removeItem:n=>{delete i[n]}}}const mi={debug:!!(globalThis&&Tg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class xg extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class yw extends xg{}async function gw(i,n,r){mi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,n);const l=new globalThis.AbortController;return n>0&&setTimeout(()=>{l.abort(),mi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(i,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async u=>{if(u){mi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,u.name);try{return await r()}finally{mi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,u.name)}}else{if(n===0)throw mi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new yw(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(mi.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function pw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Og(i){if(!/^0x[a-fA-F0-9]{40}$/.test(i))throw new Error(`@supabase/auth-js: Address "${i}" is invalid.`);return i.toLowerCase()}function _w(i){return parseInt(i,16)}function bw(i){const n=new TextEncoder().encode(i);return"0x"+Array.from(n,l=>l.toString(16).padStart(2,"0")).join("")}function Ew(i){var n;const{chainId:r,domain:l,expirationTime:u,issuedAt:d=new Date,nonce:f,notBefore:m,requestId:y,resources:v,scheme:_,uri:S,version:T}=i;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!l)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!S)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(T!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${T}`);if(!((n=i.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${i.statement}`)}const b=Og(i.address),E=_?`${_}://${l}`:l,R=i.statement?`${i.statement}
`:"",O=`${E} wants you to sign in with your Ethereum account:
${b}

${R}`;let L=`URI: ${S}
Version: ${T}
Chain ID: ${r}${f?`
Nonce: ${f}`:""}
Issued At: ${d.toISOString()}`;if(u&&(L+=`
Expiration Time: ${u.toISOString()}`),m&&(L+=`
Not Before: ${m.toISOString()}`),y&&(L+=`
Request ID: ${y}`),v){let G=`
Resources:`;for(const H of v){if(!H||typeof H!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${H}`);G+=`
- ${H}`}L+=G}return`${O}
${L}`}class Je extends Error{constructor({message:n,code:r,cause:l,name:u}){var d;super(n,{cause:l}),this.__isWebAuthnError=!0,this.name=(d=u??(l instanceof Error?l.name:void 0))!==null&&d!==void 0?d:"Unknown Error",this.code=r}}class yl extends Je{constructor(n,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:n}),this.name="WebAuthnUnknownError",this.originalError=r}}function Sw({error:i,options:n}){var r,l,u;const{publicKey:d}=n;if(!d)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Je({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else if(i.name==="ConstraintError"){if(((r=d.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Je({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:i});if(n.mediation==="conditional"&&((l=d.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new Je({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:i});if(((u=d.authenticatorSelection)===null||u===void 0?void 0:u.userVerification)==="required")return new Je({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:i})}else{if(i.name==="InvalidStateError")return new Je({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:i});if(i.name==="NotAllowedError")return new Je({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="NotSupportedError")return d.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new Je({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:i}):new Je({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:i});if(i.name==="SecurityError"){const f=window.location.hostname;if(Ng(f)){if(d.rp.id!==f)return new Je({message:`The RP ID "${d.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new Je({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="TypeError"){if(d.user.id.byteLength<1||d.user.id.byteLength>64)return new Je({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:i})}else if(i.name==="UnknownError")return new Je({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new Je({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}function ww({error:i,options:n}){const{publicKey:r}=n;if(!r)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Je({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else{if(i.name==="NotAllowedError")return new Je({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="SecurityError"){const l=window.location.hostname;if(Ng(l)){if(r.rpId!==l)return new Je({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new Je({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="UnknownError")return new Je({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new Je({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}class Tw{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const Aw=new Tw;function xw(i){if(!i)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(i);const{challenge:n,user:r,excludeCredentials:l}=i,u=Sl(i,["challenge","user","excludeCredentials"]),d=wi(n).buffer,f=Object.assign(Object.assign({},r),{id:wi(r.id).buffer}),m=Object.assign(Object.assign({},u),{challenge:d,user:f});if(l&&l.length>0){m.excludeCredentials=new Array(l.length);for(let y=0;y<l.length;y++){const v=l[y];m.excludeCredentials[y]=Object.assign(Object.assign({},v),{id:wi(v.id).buffer,type:v.type||"public-key",transports:v.transports})}}return m}function Ow(i){if(!i)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(i);const{challenge:n,allowCredentials:r}=i,l=Sl(i,["challenge","allowCredentials"]),u=wi(n).buffer,d=Object.assign(Object.assign({},l),{challenge:u});if(r&&r.length>0){d.allowCredentials=new Array(r.length);for(let f=0;f<r.length;f++){const m=r[f];d.allowCredentials[f]=Object.assign(Object.assign({},m),{id:wi(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return d}function Nw(i){var n;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const r=i;return{id:i.id,rawId:i.id,response:{attestationObject:Aa(new Uint8Array(i.response.attestationObject)),clientDataJSON:Aa(new Uint8Array(i.response.clientDataJSON))},type:"public-key",clientExtensionResults:i.getClientExtensionResults(),authenticatorAttachment:(n=r.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function Rw(i){var n;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const r=i,l=i.getClientExtensionResults(),u=i.response;return{id:i.id,rawId:i.id,response:{authenticatorData:Aa(new Uint8Array(u.authenticatorData)),clientDataJSON:Aa(new Uint8Array(u.clientDataJSON)),signature:Aa(new Uint8Array(u.signature)),userHandle:u.userHandle?Aa(new Uint8Array(u.userHandle)):void 0},type:"public-key",clientExtensionResults:l,authenticatorAttachment:(n=r.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function Ng(i){return i==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(i)}function My(){var i,n;return!!(lt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((i=navigator==null?void 0:navigator.credentials)===null||i===void 0?void 0:i.create)=="function"&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.get)=="function")}async function Cw(i){try{const n=await navigator.credentials.create(i);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new yl("Browser returned unexpected credential type",n)}:{data:null,error:new yl("Empty credential response",n)}}catch(n){return{data:null,error:Sw({error:n,options:i})}}}async function jw(i){try{const n=await navigator.credentials.get(i);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new yl("Browser returned unexpected credential type",n)}:{data:null,error:new yl("Empty credential response",n)}}catch(n){return{data:null,error:ww({error:n,options:i})}}}const Dw={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Uw={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function gl(...i){const n=u=>u!==null&&typeof u=="object"&&!Array.isArray(u),r=u=>u instanceof ArrayBuffer||ArrayBuffer.isView(u),l={};for(const u of i)if(u)for(const d in u){const f=u[d];if(f!==void 0)if(Array.isArray(f))l[d]=f;else if(r(f))l[d]=f;else if(n(f)){const m=l[d];n(m)?l[d]=gl(m,f):l[d]=gl(f)}else l[d]=f}return l}function Iw(i,n){return gl(Dw,i,n||{})}function Mw(i,n){return gl(Uw,i,n||{})}class Lw{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:r,friendlyName:l,signal:u},d){var f;try{const{data:m,error:y}=await this.client.mfa.challenge({factorId:n,webauthn:r});if(!m)return{data:null,error:y};const v=u??Aw.createNewAbortSignal();if(m.webauthn.type==="create"){const{user:_}=m.webauthn.credential_options.publicKey;if(!_.name){const S=l;if(S)_.name=`${_.id}:${S}`;else{const b=(await this.client.getUser()).data.user,E=((f=b==null?void 0:b.user_metadata)===null||f===void 0?void 0:f.name)||(b==null?void 0:b.email)||(b==null?void 0:b.id)||"User";_.name=`${_.id}:${E}`}}_.displayName||(_.displayName=_.name)}switch(m.webauthn.type){case"create":{const _=Iw(m.webauthn.credential_options.publicKey,d==null?void 0:d.create),{data:S,error:T}=await Cw({publicKey:_,signal:v});return S?{data:{factorId:n,challengeId:m.id,webauthn:{type:m.webauthn.type,credential_response:S}},error:null}:{data:null,error:T}}case"request":{const _=Mw(m.webauthn.credential_options.publicKey,d==null?void 0:d.request),{data:S,error:T}=await jw(Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:_,signal:v}));return S?{data:{factorId:n,challengeId:m.id,webauthn:{type:m.webauthn.type,credential_response:S}},error:null}:{data:null,error:T}}}}catch(m){return Z(m)?{data:null,error:m}:{data:null,error:new wa("Unexpected error in challenge",m)}}}async _verify({challengeId:n,factorId:r,webauthn:l}){return this.client.mfa.verify({factorId:r,challengeId:n,webauthn:l})}async _authenticate({factorId:n,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},d){if(!r)return{data:null,error:new js("rpId is required for WebAuthn authentication")};try{if(!My())return{data:null,error:new wa("Browser does not support WebAuthn",null)};const{data:f,error:m}=await this.challenge({factorId:n,webauthn:{rpId:r,rpOrigins:l},signal:u},{request:d});if(!f)return{data:null,error:m};const{webauthn:y}=f;return this._verify({factorId:n,challengeId:f.challengeId,webauthn:{type:y.type,rpId:r,rpOrigins:l,credential_response:y.credential_response}})}catch(f){return Z(f)?{data:null,error:f}:{data:null,error:new wa("Unexpected error in authenticate",f)}}}async _register({friendlyName:n,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},d){if(!r)return{data:null,error:new js("rpId is required for WebAuthn registration")};try{if(!My())return{data:null,error:new wa("Browser does not support WebAuthn",null)};const{data:f,error:m}=await this._enroll({friendlyName:n});if(!f)return await this.client.mfa.listFactors().then(_=>{var S;return(S=_.data)===null||S===void 0?void 0:S.all.find(T=>T.factor_type==="webauthn"&&T.friendly_name===n&&T.status!=="unverified")}).then(_=>_?this.client.mfa.unenroll({factorId:_==null?void 0:_.id}):void 0),{data:null,error:m};const{data:y,error:v}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:r,rpOrigins:l},signal:u},{create:d});return y?this._verify({factorId:f.id,challengeId:y.challengeId,webauthn:{rpId:r,rpOrigins:l,type:y.webauthn.type,credential_response:y.webauthn.credential_response}}):{data:null,error:v}}catch(f){return Z(f)?{data:null,error:f}:{data:null,error:new wa("Unexpected error in register",f)}}}}pw();const kw={url:US,storageKey:IS,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:MS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Ly(i,n,r){return await r()}const vi={};class Ds{get jwks(){var n,r;return(r=(n=vi[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(n){vi[this.storageKey]=Object.assign(Object.assign({},vi[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,r;return(r=(n=vi[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){vi[this.storageKey]=Object.assign(Object.assign({},vi[this.storageKey]),{cachedAt:n})}constructor(n){var r,l,u;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const d=Object.assign(Object.assign({},kw),n);if(this.storageKey=d.storageKey,this.instanceID=(r=Ds.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Ds.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!d.debug,typeof d.debug=="function"&&(this.logger=d.debug),this.instanceID>0&&lt()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=d.persistSession,this.autoRefreshToken=d.autoRefreshToken,this.admin=new vw({url:d.url,headers:d.headers,fetch:d.fetch}),this.url=d.url,this.headers=d.headers,this.fetch=Ag(d.fetch),this.lock=d.lock||Ly,this.detectSessionInUrl=d.detectSessionInUrl,this.flowType=d.flowType,this.hasCustomAuthorizationHeader=d.hasCustomAuthorizationHeader,this.throwOnError=d.throwOnError,this.lockAcquireTimeout=d.lockAcquireTimeout,d.lock?this.lock=d.lock:this.persistSession&&lt()&&(!((l=globalThis==null?void 0:globalThis.navigator)===null||l===void 0)&&l.locks)?this.lock=gw:this.lock=Ly,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Lw(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(d.storage?this.storage=d.storage:Tg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Iy(this.memoryStorage)),d.userStorage&&(this.userStorage=d.userStorage)):(this.memoryStorage={},this.storage=Iy(this.memoryStorage)),lt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(u=this.broadcastChannel)===null||u===void 0||u.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f);try{await this._notifyAllSubscribers(f.data.event,f.data.session,!1)}catch(m){this._debug("#broadcastChannel","error",m)}})}this.initialize().catch(f=>{this._debug("#initialize()","error",f)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Eg}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let r={},l="none";if(lt()&&(r=XS(window.location.href),this._isImplicitGrantCallback(r)?l="implicit":await this._isPKCECallback(r)&&(l="pkce")),lt()&&this.detectSessionInUrl&&l!=="none"){const{data:u,error:d}=await this._getSessionFromURL(r,l);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),HS(d)){const y=(n=d.details)===null||n===void 0?void 0:n.code;if(y==="identity_already_exists"||y==="identity_not_found"||y==="single_identity_not_deletable")return{error:d}}return{error:d}}const{session:f,redirectType:m}=u;return this._debug("#_initialize()","detected session in URL",f,"redirect type",m),await this._saveSession(f),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Z(r)?this._returnResult({error:r}):this._returnResult({error:new wa("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var r,l,u;try{const d=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(r=n==null?void 0:n.options)===null||r===void 0?void 0:r.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(u=n==null?void 0:n.options)===null||u===void 0?void 0:u.captchaToken}},xform:Zt}),{data:f,error:m}=d;if(m||!f)return this._returnResult({data:{user:null,session:null},error:m});const y=f.session,v=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",y)),this._returnResult({data:{user:v,session:y},error:null})}catch(d){if(Z(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signUp(n){var r,l,u;try{let d;if("email"in n){const{email:_,password:S,options:T}=n;let b=null,E=null;this.flowType==="pkce"&&([b,E]=await fi(this.storage,this.storageKey)),d=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:T==null?void 0:T.emailRedirectTo,body:{email:_,password:S,data:(r=T==null?void 0:T.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:T==null?void 0:T.captchaToken},code_challenge:b,code_challenge_method:E},xform:Zt})}else if("phone"in n){const{phone:_,password:S,options:T}=n;d=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:_,password:S,data:(l=T==null?void 0:T.data)!==null&&l!==void 0?l:{},channel:(u=T==null?void 0:T.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:T==null?void 0:T.captchaToken}},xform:Zt})}else throw new ll("You must provide either an email or phone number and a password");const{data:f,error:m}=d;if(m||!f)return await st(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:m});const y=f.session,v=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",y)),this._returnResult({data:{user:v,session:y},error:null})}catch(d){if(await st(this.storage,`${this.storageKey}-code-verifier`),Z(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signInWithPassword(n){try{let r;if("email"in n){const{email:d,password:f,options:m}=n;r=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:f,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Dy})}else if("phone"in n){const{phone:d,password:f,options:m}=n;r=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:f,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Dy})}else throw new ll("You must provide either an email or phone number and a password");const{data:l,error:u}=r;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const d=new di;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:u})}catch(r){if(Z(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(n){var r,l,u,d;return await this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(l=n.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=n.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(d=n.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:r}=n;switch(r){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(n){var r,l,u,d,f,m,y,v,_,S,T;let b,E;if("message"in n)b=n.message,E=n.signature;else{const{chain:R,wallet:O,statement:L,options:G}=n;let H;if(lt())if(typeof O=="object")H=O;else{const de=window;if("ethereum"in de&&typeof de.ethereum=="object"&&"request"in de.ethereum&&typeof de.ethereum.request=="function")H=de.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!(G!=null&&G.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");H=O}const K=new URL((r=G==null?void 0:G.url)!==null&&r!==void 0?r:window.location.href),fe=await H.request({method:"eth_requestAccounts"}).then(de=>de).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!fe||fe.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const ne=Og(fe[0]);let X=(l=G==null?void 0:G.signInWithEthereum)===null||l===void 0?void 0:l.chainId;if(!X){const de=await H.request({method:"eth_chainId"});X=_w(de)}const oe={domain:K.host,address:ne,statement:L,uri:K.href,version:"1",chainId:X,nonce:(u=G==null?void 0:G.signInWithEthereum)===null||u===void 0?void 0:u.nonce,issuedAt:(f=(d=G==null?void 0:G.signInWithEthereum)===null||d===void 0?void 0:d.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(m=G==null?void 0:G.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(y=G==null?void 0:G.signInWithEthereum)===null||y===void 0?void 0:y.notBefore,requestId:(v=G==null?void 0:G.signInWithEthereum)===null||v===void 0?void 0:v.requestId,resources:(_=G==null?void 0:G.signInWithEthereum)===null||_===void 0?void 0:_.resources};b=Ew(oe),E=await H.request({method:"personal_sign",params:[bw(b),ne]})}try{const{data:R,error:O}=await se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:E},!((S=n.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(T=n.options)===null||T===void 0?void 0:T.captchaToken}}:null),xform:Zt});if(O)throw O;if(!R||!R.session||!R.user){const L=new di;return this._returnResult({data:{user:null,session:null},error:L})}return R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),this._returnResult({data:Object.assign({},R),error:O})}catch(R){if(Z(R))return this._returnResult({data:{user:null,session:null},error:R});throw R}}async signInWithSolana(n){var r,l,u,d,f,m,y,v,_,S,T,b;let E,R;if("message"in n)E=n.message,R=n.signature;else{const{chain:O,wallet:L,statement:G,options:H}=n;let K;if(lt())if(typeof L=="object")K=L;else{const ne=window;if("solana"in ne&&typeof ne.solana=="object"&&("signIn"in ne.solana&&typeof ne.solana.signIn=="function"||"signMessage"in ne.solana&&typeof ne.solana.signMessage=="function"))K=ne.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof L!="object"||!(H!=null&&H.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");K=L}const fe=new URL((r=H==null?void 0:H.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in K&&K.signIn){const ne=await K.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},H==null?void 0:H.signInWithSolana),{version:"1",domain:fe.host,uri:fe.href}),G?{statement:G}:null));let X;if(Array.isArray(ne)&&ne[0]&&typeof ne[0]=="object")X=ne[0];else if(ne&&typeof ne=="object"&&"signedMessage"in ne&&"signature"in ne)X=ne;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in X&&"signature"in X&&(typeof X.signedMessage=="string"||X.signedMessage instanceof Uint8Array)&&X.signature instanceof Uint8Array)E=typeof X.signedMessage=="string"?X.signedMessage:new TextDecoder().decode(X.signedMessage),R=X.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in K)||typeof K.signMessage!="function"||!("publicKey"in K)||typeof K!="object"||!K.publicKey||!("toBase58"in K.publicKey)||typeof K.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${fe.host} wants you to sign in with your Solana account:`,K.publicKey.toBase58(),...G?["",G,""]:[""],"Version: 1",`URI: ${fe.href}`,`Issued At: ${(u=(l=H==null?void 0:H.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date().toISOString()}`,...!((d=H==null?void 0:H.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${H.signInWithSolana.notBefore}`]:[],...!((f=H==null?void 0:H.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${H.signInWithSolana.expirationTime}`]:[],...!((m=H==null?void 0:H.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${H.signInWithSolana.chainId}`]:[],...!((y=H==null?void 0:H.signInWithSolana)===null||y===void 0)&&y.nonce?[`Nonce: ${H.signInWithSolana.nonce}`]:[],...!((v=H==null?void 0:H.signInWithSolana)===null||v===void 0)&&v.requestId?[`Request ID: ${H.signInWithSolana.requestId}`]:[],...!((S=(_=H==null?void 0:H.signInWithSolana)===null||_===void 0?void 0:_.resources)===null||S===void 0)&&S.length?["Resources",...H.signInWithSolana.resources.map(X=>`- ${X}`)]:[]].join(`
`);const ne=await K.signMessage(new TextEncoder().encode(E),"utf8");if(!ne||!(ne instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");R=ne}}try{const{data:O,error:L}=await se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:Aa(R)},!((T=n.options)===null||T===void 0)&&T.captchaToken?{gotrue_meta_security:{captcha_token:(b=n.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Zt});if(L)throw L;if(!O||!O.session||!O.user){const G=new di;return this._returnResult({data:{user:null,session:null},error:G})}return O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("SIGNED_IN",O.session)),this._returnResult({data:Object.assign({},O),error:L})}catch(O){if(Z(O))return this._returnResult({data:{user:null,session:null},error:O});throw O}}async _exchangeCodeForSession(n){const r=await _a(this.storage,`${this.storageKey}-code-verifier`),[l,u]=(r??"").split("/");try{if(!l&&this.flowType==="pkce")throw new GS;const{data:d,error:f}=await se(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:l},xform:Zt});if(await st(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!d||!d.session||!d.user){const m=new di;return this._returnResult({data:{user:null,session:null,redirectType:null},error:m})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:Object.assign(Object.assign({},d),{redirectType:u??null}),error:f})}catch(d){if(await st(this.storage,`${this.storageKey}-code-verifier`),Z(d))return this._returnResult({data:{user:null,session:null,redirectType:null},error:d});throw d}}async signInWithIdToken(n){try{const{options:r,provider:l,token:u,access_token:d,nonce:f}=n,m=await se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:u,access_token:d,nonce:f,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Zt}),{data:y,error:v}=m;if(v)return this._returnResult({data:{user:null,session:null},error:v});if(!y||!y.session||!y.user){const _=new di;return this._returnResult({data:{user:null,session:null},error:_})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:y,error:v})}catch(r){if(Z(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(n){var r,l,u,d,f;try{if("email"in n){const{email:m,options:y}=n;let v=null,_=null;this.flowType==="pkce"&&([v,_]=await fi(this.storage,this.storageKey));const{error:S}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(r=y==null?void 0:y.data)!==null&&r!==void 0?r:{},create_user:(l=y==null?void 0:y.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:v,code_challenge_method:_},redirectTo:y==null?void 0:y.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:S})}if("phone"in n){const{phone:m,options:y}=n,{data:v,error:_}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(u=y==null?void 0:y.data)!==null&&u!==void 0?u:{},create_user:(d=y==null?void 0:y.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},channel:(f=y==null?void 0:y.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:v==null?void 0:v.message_id},error:_})}throw new ll("You must provide either an email or phone number.")}catch(m){if(await st(this.storage,`${this.storageKey}-code-verifier`),Z(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async verifyOtp(n){var r,l;try{let u,d;"options"in n&&(u=(r=n.options)===null||r===void 0?void 0:r.redirectTo,d=(l=n.options)===null||l===void 0?void 0:l.captchaToken);const{data:f,error:m}=await se(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:d}}),redirectTo:u,xform:Zt});if(m)throw m;if(!f)throw new Error("An error occurred on token verification.");const y=f.session,v=f.user;return y!=null&&y.access_token&&(await this._saveSession(y),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",y)),this._returnResult({data:{user:v,session:y},error:null})}catch(u){if(Z(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithSSO(n){var r,l,u,d,f;try{let m=null,y=null;this.flowType==="pkce"&&([m,y]=await fi(this.storage,this.storageKey));const v=await se(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(l=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&l!==void 0?l:void 0}),!((u=n==null?void 0:n.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:m,code_challenge_method:y}),headers:this.headers,xform:fw});return!((d=v.data)===null||d===void 0)&&d.url&&lt()&&!(!((f=n.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(v.data.url),this._returnResult(v)}catch(m){if(await st(this.storage,`${this.storageKey}-code-verifier`),Z(m))return this._returnResult({data:null,error:m});throw m}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:r},error:l}=n;if(l)throw l;if(!r)throw new Ut;const{error:u}=await se(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:u})})}catch(n){if(Z(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const r=`${this.url}/resend`;if("email"in n){const{email:l,type:u,options:d}=n,{error:f}=await se(this.fetch,"POST",r,{headers:this.headers,body:{email:l,type:u,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},redirectTo:d==null?void 0:d.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in n){const{phone:l,type:u,options:d}=n,{data:f,error:m}=await se(this.fetch,"POST",r,{headers:this.headers,body:{phone:l,type:u,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:m})}throw new ll("You must provide either an email or phone number and a type")}catch(r){if(Z(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(n,r){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await l,await r()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=r();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await n(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const r=await _a(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const l=n.expires_at?n.expires_at*1e3-Date.now()<ic:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",n.expires_at),!l){if(this.userStorage){const f=await _a(this.userStorage,this.storageKey+"-user");f!=null&&f.user?n.user=f.user:n.user=lc()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};n.user=ow(n.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:u,error:d}=await this._callRefreshToken(n.refresh_token);return d?this._returnResult({data:{session:null},error:d}):this._returnResult({data:{session:u},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(n){try{return n?await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:Wn}):await this._useSession(async r=>{var l,u,d;const{data:f,error:m}=r;if(m)throw m;return!(!((l=f.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ut}:await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0,xform:Wn})})}catch(r){if(Z(r))return sc(r)&&(await this._removeSession(),await st(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(n,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(n,r))}async _updateUser(n,r={}){try{return await this._useSession(async l=>{const{data:u,error:d}=l;if(d)throw d;if(!u.session)throw new Ut;const f=u.session;let m=null,y=null;this.flowType==="pkce"&&n.email!=null&&([m,y]=await fi(this.storage,this.storageKey));const{data:v,error:_}=await se(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:m,code_challenge_method:y}),jwt:f.access_token,xform:Wn});if(_)throw _;return f.user=v.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(l){if(await st(this.storage,`${this.storageKey}-code-verifier`),Z(l))return this._returnResult({data:{user:null},error:l});throw l}}async setSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new Ut;const r=Date.now()/1e3;let l=r,u=!0,d=null;const{payload:f}=ul(n.access_token);if(f.exp&&(l=f.exp,u=l<=r),u){const{data:m,error:y}=await this._callRefreshToken(n.refresh_token);if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!m)return{data:{user:null,session:null},error:null};d=m}else{const{data:m,error:y}=await this._getUser(n.access_token);if(y)return this._returnResult({data:{user:null,session:null},error:y});d={access_token:n.access_token,refresh_token:n.refresh_token,user:m.user,token_type:"bearer",expires_in:l-r,expires_at:l},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return this._returnResult({data:{user:d.user,session:d},error:null})}catch(r){if(Z(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async r=>{var l;if(!n){const{data:f,error:m}=r;if(m)throw m;n=(l=f.session)!==null&&l!==void 0?l:void 0}if(!(n!=null&&n.refresh_token))throw new Ut;const{data:u,error:d}=await this._callRefreshToken(n.refresh_token);return d?this._returnResult({data:{user:null,session:null},error:d}):u?this._returnResult({data:{user:u.user,session:u},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Z(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(n,r){try{if(!lt())throw new ol("No browser detected.");if(n.error||n.error_description||n.error_code)throw new ol(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Ay("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ol("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Ay("No code detected.");const{data:G,error:H}=await this._exchangeCodeForSession(n.code);if(H)throw H;const K=new URL(window.location.href);return K.searchParams.delete("code"),window.history.replaceState(window.history.state,"",K.toString()),{data:{session:G.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:u,access_token:d,refresh_token:f,expires_in:m,expires_at:y,token_type:v}=n;if(!d||!m||!f||!v)throw new ol("No session defined in URL");const _=Math.round(Date.now()/1e3),S=parseInt(m);let T=_+S;y&&(T=parseInt(y));const b=T-_;b*1e3<=pi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${S}s`);const E=T-S;_-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,T,_):_-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,T,_);const{data:R,error:O}=await this._getUser(d);if(O)throw O;const L={provider_token:l,provider_refresh_token:u,access_token:d,expires_in:S,expires_at:T,refresh_token:f,token_type:v,user:R.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:L,redirectType:n.type},error:null})}catch(l){if(Z(l))return this._returnResult({data:{session:null,redirectType:null},error:l});throw l}}_isImplicitGrantCallback(n){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),n):!!(n.access_token||n.error_description)}async _isPKCECallback(n){const r=await _a(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async r=>{var l;const{data:u,error:d}=r;if(d&&!sc(d))return this._returnResult({error:d});const f=(l=u.session)===null||l===void 0?void 0:l.access_token;if(f){const{error:m}=await this.admin.signOut(f,n);if(m&&!(BS(m)&&(m.status===404||m.status===401||m.status===403)||sc(m)))return this._returnResult({error:m})}return n!=="others"&&(await this._removeSession(),await st(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const r=JS(),l={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,l),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:l}}}async _emitInitialSession(n){return await this._useSession(async r=>{var l,u;try{const{data:{session:d},error:f}=r;if(f)throw f;await((l=this.stateChangeEmitters.get(n))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",n,"session",d)}catch(d){await((u=this.stateChangeEmitters.get(n))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",d),console.error(d)}})}async resetPasswordForEmail(n,r={}){let l=null,u=null;this.flowType==="pkce"&&([l,u]=await fi(this.storage,this.storageKey,!0));try{return await se(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:l,code_challenge_method:u,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(d){if(await st(this.storage,`${this.storageKey}-code-verifier`),Z(d))return this._returnResult({data:null,error:d});throw d}}async getUserIdentities(){var n;try{const{data:r,error:l}=await this.getUser();if(l)throw l;return this._returnResult({data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(r){if(Z(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var r;try{const{data:l,error:u}=await this._useSession(async d=>{var f,m,y,v,_;const{data:S,error:T}=d;if(T)throw T;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(f=n.options)===null||f===void 0?void 0:f.redirectTo,scopes:(m=n.options)===null||m===void 0?void 0:m.scopes,queryParams:(y=n.options)===null||y===void 0?void 0:y.queryParams,skipBrowserRedirect:!0});return await se(this.fetch,"GET",b,{headers:this.headers,jwt:(_=(v=S.session)===null||v===void 0?void 0:v.access_token)!==null&&_!==void 0?_:void 0})});if(u)throw u;return lt()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(l==null?void 0:l.url),this._returnResult({data:{provider:n.provider,url:l==null?void 0:l.url},error:null})}catch(l){if(Z(l))return this._returnResult({data:{provider:n.provider,url:null},error:l});throw l}}async linkIdentityIdToken(n){return await this._useSession(async r=>{var l;try{const{error:u,data:{session:d}}=r;if(u)throw u;const{options:f,provider:m,token:y,access_token:v,nonce:_}=n,S=await se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(l=d==null?void 0:d.access_token)!==null&&l!==void 0?l:void 0,body:{provider:m,id_token:y,access_token:v,nonce:_,link_identity:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Zt}),{data:T,error:b}=S;return b?this._returnResult({data:{user:null,session:null},error:b}):!T||!T.session||!T.user?this._returnResult({data:{user:null,session:null},error:new di}):(T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("USER_UPDATED",T.session)),this._returnResult({data:T,error:b}))}catch(u){if(await st(this.storage,`${this.storageKey}-code-verifier`),Z(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}})}async unlinkIdentity(n){try{return await this._useSession(async r=>{var l,u;const{data:d,error:f}=r;if(f)throw f;return await se(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(u=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0})})}catch(r){if(Z(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(n){const r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{const l=Date.now();return await FS(async u=>(u>0&&await ZS(200*Math.pow(2,u-1)),this._debug(r,"refreshing attempt",u),await se(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Zt})),(u,d)=>{const f=200*Math.pow(2,u);return d&&rc(d)&&Date.now()+f-l<pi})}catch(l){if(this._debug(r,"error",l),Z(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}finally{this._debug(r,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,r){const l=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",l),lt()&&!r.skipBrowserRedirect&&window.location.assign(l),{data:{provider:n,url:l},error:null}}async _recoverAndRefresh(){var n,r;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const u=await _a(this.storage,this.storageKey);if(u&&this.userStorage){let f=await _a(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:u.user},await _i(this.userStorage,this.storageKey+"-user",f)),u.user=(n=f==null?void 0:f.user)!==null&&n!==void 0?n:lc()}else if(u&&!u.user&&!u.user){const f=await _a(this.storage,this.storageKey+"-user");f&&(f!=null&&f.user)?(u.user=f.user,await st(this.storage,this.storageKey+"-user"),await _i(this.storage,this.storageKey,u)):u.user=lc()}if(this._debug(l,"session from storage",u),!this._isValidSession(u)){this._debug(l,"session is not valid"),u!==null&&await this._removeSession();return}const d=((r=u.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<ic;if(this._debug(l,`session has${d?"":" not"} expired with margin of ${ic}s`),d){if(this.autoRefreshToken&&u.refresh_token){const{error:f}=await this._callRefreshToken(u.refresh_token);f&&(console.error(f),rc(f)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(u.user&&u.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:m}=await this._getUser(u.access_token);!m&&(f!=null&&f.user)?(u.user=f.user,await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(l,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(l,"error",u),console.error(u);return}finally{this._debug(l,"end")}}async _callRefreshToken(n){var r,l;if(!n)throw new Ut;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new Al;const{data:d,error:f}=await this._refreshAccessToken(n);if(f)throw f;if(!d.session)throw new Ut;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const m={data:d.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(d){if(this._debug(u,"error",d),Z(d)){const f={data:null,error:d};return rc(d)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(f),f}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(d),d}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(n,r,l=!0){const u=`#_notifyAllSubscribers(${n})`;this._debug(u,"begin",r,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:n,session:r});const d=[],f=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(n,r)}catch(y){d.push(y)}});if(await Promise.all(f),d.length>0){for(let m=0;m<d.length;m+=1)console.error(d[m]);throw d[0]}}finally{this._debug(u,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await st(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},n),l=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&r.user&&await _i(this.userStorage,this.storageKey+"-user",{user:r.user});const u=Object.assign({},r);delete u.user;const d=Cy(u);await _i(this.storage,this.storageKey,d)}else{const u=Cy(r);await _i(this.storage,this.storageKey,u)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await st(this.storage,this.storageKey),await st(this.storage,this.storageKey+"-code-verifier"),await st(this.storage,this.storageKey+"-user"),this.userStorage&&await st(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&lt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),pi);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async r=>{const{data:{session:l}}=r;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((l.expires_at*1e3-n)/pi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${pi}ms, refresh threshold is ${xc} ticks`),u<=xc&&await this._callRefreshToken(l.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof xg)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!lt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(n){this._debug("#visibilityChangedCallback","error",n)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,r,l){const u=[`provider=${encodeURIComponent(r)}`];if(l!=null&&l.redirectTo&&u.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l!=null&&l.scopes&&u.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[d,f]=await fi(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(f)}`});u.push(m.toString())}if(l!=null&&l.queryParams){const d=new URLSearchParams(l.queryParams);u.push(d.toString())}return l!=null&&l.skipBrowserRedirect&&u.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${n}?${u.join("&")}`}async _unenroll(n){try{return await this._useSession(async r=>{var l;const{data:u,error:d}=r;return d?this._returnResult({data:null,error:d}):await se(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(l=u==null?void 0:u.session)===null||l===void 0?void 0:l.access_token})})}catch(r){if(Z(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(n){try{return await this._useSession(async r=>{var l,u;const{data:d,error:f}=r;if(f)return this._returnResult({data:null,error:f});const m=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:y,error:v}=await se(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(l=d==null?void 0:d.session)===null||l===void 0?void 0:l.access_token});return v?this._returnResult({data:null,error:v}):(n.factorType==="totp"&&y.type==="totp"&&(!((u=y==null?void 0:y.totp)===null||u===void 0)&&u.qr_code)&&(y.totp.qr_code=`data:image/svg+xml;utf-8,${y.totp.qr_code}`),this._returnResult({data:y,error:null}))})}catch(r){if(Z(r))return this._returnResult({data:null,error:r});throw r}}async _verify(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var l;const{data:u,error:d}=r;if(d)return this._returnResult({data:null,error:d});const f=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?Nw(n.webauthn.credential_response):Rw(n.webauthn.credential_response)})}:{code:n.code}),{data:m,error:y}=await se(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:f,headers:this.headers,jwt:(l=u==null?void 0:u.session)===null||l===void 0?void 0:l.access_token});return y?this._returnResult({data:null,error:y}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),this._returnResult({data:m,error:y}))})}catch(r){if(Z(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var l;const{data:u,error:d}=r;if(d)return this._returnResult({data:null,error:d});const f=await se(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(l=u==null?void 0:u.session)===null||l===void 0?void 0:l.access_token});if(f.error)return f;const{data:m}=f;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:xw(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:Ow(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Z(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(n){const{data:r,error:l}=await this._challenge({factorId:n.factorId});return l?this._returnResult({data:null,error:l}):await this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})}async _listFactors(){var n;const{data:{user:r},error:l}=await this.getUser();if(l)return{data:null,error:l};const u={all:[],phone:[],totp:[],webauthn:[]};for(const d of(n=r==null?void 0:r.factors)!==null&&n!==void 0?n:[])u.all.push(d),d.status==="verified"&&u[d.factor_type].push(d);return{data:u,error:null}}async _getAuthenticatorAssuranceLevel(n){var r,l,u,d;if(n)try{const{payload:b}=ul(n);let E=null;b.aal&&(E=b.aal);let R=E;const{data:{user:O},error:L}=await this.getUser(n);if(L)return this._returnResult({data:null,error:L});((l=(r=O==null?void 0:O.factors)===null||r===void 0?void 0:r.filter(K=>K.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(R="aal2");const H=b.amr||[];return{data:{currentLevel:E,nextLevel:R,currentAuthenticationMethods:H},error:null}}catch(b){if(Z(b))return this._returnResult({data:null,error:b});throw b}const{data:{session:f},error:m}=await this.getSession();if(m)return this._returnResult({data:null,error:m});if(!f)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:y}=ul(f.access_token);let v=null;y.aal&&(v=y.aal);let _=v;((d=(u=f.user.factors)===null||u===void 0?void 0:u.filter(b=>b.status==="verified"))!==null&&d!==void 0?d:[]).length>0&&(_="aal2");const T=y.amr||[];return{data:{currentLevel:v,nextLevel:_,currentAuthenticationMethods:T},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async r=>{const{data:{session:l},error:u}=r;return u?this._returnResult({data:null,error:u}):l?await se(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:l.access_token,xform:d=>({data:d,error:null})}):this._returnResult({data:null,error:new Ut})})}catch(r){if(Z(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(n,r){try{return await this._useSession(async l=>{const{data:{session:u},error:d}=l;if(d)return this._returnResult({data:null,error:d});if(!u)return this._returnResult({data:null,error:new Ut});const f=await se(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"approve"},xform:m=>({data:m,error:null})});return f.data&&f.data.redirect_url&&lt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(f.data.redirect_url),f})}catch(l){if(Z(l))return this._returnResult({data:null,error:l});throw l}}async _denyAuthorization(n,r){try{return await this._useSession(async l=>{const{data:{session:u},error:d}=l;if(d)return this._returnResult({data:null,error:d});if(!u)return this._returnResult({data:null,error:new Ut});const f=await se(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"deny"},xform:m=>({data:m,error:null})});return f.data&&f.data.redirect_url&&lt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(f.data.redirect_url),f})}catch(l){if(Z(l))return this._returnResult({data:null,error:l});throw l}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:r},error:l}=n;return l?this._returnResult({data:null,error:l}):r?await se(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new Ut})})}catch(n){if(Z(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async r=>{const{data:{session:l},error:u}=r;return u?this._returnResult({data:null,error:u}):l?(await se(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ut})})}catch(r){if(Z(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(n,r={keys:[]}){let l=r.keys.find(m=>m.kid===n);if(l)return l;const u=Date.now();if(l=this.jwks.keys.find(m=>m.kid===n),l&&this.jwks_cached_at+kS>u)return l;const{data:d,error:f}=await se(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=u,l=d.keys.find(m=>m.kid===n),!l)?null:l}async getClaims(n,r={}){try{let l=n;if(!l){const{data:b,error:E}=await this.getSession();if(E||!b.session)return this._returnResult({data:null,error:E});l=b.session.access_token}const{header:u,payload:d,signature:f,raw:{header:m,payload:y}}=ul(l);r!=null&&r.allowExpired||sw(d.exp);const v=!u.alg||u.alg.startsWith("HS")||!u.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(u.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!v){const{error:b}=await this.getUser(l);if(b)throw b;return{data:{claims:d,header:u,signature:f},error:null}}const _=rw(u.alg),S=await crypto.subtle.importKey("jwk",v,_,!0,["verify"]);if(!await crypto.subtle.verify(_,S,f,KS(`${m}.${y}`)))throw new Rc("Invalid JWT signature");return{data:{claims:d,header:u,signature:f},error:null}}catch(l){if(Z(l))return this._returnResult({data:null,error:l});throw l}}}Ds.nextInstanceID={};const zw=Ds,Bw="2.95.3";let ws="";typeof Deno<"u"?ws="deno":typeof document<"u"?ws="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ws="react-native":ws="node";const Hw={"X-Client-Info":`supabase-js-${ws}/${Bw}`},Gw={headers:Hw},qw={schema:"public"},Vw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},$w={};function Us(i){"@babel/helpers - typeof";return Us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Us(i)}function Yw(i,n){if(Us(i)!="object"||!i)return i;var r=i[Symbol.toPrimitive];if(r!==void 0){var l=r.call(i,n);if(Us(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(i)}function Kw(i){var n=Yw(i,"string");return Us(n)=="symbol"?n:n+""}function Pw(i,n,r){return(n=Kw(n))in i?Object.defineProperty(i,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[n]=r,i}function ky(i,n){var r=Object.keys(i);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(i);n&&(l=l.filter(function(u){return Object.getOwnPropertyDescriptor(i,u).enumerable})),r.push.apply(r,l)}return r}function ze(i){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?ky(Object(r),!0).forEach(function(l){Pw(i,l,r[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(r)):ky(Object(r)).forEach(function(l){Object.defineProperty(i,l,Object.getOwnPropertyDescriptor(r,l))})}return i}const Jw=i=>i?(...n)=>i(...n):(...n)=>fetch(...n),Xw=()=>Headers,Qw=(i,n,r)=>{const l=Jw(r),u=Xw();return async(d,f)=>{var m;const y=(m=await n())!==null&&m!==void 0?m:i;let v=new u(f==null?void 0:f.headers);return v.has("apikey")||v.set("apikey",i),v.has("Authorization")||v.set("Authorization",`Bearer ${y}`),l(d,ze(ze({},f),{},{headers:v}))}};function Zw(i){return i.endsWith("/")?i:i+"/"}function Fw(i,n){var r,l;const{db:u,auth:d,realtime:f,global:m}=i,{db:y,auth:v,realtime:_,global:S}=n,T={db:ze(ze({},y),u),auth:ze(ze({},v),d),realtime:ze(ze({},_),f),storage:{},global:ze(ze(ze({},S),m),{},{headers:ze(ze({},(r=S==null?void 0:S.headers)!==null&&r!==void 0?r:{}),(l=m==null?void 0:m.headers)!==null&&l!==void 0?l:{})}),accessToken:async()=>""};return i.accessToken?T.accessToken=i.accessToken:delete T.accessToken,T}function Ww(i){const n=i==null?void 0:i.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Zw(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var eT=class extends zw{constructor(i){super(i)}},tT=class{constructor(i,n,r){var l,u;this.supabaseUrl=i,this.supabaseKey=n;const d=Ww(i);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const f=`sb-${d.hostname.split(".")[0]}-auth-token`,m={db:qw,realtime:$w,auth:ze(ze({},Vw),{},{storageKey:f}),global:Gw},y=Fw(r??{},m);if(this.storageKey=(l=y.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(u=y.global.headers)!==null&&u!==void 0?u:{},y.accessToken)this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(_,S)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(S)} is not possible`)}});else{var v;this.auth=this._initSupabaseAuthClient((v=y.auth)!==null&&v!==void 0?v:{},this.headers,y.global.fetch)}this.fetch=Qw(n,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(ze({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(_=>this.realtime.setAuth(_)).catch(_=>console.warn("Failed to set initial Realtime auth token:",_)),this.rest=new BE(new URL("rest/v1",d).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch,timeout:y.db.timeout,urlLengthLimit:y.db.urlLengthLimit}),this.storage=new DS(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new jE(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(i){return this.rest.from(i)}schema(i){return this.rest.schema(i)}rpc(i,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(i,n,r)}channel(i,n={config:{}}){return this.realtime.channel(i,n)}getChannels(){return this.realtime.getChannels()}removeChannel(i){return this.realtime.removeChannel(i)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var i=this,n,r;if(i.accessToken)return await i.accessToken();const{data:l}=await i.auth.getSession();return(n=(r=l.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:i.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:i,persistSession:n,detectSessionInUrl:r,storage:l,userStorage:u,storageKey:d,flowType:f,lock:m,debug:y,throwOnError:v},_,S){const T={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new eT({url:this.authUrl.href,headers:ze(ze({},T),_),storageKey:d,autoRefreshToken:i,persistSession:n,detectSessionInUrl:r,storage:l,userStorage:u,flowType:f,lock:m,debug:y,throwOnError:v,fetch:S,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(i){return new nS(this.realtimeUrl.href,ze(ze({},i),{},{params:ze(ze({},{apikey:this.supabaseKey}),i==null?void 0:i.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,n)=>{this._handleTokenChanged(i,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(i,n,r){(i==="TOKEN_REFRESHED"||i==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):i==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const nT=(i,n,r)=>new tT(i,n,r);function aT(){if(typeof window<"u")return!1;const i=globalThis.process;if(!i)return!1;const n=i.version;if(n==null)return!1;const r=n.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}aT()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const iT="https://eqehfwlwhnhoqnsfcewm.supabase.co",sT="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVxZWhmd2x3aG5ob3Fuc2ZjZXdtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA5MTk0ODgsImV4cCI6MjA4NjQ5NTQ4OH0.1KEFMCJxHZ4yxhrSXs2Jn7ebvAthZnZXr1VFrXKHE2k",Be=nT(iT,sT),rT=async i=>{const{data:n,error:r}=await Be.from("users").upsert({id:i.id,username:i.username,avatar:i.avatar||null,status:i.status}).select().single();if(r)throw r;return n},lT=async(i,n)=>{const{data:r,error:l}=await Be.from("servers").insert({id:i.id,name:i.name,icon:i.icon||null,password:i.password||null,owner_id:n}).select().single();if(l)throw l;for(const u of i.roles)await Be.from("roles").insert({id:u.id,server_id:i.id,name:u.name,color:u.color,permissions:u.permissions,position:u.position});for(const u of i.channels)await Be.from("channels").insert({id:u.id,server_id:i.id,name:u.name,type:u.type,position:i.channels.indexOf(u)});return await Be.from("server_members").insert({server_id:i.id,user_id:n,roles:i.members[0].roles}),r},oT=async i=>{const{data:n,error:r}=await Be.from("servers").select("*").eq("name",i).maybeSingle();if(r)throw r;if(!n)return null;const{data:l}=await Be.from("channels").select("*").eq("server_id",n.id).order("position"),{data:u}=await Be.from("roles").select("*").eq("server_id",n.id).order("position"),{data:d}=await Be.from("server_members").select("*, users(username, avatar)").eq("server_id",n.id),f=(l||[]).map(v=>({id:v.id,name:v.name,type:v.type,messages:[]})),m=(u||[]).map(v=>({id:v.id,name:v.name,color:v.color,permissions:v.permissions,position:v.position})),y=(d||[]).map(v=>{var _,S;return{userId:v.user_id,username:((_=v.users)==null?void 0:_.username)||"Unknown",avatar:((S=v.users)==null?void 0:S.avatar)||"",roles:v.roles}});return{id:n.id,name:n.name,icon:n.icon,password:n.password,ownerId:n.owner_id,channels:f,roles:m,members:y}},uT=async(i,n,r=["r-everyone"])=>{const{data:l,error:u}=await Be.from("server_members").insert({server_id:i,user_id:n,roles:r}).select();if(u)throw u;return l},cT=async i=>{const{data:n,error:r}=await Be.from("server_members").select("server_id").eq("user_id",i);if(r)throw r;if(!n||n.length===0)return[];const l=n.map(m=>m.server_id),{data:u,error:d}=await Be.from("servers").select("*").in("id",l);if(d)throw d;if(!u)return[];const f=[];for(const m of u){const{data:y}=await Be.from("channels").select("*").eq("server_id",m.id).order("position"),{data:v}=await Be.from("roles").select("*").eq("server_id",m.id).order("position"),{data:_}=await Be.from("server_members").select("*, users(username, avatar)").eq("server_id",m.id),S=(y||[]).map(E=>({id:E.id,name:E.name,type:E.type,messages:[]}));for(const E of S)if(E.type==="text"){const{data:R}=await Be.from("messages").select("*, users(username, avatar)").eq("channel_id",E.id).order("created_at",{ascending:!0}).limit(100);E.messages=(R||[]).map(O=>{var L,G;return{id:O.id,channelId:O.channel_id,content:O.content,senderId:O.user_id,senderName:((L=O.users)==null?void 0:L.username)||"Unknown",senderAvatar:(G=O.users)==null?void 0:G.avatar,timestamp:new Date(O.created_at).getTime(),isSystem:O.is_system}})}const T=(v||[]).map(E=>({id:E.id,name:E.name,color:E.color,permissions:E.permissions,position:E.position})),b=(_||[]).map(E=>{var R,O;return{userId:E.user_id,username:((R=E.users)==null?void 0:R.username)||"Unknown",avatar:((O=E.users)==null?void 0:O.avatar)||"",roles:E.roles}});f.push({id:m.id,name:m.name,icon:m.icon,password:m.password,ownerId:m.owner_id,channels:S,roles:T,members:b})}return f},dT=async i=>{const{data:n,error:r}=await Be.from("messages").insert({id:i.id,channel_id:i.channelId,user_id:i.senderId,content:i.content,is_system:i.isSystem||!1}).select().single();if(r)throw r;return n},fT=(i,n)=>Be.channel(`channel-${i}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`channel_id=eq.${i}`},async l=>{const u=l.new,{data:d}=await Be.from("users").select("username, avatar").eq("id",u.user_id).maybeSingle(),f={id:u.id,channelId:u.channel_id,content:u.content,senderId:u.user_id,senderName:(d==null?void 0:d.username)||"Unknown",senderAvatar:d==null?void 0:d.avatar,timestamp:new Date(u.created_at||Date.now()).getTime(),isSystem:u.is_system};n(f)}).subscribe(),zy=i=>{Be.removeChannel(i)},hT=(i,n)=>Be.channel(`server-members-${i}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"server_members",filter:`server_id=eq.${i}`},async l=>{const u=l.new,{data:d}=await Be.from("users").select("username, avatar").eq("id",u.user_id).maybeSingle(),f={userId:u.user_id,username:(d==null?void 0:d.username)||"Unknown",avatar:(d==null?void 0:d.avatar)||"",roles:u.roles};n(f)}).subscribe();function mT(){const[i,n]=W.useState(null),[r,l]=W.useState([]),[u,d]=W.useState(null),[f,m]=W.useState(null),[y,v]=W.useState(!1),[_,S]=W.useState(!0),[T,b]=W.useState(!1),[E,R]=W.useState(!1),[O,L]=W.useState(!0),[G,H]=W.useState(100),[K,fe]=W.useState(100),[ne,X]=W.useState(!1),[oe,de]=W.useState(!1),[Pt,mt]=W.useState(!1),[Ve,St]=W.useState(!1),ut=W.useRef(new Map),Ze=W.useRef(new Map),I=async Y=>{try{const P=await cT(Y);l(P),P.length>0&&!u&&(d(P[0].id),m(P[0].channels[0].id))}catch(P){console.error("Failed to load servers:",P)}};W.useEffect(()=>{const Y=localStorage.getItem("discordia_user");if(Y){const P=JSON.parse(Y);n(P),I(P.id)}S(!1)},[]),W.useEffect(()=>{const Y=P=>{const{channelId:ie,content:ge}=P.detail,He={id:Ta()};ee(ie,ge,He.id,!0)};return window.addEventListener("gemini-response",Y),()=>window.removeEventListener("gemini-response",Y)},[i]),W.useEffect(()=>{if(!f)return;if(console.log(`Subscribing to channel: ${f}`),ut.current.get(f)){console.log(`Already subscribed to channel: ${f}`);return}const P=fT(f,ie=>{console.log("New message received:",ie),l(ge=>ge.map(He=>He.channels.find(Mt=>Mt.id===ie.channelId)?{...He,channels:He.channels.map(Mt=>{var Ai;return Mt.id===ie.channelId?(Ai=Mt.messages)!=null&&Ai.find(rn=>rn.id===ie.id)?Mt:{...Mt,messages:[...Mt.messages||[],ie]}:Mt})}:He))});return ut.current.set(f,P),()=>{console.log(`Unsubscribing from channel: ${f}`),P&&(zy(P),ut.current.delete(f))}},[f]),W.useEffect(()=>{if(!u)return;if(console.log(`Subscribing to server members: ${u}`),Ze.current.get(u)){console.log(`Already subscribed to server members: ${u}`);return}const P=hT(u,ie=>{console.log("New member joined:",ie),l(ge=>ge.map(He=>He.id!==u||He.members.find(sn=>sn.userId===ie.userId)?He:{...He,members:[...He.members,ie]}))});return Ze.current.set(u,P),()=>{console.log(`Unsubscribing from server members: ${u}`),P&&(zy(P),Ze.current.delete(u))}},[u]);const q=async Y=>{try{await rT(Y),n(Y),localStorage.setItem("discordia_user",JSON.stringify(Y)),await I(Y.id)}catch(P){console.error("Failed to login:",P),alert("Login failed. Please try again.")}},ee=async(Y,P,ie,ge)=>{if(!i)return;const He={id:ie||Ta(),channelId:Y,content:P,senderId:i.id,senderName:i.username,senderAvatar:i.avatar,timestamp:Date.now(),isSystem:ge||!1};try{await dT(He)}catch(sn){console.error("Failed to send message:",sn)}},Se=async({name:Y,password:P})=>{if(!i)return;const ie={id:Ta(),name:Y,password:P,ownerId:i.id,channels:xE().map(ge=>({...ge,id:Ta(),messages:[]})),roles:OE(),members:[{userId:i.id,username:i.username,avatar:i.avatar||"",roles:["r-admin"]}]};try{await lT(ie,i.id),await I(i.id),d(ie.id),m(ie.channels[0].id)}catch(ge){console.error("Failed to create server:",ge),alert("Failed to create server. Please try again.")}},Te=Y=>{const P=r.map(ie=>ie.id===Y.id?Y:ie);l(P)},x=async({name:Y,password:P})=>{if(i)try{const ie=await oT(Y);if(!ie){alert("Server not found.");return}if(ie.password&&ie.password!==P){alert("Incorrect password!");return}ie.members.find(ge=>ge.userId===i.id)||(await uT(ie.id,i.id),await I(i.id)),d(ie.id),m(ie.channels[0].id)}catch(ie){console.error("Failed to join server:",ie),alert("Failed to join server. Please try again.")}},B=()=>{b(!T)},V=()=>{E?(R(!1),b(!1)):(R(!0),b(!0))};if(_)return g.jsxs("div",{className:"w-full h-screen bg-discord-dark flex flex-col items-center justify-center text-white",children:[g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-discord-blurple mb-4"}),g.jsx("p",{className:"font-bold text-lg animate-pulse",children:"Loading Discordia..."})]});if(!i)return g.jsx(fE,{onLogin:q});const $=r.find(Y=>Y.id===u),ae=$==null?void 0:$.channels.find(Y=>Y.id===f);return g.jsxs("div",{className:"flex w-full h-screen overflow-hidden",children:[g.jsx(gb,{servers:r,activeServerId:u,onSelectServer:Y=>{d(Y);const P=r.find(ie=>ie.id===Y);P&&m(P.channels[0].id),v(!1)},onCreateServer:()=>X(!0),onJoinServer:()=>de(!0)}),$?g.jsx(pb,{server:$,activeChannelId:f,currentUser:i,onSelectChannel:Y=>{const P=$.channels.find(ie=>ie.id===Y);m(Y),(P==null?void 0:P.type)==="voice"?v(!0):v(!1)},isMuted:T,toggleMute:B,isDeafened:E,toggleDeafen:V,onOpenSettings:()=>mt(!0),onOpenServerSettings:()=>St(!0)}):g.jsx("div",{className:"w-60 bg-discord-light border-r border-discord-darker"}),g.jsxs("div",{className:"flex-1 flex flex-col min-w-0 bg-discord-dark",children:[ae&&!y&&ae.type==="text"&&g.jsx(aE,{channel:ae,currentUser:i,onSendMessage:ee,messages:ae.messages||[]}),ae&&y&&ae.type==="voice"&&g.jsx(iE,{channel:ae,currentUser:i,onLeave:()=>{v(!1);const Y=$==null?void 0:$.channels.find(P=>P.type==="text");Y&&m(Y.id)},isMuted:T,toggleMute:B,isDeafened:E,toggleDeafen:V,noiseSuppression:O,inputVolume:G,outputVolume:K}),!$&&g.jsx("div",{className:"flex-1 flex items-center justify-center text-discord-textMuted",children:"Select a server to start chatting."})]}),g.jsx(rE,{isOpen:ne,onClose:()=>X(!1),onSubmit:Se}),g.jsx(lE,{isOpen:oe,onClose:()=>de(!1),onSubmit:x}),g.jsx(sE,{isOpen:Pt,onClose:()=>mt(!1),noiseSuppression:O,onToggleNoiseSuppression:L,inputVolume:G,setInputVolume:H,outputVolume:K,setOutputVolume:fe}),$&&g.jsx(cE,{isOpen:Ve,server:$,onClose:()=>St(!1),onUpdateServer:Te})]})}const Rg=document.getElementById("root");if(!Rg)throw new Error("Could not find root element to mount to");const vT=c_.createRoot(Rg);vT.render(g.jsx(n_.StrictMode,{children:g.jsx(mT,{})}));
